{"version":3,"file":"plugin.js","mappings":"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","sources":["webpack://inet-henge/webpack/universalModuleDefinition","webpack://inet-henge/./src/meta_data.ts","webpack://inet-henge/./src/node.ts","webpack://inet-henge/./src/util.ts","webpack://inet-henge/external umd \"d3\"","webpack://inet-henge/webpack/bootstrap","webpack://inet-henge/webpack/runtime/compat get default export","webpack://inet-henge/webpack/runtime/define property getters","webpack://inet-henge/webpack/runtime/hasOwnProperty shorthand","webpack://inet-henge/webpack/runtime/make namespace object","webpack://inet-henge/./plugins/removable_node/src/plugin.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\")) : factory(root[\"d3\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, (__WEBPACK_EXTERNAL_MODULE_d3__) => {\nreturn ","export type MetaDataType = { class: string; value: any }; // eslint-disable-line @typescript-eslint/no-explicit-any\n\nexport class MetaData {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(private data: Record<string, any>, private extraKey?: string) {}\n\n  get(keys: string[]): MetaDataType[] {\n    return this.slice(keys).filter((k) => typeof k.value === \"string\");\n  }\n\n  slice(keys: string[]): MetaDataType[] {\n    if (!this.data) return [];\n\n    if (this.extraKey) return this.sliceWithExtraKey(keys);\n    else return this.sliceWithoutExtraKey(keys);\n  }\n\n  sliceWithExtraKey(keys: string[]): MetaDataType[] {\n    const data = [];\n\n    keys.forEach((k) => {\n      if (this.data[k] && this.data[k][this.extraKey]) data.push({ class: k, value: this.data[k][this.extraKey] });\n    });\n\n    return data;\n  }\n\n  sliceWithoutExtraKey(keys: string[]): MetaDataType[] {\n    const data = [];\n\n    keys.forEach((k) => {\n      if (this.data[k]) data.push({ class: k, value: this.data[k] });\n    });\n\n    return data;\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { Color } from \"./diagram\";\nimport { MetaData, MetaDataType } from \"./meta_data\";\nimport { NodePosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type Constructor = (data: NodeDataType, id: number, options: NodeOptions) => void;\n\nexport type NodeDataType = {\n  name: string;\n  group: string[];\n  icon: string;\n  meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  class: string;\n};\n\nexport type NodeOptions = {\n  width: number;\n  height: number;\n  metaKeys: string[];\n  color: Color;\n  tooltip: boolean;\n};\n\nclass NodeBase {\n  private static all: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  public name: string;\n  public group: string[];\n  public metaList: MetaDataType[];\n  public meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  public x: number;\n  public y: number;\n\n  private icon: string;\n  private extraClass: string;\n  private width: number;\n  private height: number;\n  private padding: number;\n  private tspanOffset: string;\n\n  constructor(data: NodeDataType, public id: number, private options: NodeOptions) {\n    this.name = data.name;\n    this.group = typeof data.group === \"string\" ? [data.group] : data.group || [];\n    this.icon = data.icon;\n    this.metaList = new MetaData(data.meta).get(options.metaKeys);\n    this.meta = data.meta;\n    this.extraClass = data.class || \"\";\n\n    this.width = options.width || 60;\n    this.height = options.height || 40;\n    this.padding = 3;\n    this.tspanOffset = \"1.1em\";\n\n    this.register(id, data.name);\n  }\n\n  register(id: number, name: string): void {\n    Node.all = Node.all || {};\n    Node.all[name] = id;\n  }\n\n  transform(): string {\n    const x = this.x - this.width / 2 + this.padding;\n    const y = this.y - this.height / 2 + this.padding;\n    return `translate(${x}, ${y})`;\n  }\n\n  nodeWidth(): number {\n    return this.width - 2 * this.padding;\n  }\n\n  nodeHeight(): number {\n    return this.height - 2 * this.padding;\n  }\n\n  xForText(): number {\n    return this.width / 2;\n  }\n\n  yForText(): number {\n    return this.height / 2;\n  }\n\n  static idByName(name: string): number {\n    if (Node.all[name] === undefined) throw `Unknown node \"${name}\"`;\n    return Node.all[name];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render(layer: d3.Selection<any>, nodes: Node[]): d3.Selection<Node> {\n    const node = layer\n      .selectAll(\".node\")\n      .data(nodes)\n      .enter()\n      .append(\"g\")\n      .attr(\"id\", (d) => classify(d.name))\n      .attr(\"name\", (d) => d.name)\n      .attr(\"transform\", (d) => d.transform());\n\n    node.each(function (this: SVGGElement, d) {\n      if (d.icon) Node.appendImage(this);\n      else Node.appendRect(this);\n\n      Node.appendText(this);\n    });\n\n    return node;\n  }\n\n  private static appendText(container: SVGGElement): void {\n    const text = (d3.select(container) as d3.Selection<Node>)\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", (d) => d.xForText())\n      .attr(\"y\", (d) => d.yForText());\n    text\n      .append(\"tspan\")\n      .text((d) => d.name)\n      .attr(\"x\", (d) => d.xForText());\n\n    text.each((d) => {\n      // Show meta only when \"tooltip\" option is not configured\n      if (!d.options.tooltip) {\n        Node.appendTspans(text, d.metaList);\n      }\n    });\n  }\n\n  private static appendTspans(container: d3.Selection<Node>, meta: MetaDataType[]): void {\n    meta.forEach((m) => {\n      container\n        .append(\"tspan\")\n        .attr(\"x\", (d) => d.xForText())\n        .attr(\"dy\", (d) => d.tspanOffset)\n        .attr(\"class\", m.class)\n        .text(m.value);\n    });\n  }\n\n  private static appendImage(container: SVGGElement): void {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node image ${classify(d.name)} ${d.extraClass}`)\n      .append(\"image\")\n      .attr(\"xlink:href\", (d) => d.icon)\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight());\n  }\n\n  private static appendRect(container: SVGGElement): void {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node rect ${classify(d.name)} ${d.extraClass}`)\n      .append(\"rect\")\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight())\n      .attr(\"rx\", 5)\n      .attr(\"ry\", 5)\n      .style(\"fill\", (d) => d.options.color(undefined));\n  }\n\n  static tick(node: d3.Selection<Node>): void {\n    node.attr(\"transform\", (d) => d.transform());\n  }\n\n  static setPosition(node: d3.Selection<Node>, position: NodePosition[]): void {\n    node.attr(\"transform\", (d, i) => {\n      if (\n        position[i]?.x !== null &&\n        position[i]?.x !== undefined &&\n        position[i]?.y !== null &&\n        position[i]?.y !== undefined\n      ) {\n        d.x = position[i].x;\n        d.y = position[i].y;\n      }\n      return d.transform();\n    });\n  }\n\n  static reset(): void {\n    Node.all = null;\n  }\n}\n\nconst Eventable = (Base: typeof NodeBase) => {\n  class EventableNode extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    static render(layer, nodes) {\n      const node = super.render(layer, nodes);\n\n      node.each(function (this: SVGGElement, d: Node & EventableNode) {\n        d.dispatch.rendered(this);\n      });\n\n      return node;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any): void {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableNode;\n};\n\nconst Pluggable = (Base: typeof NodeBase) => {\n  class Node extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      for (const constructor of Node.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(data, id, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor): void {\n      Node.pluginConstructors.push(func);\n    }\n  }\n\n  return Node;\n};\n\nclass EventableNode extends Eventable(NodeBase) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Node extends Pluggable(EventableNode) {}\n\nexport { Node };\n","export function classify(string: string): string {\n  return string.replace(\" \", \"-\").toLowerCase();\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_d3__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as d3 from \"d3\";\n\nimport { Constructor as NodeConstructor, Node, NodeDataType, NodeOptions } from \"../../../src/node\";\nimport { PluginClass } from \"../../../src/plugin\";\nimport { classify } from \"../../../src/util\";\n\ntype Options = {\n  showKey?: string;\n  hideKey?: string;\n};\n\nclass RemovableNode extends Node {\n  public selected;\n\n  public toggleSelected(): void {\n    this.selected = !this.selected;\n  }\n\n  public reset(): void {\n    this.selected = false;\n  }\n\n  public textColor(): string {\n    return this.selected ? \"red\" : \"black\";\n  }\n}\n\nexport const RemovableNodePlugin: PluginClass = class RemovableNodePlugin {\n  private static showKey = \"Escape\";\n  private static hideKey = \"d\";\n\n  static load(Group, Node, Link, options: Options = {}): void {\n    if (options.showKey) {\n      RemovableNodePlugin.showKey = options.showKey;\n    }\n    if (options.hideKey) {\n      RemovableNodePlugin.hideKey = options.hideKey;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Node.registerConstructor(function (data: NodeDataType, id: number, options: NodeOptions) {\n      this.selected = false;\n\n      this.on(\"rendered\", (element: SVGGElement) => {\n        RemovableNodePlugin.configureRemovableNode(element);\n      });\n    } as NodeConstructor);\n\n    RemovableNodePlugin.configureRemovableNodes();\n\n    // Copy methods\n    Node.prototype.toggleSelected = RemovableNode.prototype.toggleSelected;\n    Node.prototype.reset = RemovableNode.prototype.reset;\n    Node.prototype.textColor = RemovableNode.prototype.textColor;\n  }\n\n  /**\n   * Configure keyboard event listener to show or hide Nodes and Links\n   */\n  private static configureRemovableNodes(): void {\n    d3.select(\"body\").on(\"keydown\", () => {\n      switch ((d3.event as KeyboardEvent).key) {\n        case RemovableNodePlugin.showKey:\n          RemovableNodePlugin.show();\n          break;\n        case RemovableNodePlugin.hideKey:\n          RemovableNodePlugin.hide();\n      }\n    });\n  }\n\n  /**\n   * Configure click event listener to select Nodes\n   */\n  private static configureRemovableNode(element: SVGGElement): void {\n    const d3Element = d3.select(element);\n    d3Element.on(\"click.removableNode\", function (this: SVGGElement, d: RemovableNode) {\n      // Do nothing for dragging\n      if ((d3.event as MouseEvent).defaultPrevented) {\n        return;\n      }\n\n      d.toggleSelected();\n      RemovableNodePlugin.applyColor(this);\n    });\n  }\n\n  private static applyColor(element: SVGGElement): void {\n    d3.select(element)\n      .select(\"text tspan\")\n      .style(\"fill\", (d: RemovableNode) => d.textColor());\n  }\n\n  private static show(): void {\n    d3.selectAll(\".node\")\n      .style(\"display\", \"inline\")\n      .each(function (this: SVGGElement, d: RemovableNode) {\n        d.reset();\n        RemovableNodePlugin.applyColor(this);\n      });\n\n    RemovableNodePlugin.showLinks();\n  }\n\n  private static hide(): void {\n    d3.selectAll(\".node\").style(\"display\", (d: RemovableNode) => {\n      if (d.selected) {\n        // Hide connected elements\n        RemovableNodePlugin.hideLinks(d.name);\n        RemovableNodePlugin.hideToolTips(d.name);\n        return \"none\";\n      }\n\n      return \"inline\";\n    });\n  }\n\n  private static showLinks(): void {\n    d3.selectAll(`.link`).style(\"display\", \"inline\");\n  }\n\n  private static hideLinks(nodeName: string): void {\n    d3.selectAll(`.link.${classify(nodeName)}`).style(\"display\", \"none\");\n  }\n\n  private static hideToolTips(nodeName: string): void {\n    d3.selectAll(`.tooltip.${classify(nodeName)}`).attr(\"visibility\", \"hidden\");\n  }\n};\n\nexport default RemovableNodePlugin;\n"],"names":[],"sourceRoot":""}