{"version":3,"file":"plugin.min.js","mappings":"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","sources":["webpack://inet-henge/webpack/universalModuleDefinition","webpack://inet-henge/external umd \"d3\"","webpack://inet-henge/webpack/bootstrap","webpack://inet-henge/webpack/runtime/define property getters","webpack://inet-henge/webpack/runtime/hasOwnProperty shorthand","webpack://inet-henge/webpack/runtime/make namespace object","webpack://inet-henge/./src/meta_data.ts","webpack://inet-henge/./src/util.ts","webpack://inet-henge/./src/node.ts","webpack://inet-henge/./src/link.ts","webpack://inet-henge/./plugins/arrows_link/src/plugin.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\")) : factory(root[\"d3\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, (__WEBPACK_EXTERNAL_MODULE__990__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__990__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export type MetaDataType = { class: string; value: any }; // eslint-disable-line @typescript-eslint/no-explicit-any\n\nexport class MetaData {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(private data: Record<string, any>, private extraKey?: string) {}\n\n  get(keys: string[]): MetaDataType[] {\n    return this.slice(keys).filter((k) => typeof k.value === \"string\");\n  }\n\n  slice(keys: string[]): MetaDataType[] {\n    if (!this.data) return [];\n\n    if (this.extraKey) return this.sliceWithExtraKey(keys);\n    else return this.sliceWithoutExtraKey(keys);\n  }\n\n  sliceWithExtraKey(keys: string[]): MetaDataType[] {\n    const data = [];\n\n    keys.forEach((k) => {\n      if (this.data[k] && this.data[k][this.extraKey]) data.push({ class: k, value: this.data[k][this.extraKey] });\n    });\n\n    return data;\n  }\n\n  sliceWithoutExtraKey(keys: string[]): MetaDataType[] {\n    const data = [];\n\n    keys.forEach((k) => {\n      if (this.data[k]) data.push({ class: k, value: this.data[k] });\n    });\n\n    return data;\n  }\n}\n","export function classify(string: string): string {\n  return string.replace(\" \", \"-\").toLowerCase();\n}\n","import * as d3 from \"d3\";\n\nimport { MetaData, MetaDataType } from \"./meta_data\";\nimport { NodePosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type Constructor = (data: NodeDataType, id: number, options: NodeOptions) => void;\n\nexport type NodeDataType = {\n  name: string;\n  group: string[];\n  icon: string;\n  meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  class: string;\n};\n\nexport type NodeOptions = {\n  width: number;\n  height: number;\n  metaKeys: string[];\n  // Fix @types/d3/index.d.ts. Should be \"d3.scale.Ordinal<number, string>\" but \"d3.scale.Ordinal<string, string>\" somehow\n  // Also, it should have accepted undefined\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  color: any;\n  tooltip: boolean;\n};\n\nclass NodeBase {\n  private static all: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  public name: string;\n  public group: string[];\n  public metaList: MetaDataType[];\n  public meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  public x: number;\n  public y: number;\n\n  private icon: string;\n  private extraClass: string;\n  private width: number;\n  private height: number;\n  private padding: number;\n  private tspanOffset: string;\n\n  constructor(data: NodeDataType, public id: number, private options: NodeOptions) {\n    this.name = data.name;\n    this.group = typeof data.group === \"string\" ? [data.group] : data.group || [];\n    this.icon = data.icon;\n    this.metaList = new MetaData(data.meta).get(options.metaKeys);\n    this.meta = data.meta;\n    this.extraClass = data.class || \"\";\n\n    this.width = options.width || 60;\n    this.height = options.height || 40;\n    this.padding = 3;\n    this.tspanOffset = \"1.1em\";\n\n    this.register(id, data.name);\n  }\n\n  register(id: number, name: string): void {\n    Node.all = Node.all || {};\n    Node.all[name] = id;\n  }\n\n  transform(): string {\n    const x = this.x - this.width / 2 + this.padding;\n    const y = this.y - this.height / 2 + this.padding;\n    return `translate(${x}, ${y})`;\n  }\n\n  nodeWidth(): number {\n    return this.width - 2 * this.padding;\n  }\n\n  nodeHeight(): number {\n    return this.height - 2 * this.padding;\n  }\n\n  xForText(): number {\n    return this.width / 2;\n  }\n\n  yForText(): number {\n    return this.height / 2;\n  }\n\n  static idByName(name: string): number {\n    if (Node.all[name] === undefined) throw `Unknown node \"${name}\"`;\n    return Node.all[name];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render(layer: d3.Selection<any>, nodes: Node[]): d3.Selection<Node> {\n    const node = layer\n      .selectAll(\".node\")\n      .data(nodes)\n      .enter()\n      .append(\"g\")\n      .attr(\"id\", (d) => classify(d.name))\n      .attr(\"name\", (d) => d.name)\n      .attr(\"transform\", (d) => d.transform());\n\n    node.each(function (this: SVGGElement, d) {\n      if (d.icon) Node.appendImage(this);\n      else Node.appendRect(this);\n\n      Node.appendText(this);\n    });\n\n    return node;\n  }\n\n  private static appendText(container: SVGGElement): void {\n    const text = (d3.select(container) as d3.Selection<Node>)\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", (d) => d.xForText())\n      .attr(\"y\", (d) => d.yForText());\n    text\n      .append(\"tspan\")\n      .text((d) => d.name)\n      .attr(\"x\", (d) => d.xForText());\n\n    text.each((d) => {\n      // Show meta only when \"tooltip\" option is not configured\n      if (!d.options.tooltip) {\n        Node.appendTspans(text, d.metaList);\n      }\n    });\n  }\n\n  private static appendTspans(container: d3.Selection<Node>, meta: MetaDataType[]): void {\n    meta.forEach((m) => {\n      container\n        .append(\"tspan\")\n        .attr(\"x\", (d) => d.xForText())\n        .attr(\"dy\", (d) => d.tspanOffset)\n        .attr(\"class\", m.class)\n        .text(m.value);\n    });\n  }\n\n  private static appendImage(container: SVGGElement): void {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node image ${classify(d.name)} ${d.extraClass}`)\n      .append(\"image\")\n      .attr(\"xlink:href\", (d) => d.icon)\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight());\n  }\n\n  private static appendRect(container: SVGGElement): void {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node rect ${classify(d.name)} ${d.extraClass}`)\n      .append(\"rect\")\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight())\n      .attr(\"rx\", 5)\n      .attr(\"ry\", 5)\n      .style(\"fill\", (d) => d.options.color());\n  }\n\n  static tick(node: d3.Selection<Node>): void {\n    node.attr(\"transform\", (d) => d.transform());\n  }\n\n  static setPosition(node: d3.Selection<Node>, position: NodePosition[]): void {\n    node.attr(\"transform\", (d, i) => {\n      d.x = position[i].x;\n      d.y = position[i].y;\n      return d.transform();\n    });\n  }\n\n  static reset(): void {\n    Node.all = null;\n  }\n}\n\nconst Eventable = (Base: typeof NodeBase) => {\n  class EventableNode extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    static render(layer, nodes) {\n      const node = super.render(layer, nodes);\n\n      node.each(function (this: SVGGElement, d: Node & EventableNode) {\n        d.dispatch.rendered(this);\n      });\n\n      return node;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any): void {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableNode;\n};\n\nconst Pluggable = (Base: typeof NodeBase) => {\n  class Node extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      for (const constructor of Node.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(data, id, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor): void {\n      Node.pluginConstructors.push(func);\n    }\n  }\n\n  return Node;\n};\n\nclass EventableNode extends Eventable(NodeBase) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Node extends Pluggable(EventableNode) {}\n\nexport { Node };\n","import * as d3 from \"d3\";\n\nimport { MetaData, MetaDataType } from \"./meta_data\";\nimport { Node } from \"./node\";\nimport { LinkPosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\nexport type Constructor = (data: LinkDataType, id: number, metaKeys: string[], linkWidth: (object) => number) => void;\n\nexport type LinkDataType = {\n  source: string;\n  target: string;\n  meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  class: string;\n};\n\nexport class LinkBase {\n  private static groups: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  protected readonly source: number | Node;\n  protected readonly target: number | Node;\n  private readonly metaList: MetaDataType[];\n  private readonly sourceMeta: MetaDataType[];\n  private readonly targetMeta: MetaDataType[];\n  private readonly extraClass: string;\n  private width: number;\n  private readonly defaultMargin: number;\n  private readonly labelXOffset: number;\n  private readonly labelYOffset: number;\n  private color: string;\n  private _margin: number;\n\n  constructor(data: LinkDataType, public id: number, metaKeys: string[], linkWidth: (object) => number) {\n    this.source = Node.idByName(data.source);\n    this.target = Node.idByName(data.target);\n    this.metaList = new MetaData(data.meta).get(metaKeys);\n    this.sourceMeta = new MetaData(data.meta, \"source\").get(metaKeys);\n    this.targetMeta = new MetaData(data.meta, \"target\").get(metaKeys);\n    this.extraClass = data.class || \"\";\n\n    if (typeof linkWidth === \"function\") this.width = linkWidth(data.meta) || 3;\n    else this.width = linkWidth || 3;\n\n    this.defaultMargin = 15;\n    this.labelXOffset = 20;\n    this.labelYOffset = 1.5; // em\n    this.color = \"#7a4e4e\";\n\n    this.register(id, this.source, this.target);\n  }\n\n  isNamedPath(): boolean {\n    return this.metaList.length > 0;\n  }\n\n  isReversePath(): boolean {\n    return this.targetMeta.length > 0;\n  }\n\n  d(): string {\n    return `M ${(this.source as Node).x} ${(this.source as Node).y} L ${(this.target as Node).x} ${\n      (this.target as Node).y\n    }`;\n  }\n\n  pathId(): string {\n    return `path${this.id}`;\n  }\n\n  linkId(): string {\n    return `link${this.id}`;\n  }\n\n  margin(): number {\n    if (!this._margin) {\n      const margin = window.getComputedStyle(document.getElementById(this.linkId())).margin;\n\n      // NOTE: Assuming that window.getComputedStyle() returns some value link \"10px\"\n      // or \"0px\" even when not defined in .css\n      if (!margin || margin === \"0px\") {\n        this._margin = this.defaultMargin;\n      } else {\n        this._margin = parseInt(margin);\n      }\n    }\n\n    return this._margin;\n  }\n\n  // OPTIMIZE: Implement better right-alignment of the path, especially for multi tspans\n  tspanXOffset(): number {\n    if (this.isNamedPath()) return 0;\n    else if (this.isReversePath()) return -this.labelXOffset;\n    else return this.labelXOffset;\n  }\n\n  tspanYOffset(): string {\n    if (this.isNamedPath()) return `${-this.labelYOffset + 0.7}em`;\n    else return `${this.labelYOffset}em`;\n  }\n\n  rotate(bbox: SVGRect): string {\n    if ((this.source as Node).x > (this.target as Node).x)\n      return `rotate(180 ${bbox.x + bbox.width / 2} ${bbox.y + bbox.height / 2})`;\n    else return \"rotate(0)\";\n  }\n\n  split(): Record<string, any>[] {\n    // eslint-disable-line @typescript-eslint/no-explicit-any\n    if (!this.metaList && !this.sourceMeta && !this.targetMeta) return [this];\n\n    const meta = [];\n    [\"metaList\", \"sourceMeta\", \"targetMeta\"].forEach((key, i, keys) => {\n      if (this[key]) {\n        const duped = Object.assign(Object.create(this), this);\n\n        keys.filter((k) => k !== key).forEach((k) => (duped[k] = []));\n        meta.push(duped);\n      }\n    });\n\n    return meta;\n  }\n\n  hasMeta(): boolean {\n    return this.metaList.length > 0 || this.sourceMeta.length > 0 || this.targetMeta.length > 0;\n  }\n\n  class(): string {\n    // eslint-disable-next-line max-len\n    return `link ${classify((this.source as Node).name)} ${classify((this.target as Node).name)} ${classify(\n      (this.source as Node).name,\n    )}-${classify((this.target as Node).name)} ${this.extraClass}`;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render(\n    linkLayer: d3.Selection<any>,\n    labelLayer: d3.Selection<any>,\n    links: Link[],\n  ): [d3.Selection<Link>, d3.Selection<Link>, d3.Selection<any>] {\n    // Render lines\n    const pathGroup = linkLayer\n      .selectAll(\".link\")\n      .data(links)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const link = pathGroup\n      .append(\"line\")\n      .attr(\"x1\", (d) => (d.source as Node).x)\n      .attr(\"y1\", (d) => (d.source as Node).y)\n      .attr(\"x2\", (d) => (d.target as Node).x)\n      .attr(\"y2\", (d) => (d.target as Node).y)\n      .attr(\"stroke\", (d) => d.color)\n      .attr(\"stroke-width\", (d) => d.width)\n      .attr(\"id\", (d) => d.linkId())\n      .on(\"mouseover.line\", (d) => textGroup.selectAll(`text.${d.pathId()}`).classed(\"hover\", true))\n      .on(\"mouseout.line\", (d) => textGroup.selectAll(`text.${d.pathId()}`).classed(\"hover\", false));\n\n    const path = pathGroup\n      .append(\"path\")\n      .attr(\"d\", (d) => d.d())\n      .attr(\"id\", (d) => d.pathId());\n\n    // Render texts\n    const textGroup = labelLayer\n      .selectAll(\".link\")\n      .data(links)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const text = textGroup\n      .selectAll(\"text\")\n      .data((d: Link) => d.split().filter((l: Link) => l.hasMeta()))\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", (d: Link) => d.pathId()); // Bind text with pathId as class\n\n    const textPath = text.append(\"textPath\").attr(\"xlink:href\", (d: Link) => `#${d.pathId()}`);\n\n    textPath.each(function (d: Link) {\n      Link.appendTspans(this, d.metaList);\n      Link.appendTspans(this, d.sourceMeta);\n      Link.appendTspans(this, d.targetMeta);\n\n      if (d.isNamedPath()) Link.center(this);\n\n      if (d.isReversePath()) Link.theOtherEnd(this);\n    });\n\n    Link.zoom(); // Initialize\n    return [link, path, text];\n  }\n\n  private static theOtherEnd(container: SVGGElement): void {\n    d3.select(container).attr(\"class\", \"reverse\").attr(\"text-anchor\", \"end\").attr(\"startOffset\", \"100%\");\n  }\n\n  private static center(container: SVGGElement): void {\n    d3.select(container).attr(\"class\", \"center\").attr(\"text-anchor\", \"middle\").attr(\"startOffset\", \"50%\");\n  }\n\n  private static appendTspans(container: SVGGElement, meta: MetaDataType[]): void {\n    meta.forEach((m) => {\n      d3.select(container)\n        .append(\"tspan\")\n        .attr(\"x\", (d: Link) => d.tspanXOffset())\n        .attr(\"dy\", (d: Link) => d.tspanYOffset())\n        .attr(\"class\", m.class)\n        .text(m.value);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static tick(link: d3.Selection<Link>, path: d3.Selection<Link>, label: d3.Selection<any>): void {\n    link\n      .attr(\"x1\", (d) => (d.source as Node).x)\n      .attr(\"y1\", (d) => (d.source as Node).y)\n      .attr(\"x2\", (d) => (d.target as Node).x)\n      .attr(\"y2\", (d) => (d.target as Node).y);\n\n    if (path) path.attr(\"d\", (d) => d.d());\n    if (label)\n      label.attr(\"transform\", function (d: Link) {\n        return d.rotate(this.getBBox());\n      });\n  }\n\n  static zoom(scale?: number): void {\n    let visibility = \"hidden\";\n    if (scale && scale > 1.5) visibility = \"visible\";\n\n    d3.selectAll(\".link text\").style(\"visibility\", visibility);\n  }\n\n  static setPosition(link: d3.Selection<Link>, position: LinkPosition[]): void {\n    link\n      .attr(\"x1\", (d, i) => position[i].x1)\n      .attr(\"y1\", (d, i) => position[i].y1)\n      .attr(\"x2\", (d, i) => position[i].x2)\n      .attr(\"y2\", (d, i) => position[i].y2);\n  }\n\n  register(id: number, source: number, target: number): void {\n    Link.groups = Link.groups || {};\n    const key = [source, target].sort().toString();\n    Link.groups[key] = Link.groups[key] || [];\n    Link.groups[key].push(id);\n  }\n\n  private static shiftMultiplier(link: Link): number {\n    const members = Link.groups[[(link.source as Node).id, (link.target as Node).id].sort().toString()] || [];\n    return members.indexOf(link.id) - (members.length - 1) / 2;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static shiftBundle(link: d3.Selection<Link>, path: d3.Selection<Link>, label: d3.Selection<any>): void {\n    const transform = (d) => d.shiftBundle(Link.shiftMultiplier(d));\n\n    link.attr(\"transform\", transform);\n    path.attr(\"transform\", transform);\n    label.attr(\"transform\", transform);\n  }\n\n  shiftBundle(multiplier: number): string {\n    const gap = this.margin() * multiplier;\n\n    const width = Math.abs((this.target as Node).x - (this.source as Node).x);\n    const height = Math.abs((this.source as Node).y - (this.target as Node).y);\n    const length = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n\n    return `translate(${(gap * height) / length}, ${(gap * width) / length})`;\n  }\n\n  static reset(): void {\n    Link.groups = null;\n  }\n}\n\nconst Eventable = (Base: typeof LinkBase) => {\n  class EventableLink extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(data: LinkDataType, id: number, metaKeys: string[], linkWidth: (object) => number) {\n      super(data, id, metaKeys, linkWidth);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static render(linkLayer, labelLayer, links): [d3.Selection<Link>, d3.Selection<Link>, d3.Selection<any>] {\n      const [link, path, text] = super.render(linkLayer, labelLayer, links);\n\n      link.each(function (this: SVGLineElement, d: Link & EventableLink) {\n        d.dispatch.rendered(this);\n      });\n\n      return [link, path, text];\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any): void {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableLink;\n};\n\nconst Pluggable = (Base: typeof LinkBase) => {\n  class Link extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(data: LinkDataType, id: number, metaKeys: string[], linkWidth: (object) => number) {\n      super(data, id, metaKeys, linkWidth);\n\n      for (const constructor of Link.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(data, id, metaKeys, linkWidth);\n      }\n    }\n\n    static registerConstructor(func: Constructor): void {\n      Link.pluginConstructors.push(func);\n    }\n  }\n\n  return Link;\n};\n\nclass EventableLink extends Eventable(LinkBase) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Link extends Pluggable(EventableLink) {}\n\nexport { Link };\n","import * as d3 from \"d3\";\n\nimport { Constructor as LinkConstructor, Link, LinkDataType } from \"../../../src/link\";\nimport { Node } from \"../../../src/node\";\nimport { PluginClass } from \"../../../src/plugin\";\n\nclass ArrowsLink extends Link {\n  protected readonly source: number | Node;\n  protected readonly target: number | Node;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static tick(link: d3.Selection<ArrowsLink>, path: d3.Selection<ArrowsLink>, label: d3.Selection<any>): void {\n    super.tick(link, path, label);\n\n    link.attr(\"x2\", (d) => d.x2());\n    link.attr(\"y2\", (d) => d.y2());\n  }\n\n  length(): number {\n    return Math.sqrt(\n      ((this.source as Node).x - (this.target as Node).x) ** 2 +\n        ((this.source as Node).y - (this.target as Node).y) ** 2,\n    );\n  }\n\n  x2(): number {\n    return (this.source as Node).x + (0.5 - 5 / this.length()) * ((this.target as Node).x - (this.source as Node).x);\n  }\n\n  y2(): number {\n    return (this.source as Node).y + (0.5 - 5 / this.length()) * ((this.target as Node).y - (this.source as Node).y);\n  }\n}\n\nexport const ArrowsLinkPlugin: PluginClass = class ArrowsLinkPlugin {\n  private static isMarkerDefined = false;\n\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n  static load(Group, Node, Link): void {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n    Link.registerConstructor(function (\n      data: LinkDataType,\n      id: number,\n      metaKeys: string[],\n      linkWidth: (object) => number,\n    ) {\n      this.selected = false;\n\n      this.on(\"rendered\", (element: SVGLineElement) => {\n        ArrowsLinkPlugin.appendMarker(element);\n        if (!ArrowsLinkPlugin.isMarkerDefined) {\n          ArrowsLinkPlugin.defineMarkers();\n        }\n      });\n    } as LinkConstructor);\n\n    // Copy methods\n    Link.tick = ArrowsLink.tick;\n    Link.prototype.length = ArrowsLink.prototype.length;\n    Link.prototype.x2 = ArrowsLink.prototype.x2;\n    Link.prototype.y2 = ArrowsLink.prototype.y2;\n  }\n\n  private static defineMarkers() {\n    const defs = d3.select(\"svg\").append(\"defs\");\n    const define = (id: string) => {\n      defs\n        .append(\"marker\")\n        .attr(\"id\", id)\n        .attr(\"markerWidth\", 10)\n        .attr(\"markerHeight\", 7)\n        .attr(\"refX\", 7.5)\n        .attr(\"orient\", \"auto\")\n        .attr(\"viewBox\", \"0 -5 10 10\")\n        .append(\"path\")\n        .attr(\"d\", \"M0,-5 L10,0 L0,5\");\n    };\n\n    define(\"marker-odd\");\n    define(\"marker-even\");\n    ArrowsLinkPlugin.isMarkerDefined = true;\n  }\n\n  private static appendMarker(element: SVGLineElement) {\n    d3.select(element).attr(\n      \"marker-end\",\n      // For consistency with #links :nth-child(odd), it's one-based\n      (d: ArrowsLink) => (d.id % 2 === 0 ? \"url(#marker-odd)\" : \"url(#marker-even)\"),\n    );\n  }\n};\n\nexport default ArrowsLinkPlugin;\n"],"names":["root","factory","exports","module","require","define","amd","a","i","self","__WEBPACK_EXTERNAL_MODULE__990__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","MetaData","constructor","data","extraKey","keys","this","slice","filter","k","sliceWithExtraKey","sliceWithoutExtraKey","forEach","push","class","classify","string","replace","toLowerCase","NodeBase","id","options","name","group","icon","metaList","meta","metaKeys","extraClass","width","height","padding","tspanOffset","register","Node","all","transform","x","y","nodeWidth","nodeHeight","xForText","yForText","static","layer","nodes","node","selectAll","enter","append","attr","each","appendImage","appendRect","appendText","container","text","tooltip","appendTspans","m","style","color","position","Eventable","Base","super","dispatch","render","rendered","on","callback","Pluggable","pluginConstructors","bind","func","EventableNode","LinkBase","linkWidth","source","idByName","target","sourceMeta","targetMeta","defaultMargin","labelXOffset","labelYOffset","isNamedPath","length","isReversePath","pathId","linkId","margin","_margin","window","getComputedStyle","document","getElementById","parseInt","tspanXOffset","tspanYOffset","rotate","bbox","split","duped","assign","create","hasMeta","linkLayer","labelLayer","links","pathGroup","link","textGroup","classed","path","l","Link","center","theOtherEnd","zoom","label","getBBox","scale","visibility","x1","y1","x2","y2","groups","sort","toString","members","indexOf","shiftBundle","shiftMultiplier","multiplier","gap","Math","abs","sqrt","pow","EventableLink","ArrowsLink","tick","ArrowsLinkPlugin","Group","registerConstructor","selected","element","appendMarker","isMarkerDefined","defineMarkers","defs"],"sourceRoot":""}