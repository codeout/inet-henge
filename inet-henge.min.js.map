{"version":3,"file":"inet-henge.min.js","mappings":";CAAA,SAA2CA,EAAMC,GAChD,GAAsB,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,MAAOA,QAAQ,cAC5C,GAAqB,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,KAAM,QAASJ,OACnB,CACJ,IAAIM,EAAuB,iBAAZL,QAAuBD,EAAQG,QAAQ,MAAOA,QAAQ,SAAWH,EAAQD,EAAS,GAAGA,EAAW,MAC/G,IAAI,IAAIQ,KAAKD,GAAuB,iBAAZL,QAAuBA,QAAUF,GAAMQ,GAAKD,EAAEC,EACvE,CACA,CATD,CASGC,MAAM,CAACC,EAAkCC,IAC5C,gCCVE,IAoBGC,EAjBHT,EAAOD,SAiBJU,EAAWA,GAAa,SAAUC,GAElC,IAAIC,EA4BJ,GAzBsB,oBAAXC,QAA0BA,OAAOD,SACxCA,EAASC,OAAOD,QAIA,oBAATL,MAAwBA,KAAKK,SACpCA,EAASL,KAAKK,QAIQ,oBAAfE,YAA8BA,WAAWF,SAChDA,EAASE,WAAWF,SAInBA,GAA4B,oBAAXC,QAA0BA,OAAOE,WACnDH,EAASC,OAAOE,WAIfH,QAA4B,IAAX,EAAAI,GAA0B,EAAAA,EAAOJ,SACnDA,EAAS,EAAAI,EAAOJ,SAIfA,EACD,IACIA,EAAS,EAAQ,IACrB,CAAE,MAAOK,GAAM,CAQnB,IAAIC,EAAwB,WACxB,GAAIN,EAAQ,CAER,GAAsC,mBAA3BA,EAAOO,gBACd,IACI,OAAOP,EAAOO,gBAAgB,IAAIC,YAAY,IAAI,EACtD,CAAE,MAAOH,GAAM,CAInB,GAAkC,mBAAvBL,EAAOS,YACd,IACI,OAAOT,EAAOS,YAAY,GAAGC,aACjC,CAAE,MAAOL,GAAM,CAEvB,CAEA,MAAM,IAAIM,MAAM,sEACpB,EAMIC,EAASC,OAAOD,QAAW,WAC3B,SAASE,IAAK,CAEd,OAAO,SAAUC,GACb,IAAIC,EAQJ,OANAF,EAAEG,UAAYF,EAEdC,EAAU,IAAIF,EAEdA,EAAEG,UAAY,KAEPD,CACX,CACJ,CAd8B,GAmB1BE,EAAI,CAAC,EAKLC,EAAQD,EAAEE,IAAM,CAAC,EAKjBC,EAAOF,EAAME,KAGN,CAmBHC,OAAQ,SAAUC,GAEd,IAAIP,EAAUJ,EAAOY,MAoBrB,OAjBID,GACAP,EAAQS,MAAMF,GAIbP,EAAQU,eAAe,SAAWF,KAAKG,OAASX,EAAQW,OACzDX,EAAQW,KAAO,WACXX,EAAQY,OAAOD,KAAKE,MAAML,KAAMM,UACpC,GAIJd,EAAQW,KAAKV,UAAYD,EAGzBA,EAAQY,OAASJ,KAEVR,CACX,EAcAJ,OAAQ,WACJ,IAAImB,EAAWP,KAAKF,SAGpB,OAFAS,EAASJ,KAAKE,MAAME,EAAUD,WAEvBC,CACX,EAcAJ,KAAM,WACN,EAaAF,MAAO,SAAUO,GACb,IAAK,IAAIC,KAAgBD,EACjBA,EAAWN,eAAeO,KAC1BT,KAAKS,GAAgBD,EAAWC,IAKpCD,EAAWN,eAAe,cAC1BF,KAAKU,SAAWF,EAAWE,SAEnC,EAWAC,MAAO,WACH,OAAOX,KAAKG,KAAKV,UAAUK,OAAOE,KACtC,GAUJY,EAAYjB,EAAMiB,UAAYf,EAAKC,OAAO,CAa1CK,KAAM,SAAUU,EAAOC,GACnBD,EAAQb,KAAKa,MAAQA,GAAS,GAG1Bb,KAAKc,SA7OM,MA4OXA,EACgBA,EAEe,EAAfD,EAAME,MAE9B,EAeAL,SAAU,SAAUM,GAChB,OAAQA,GAAWC,GAAKC,UAAUlB,KACtC,EAaAmB,OAAQ,SAAUC,GAEd,IAAIC,EAAYrB,KAAKa,MACjBS,EAAYF,EAAUP,MACtBU,EAAevB,KAAKc,SACpBU,EAAeJ,EAAUN,SAM7B,GAHAd,KAAKyB,QAGDF,EAAe,EAEf,IAAK,IAAIrD,EAAI,EAAGA,EAAIsD,EAActD,IAAK,CACnC,IAAIwD,EAAYJ,EAAUpD,IAAM,KAAQ,GAAMA,EAAI,EAAK,EAAM,IAC7DmD,EAAWE,EAAerD,IAAO,IAAMwD,GAAa,IAAOH,EAAerD,GAAK,EAAK,CACxF,MAGA,IAAK,IAAIyD,EAAI,EAAGA,EAAIH,EAAcG,GAAK,EACnCN,EAAWE,EAAeI,IAAO,GAAKL,EAAUK,IAAM,GAM9D,OAHA3B,KAAKc,UAAYU,EAGVxB,IACX,EASAyB,MAAO,WAEH,IAAIZ,EAAQb,KAAKa,MACbC,EAAWd,KAAKc,SAGpBD,EAAMC,IAAa,IAAM,YAAe,GAAMA,EAAW,EAAK,EAC9DD,EAAME,OAASxC,EAAKqD,KAAKd,EAAW,EACxC,EAWAH,MAAO,WACH,IAAIA,EAAQd,EAAKc,MAAMkB,KAAK7B,MAG5B,OAFAW,EAAME,MAAQb,KAAKa,MAAMiB,MAAM,GAExBnB,CACX,EAeAoB,OAAQ,SAAUC,GAGd,IAFA,IAAInB,EAAQ,GAEH3C,EAAI,EAAGA,EAAI8D,EAAQ9D,GAAK,EAC7B2C,EAAMoB,KAAKnD,KAGf,OAAO,IAAI8B,EAAUT,KAAKU,EAAOmB,EACrC,IAMAE,EAAQxC,EAAEyC,IAAM,CAAC,EAKjBlB,EAAMiB,EAAMjB,IAAM,CAclBC,UAAW,SAAUE,GAOjB,IALA,IAAIP,EAAQO,EAAUP,MAClBC,EAAWM,EAAUN,SAGrBsB,EAAW,GACNlE,EAAI,EAAGA,EAAI4C,EAAU5C,IAAK,CAC/B,IAAImE,EAAQxB,EAAM3C,IAAM,KAAQ,GAAMA,EAAI,EAAK,EAAM,IACrDkE,EAASH,MAAMI,IAAS,GAAG3B,SAAS,KACpC0B,EAASH,MAAa,GAAPI,GAAa3B,SAAS,IACzC,CAEA,OAAO0B,EAASE,KAAK,GACzB,EAeAC,MAAO,SAAUC,GAMb,IAJA,IAAIC,EAAeD,EAAOzB,OAGtBF,EAAQ,GACH3C,EAAI,EAAGA,EAAIuE,EAAcvE,GAAK,EACnC2C,EAAM3C,IAAM,IAAMwE,SAASF,EAAOG,OAAOzE,EAAG,GAAI,KAAQ,GAAMA,EAAI,EAAK,EAG3E,OAAO,IAAI0C,EAAUT,KAAKU,EAAO4B,EAAe,EACpD,GAMAG,EAASV,EAAMU,OAAS,CAcxB1B,UAAW,SAAUE,GAOjB,IALA,IAAIP,EAAQO,EAAUP,MAClBC,EAAWM,EAAUN,SAGrB+B,EAAc,GACT3E,EAAI,EAAGA,EAAI4C,EAAU5C,IAAK,CAC/B,IAAImE,EAAQxB,EAAM3C,IAAM,KAAQ,GAAMA,EAAI,EAAK,EAAM,IACrD2E,EAAYZ,KAAKa,OAAOC,aAAaV,GACzC,CAEA,OAAOQ,EAAYP,KAAK,GAC5B,EAeAC,MAAO,SAAUS,GAMb,IAJA,IAAIC,EAAkBD,EAAUjC,OAG5BF,EAAQ,GACH3C,EAAI,EAAGA,EAAI+E,EAAiB/E,IACjC2C,EAAM3C,IAAM,KAAiC,IAA1B8E,EAAUE,WAAWhF,KAAe,GAAMA,EAAI,EAAK,EAG1E,OAAO,IAAI0C,EAAUT,KAAKU,EAAOoC,EACrC,GAMAE,EAAOjB,EAAMiB,KAAO,CAcpBjC,UAAW,SAAUE,GACjB,IACI,OAAOgC,mBAAmBC,OAAOT,EAAO1B,UAAUE,IACtD,CAAE,MAAOkC,GACL,MAAM,IAAInE,MAAM,uBACpB,CACJ,EAeAoD,MAAO,SAAUgB,GACb,OAAOX,EAAOL,MAAMiB,SAASC,mBAAmBF,IACpD,GAUAG,EAAyB/D,EAAM+D,uBAAyB7D,EAAKC,OAAO,CAQpE6D,MAAO,WAEH3D,KAAK4D,MAAQ,IAAIhD,EAAUT,KAC3BH,KAAK6D,YAAc,CACvB,EAYAC,QAAS,SAAUC,GAEI,iBAARA,IACPA,EAAOZ,EAAKZ,MAAMwB,IAItB/D,KAAK4D,MAAMzC,OAAO4C,GAClB/D,KAAK6D,aAAeE,EAAKjD,QAC7B,EAgBAkD,SAAU,SAAUC,GAChB,IAAIC,EAGAH,EAAO/D,KAAK4D,MACZO,EAAYJ,EAAKlD,MACjBuD,EAAeL,EAAKjD,SACpBuD,EAAYrE,KAAKqE,UAIjBC,EAAeF,GAHc,EAAZC,GAcjBE,GARAD,EAFAL,EAEe1F,EAAKqD,KAAK0C,GAIV/F,EAAKiG,KAAoB,EAAfF,GAAoBtE,KAAKyE,eAAgB,IAIrCJ,EAG7BK,EAAcnG,EAAKoG,IAAkB,EAAdJ,EAAiBH,GAG5C,GAAIG,EAAa,CACb,IAAK,IAAIK,EAAS,EAAGA,EAASL,EAAaK,GAAUP,EAEjDrE,KAAK6E,gBAAgBV,EAAWS,GAIpCV,EAAiBC,EAAUW,OAAO,EAAGP,GACrCR,EAAKjD,UAAY4D,CACrB,CAGA,OAAO,IAAI9D,EAAUT,KAAK+D,EAAgBQ,EAC9C,EAWA/D,MAAO,WACH,IAAIA,EAAQd,EAAKc,MAAMkB,KAAK7B,MAG5B,OAFAW,EAAMiD,MAAQ5D,KAAK4D,MAAMjD,QAElBA,CACX,EAEA8D,eAAgB,IA2IhBM,GAnISpF,EAAMqF,OAAStB,EAAuB5D,OAAO,CAItDmF,IAAKpF,EAAKC,SAWVK,KAAM,SAAU8E,GAEZjF,KAAKiF,IAAMjF,KAAKiF,IAAInF,OAAOmF,GAG3BjF,KAAK2D,OACT,EASAA,MAAO,WAEHD,EAAuBC,MAAM9B,KAAK7B,MAGlCA,KAAKkF,UACT,EAcAC,OAAQ,SAAUC,GAQd,OANApF,KAAK8D,QAAQsB,GAGbpF,KAAKgE,WAGEhE,IACX,EAgBAqF,SAAU,SAAUD,GAShB,OAPIA,GACApF,KAAK8D,QAAQsB,GAINpF,KAAKsF,aAGpB,EAEAjB,UAAW,GAeXkB,cAAe,SAAUC,GACrB,OAAO,SAAUC,EAASR,GACtB,OAAO,IAAIO,EAAOrF,KAAK8E,GAAKI,SAASI,EACzC,CACJ,EAeAC,kBAAmB,SAAUF,GACzB,OAAO,SAAUC,EAASE,GACtB,OAAO,IAAIZ,EAAOa,KAAKzF,KAAKqF,EAAQG,GAAKN,SAASI,EACtD,CACJ,IAMS/F,EAAEmG,KAAO,CAAC,GAEvB,OAAOnG,CACX,CA7wB2B,CA6wBzBnB,MAGKD,wBCpyBN,IAagBA,EAVhBT,EAAOD,SAUSU,EAVmB,EAAQ,IAY3C,SAAUC,GAEP,IAAImB,EAAIpB,EACJqB,EAAQD,EAAEE,IACVgB,EAAYjB,EAAMiB,UAClBoE,EAASrF,EAAMqF,OACfD,EAASrF,EAAEmG,KAGXC,EAAI,IAGP,WACG,IAAK,IAAI5H,EAAI,EAAGA,EAAI,GAAIA,IACpB4H,EAAE5H,GAAkC,WAA5BK,EAAKwH,IAAIxH,EAAKyH,IAAI9H,EAAI,IAAqB,CAE3D,CAJA,GASA,IAAI+H,EAAMlB,EAAOkB,IAAMjB,EAAOlF,OAAO,CACjCoF,SAAU,WACNlF,KAAKkG,MAAQ,IAAItF,EAAUT,KAAK,CAC5B,WAAY,WACZ,WAAY,WAEpB,EAEA0E,gBAAiB,SAAUsB,EAAGvB,GAE1B,IAAK,IAAI1G,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAEzB,IAAIkI,EAAWxB,EAAS1G,EACpBmI,EAAaF,EAAEC,GAEnBD,EAAEC,GACgD,UAA3CC,GAAc,EAAOA,IAAe,IACO,YAA3CA,GAAc,GAAOA,IAAe,EAE/C,CAGA,IAAIC,EAAItG,KAAKkG,MAAMrF,MAEf0F,EAAcJ,EAAEvB,EAAS,GACzB4B,EAAcL,EAAEvB,EAAS,GACzB6B,EAAcN,EAAEvB,EAAS,GACzB8B,EAAcP,EAAEvB,EAAS,GACzB+B,EAAcR,EAAEvB,EAAS,GACzBgC,EAAcT,EAAEvB,EAAS,GACzBiC,EAAcV,EAAEvB,EAAS,GACzBkC,EAAcX,EAAEvB,EAAS,GACzBmC,EAAcZ,EAAEvB,EAAS,GACzBoC,EAAcb,EAAEvB,EAAS,GACzBqC,EAAcd,EAAEvB,EAAS,IACzBsC,EAAcf,EAAEvB,EAAS,IACzBuC,EAAchB,EAAEvB,EAAS,IACzBwC,EAAcjB,EAAEvB,EAAS,IACzByC,EAAclB,EAAEvB,EAAS,IACzB0C,EAAcnB,EAAEvB,EAAS,IAGzB3G,EAAIqI,EAAE,GACNiB,EAAIjB,EAAE,GACNkB,EAAIlB,EAAE,GACNmB,EAAInB,EAAE,GAGVrI,EAAIyJ,EAAGzJ,EAAGsJ,EAAGC,EAAGC,EAAGlB,EAAa,EAAIT,EAAE,IACtC2B,EAAIC,EAAGD,EAAGxJ,EAAGsJ,EAAGC,EAAGhB,EAAa,GAAIV,EAAE,IACtC0B,EAAIE,EAAGF,EAAGC,EAAGxJ,EAAGsJ,EAAGd,EAAa,GAAIX,EAAE,IACtCyB,EAAIG,EAAGH,EAAGC,EAAGC,EAAGxJ,EAAGyI,EAAa,GAAIZ,EAAE,IACtC7H,EAAIyJ,EAAGzJ,EAAGsJ,EAAGC,EAAGC,EAAGd,EAAa,EAAIb,EAAE,IACtC2B,EAAIC,EAAGD,EAAGxJ,EAAGsJ,EAAGC,EAAGZ,EAAa,GAAId,EAAE,IACtC0B,EAAIE,EAAGF,EAAGC,EAAGxJ,EAAGsJ,EAAGV,EAAa,GAAIf,EAAE,IACtCyB,EAAIG,EAAGH,EAAGC,EAAGC,EAAGxJ,EAAG6I,EAAa,GAAIhB,EAAE,IACtC7H,EAAIyJ,EAAGzJ,EAAGsJ,EAAGC,EAAGC,EAAGV,EAAa,EAAIjB,EAAE,IACtC2B,EAAIC,EAAGD,EAAGxJ,EAAGsJ,EAAGC,EAAGR,EAAa,GAAIlB,EAAE,IACtC0B,EAAIE,EAAGF,EAAGC,EAAGxJ,EAAGsJ,EAAGN,EAAa,GAAInB,EAAE,KACtCyB,EAAIG,EAAGH,EAAGC,EAAGC,EAAGxJ,EAAGiJ,EAAa,GAAIpB,EAAE,KACtC7H,EAAIyJ,EAAGzJ,EAAGsJ,EAAGC,EAAGC,EAAGN,EAAa,EAAIrB,EAAE,KACtC2B,EAAIC,EAAGD,EAAGxJ,EAAGsJ,EAAGC,EAAGJ,EAAa,GAAItB,EAAE,KACtC0B,EAAIE,EAAGF,EAAGC,EAAGxJ,EAAGsJ,EAAGF,EAAa,GAAIvB,EAAE,KAGtC7H,EAAI0J,EAAG1J,EAFPsJ,EAAIG,EAAGH,EAAGC,EAAGC,EAAGxJ,EAAGqJ,EAAa,GAAIxB,EAAE,KAEzB0B,EAAGC,EAAGjB,EAAa,EAAIV,EAAE,KACtC2B,EAAIE,EAAGF,EAAGxJ,EAAGsJ,EAAGC,EAAGX,EAAa,EAAIf,EAAE,KACtC0B,EAAIG,EAAGH,EAAGC,EAAGxJ,EAAGsJ,EAAGL,EAAa,GAAIpB,EAAE,KACtCyB,EAAII,EAAGJ,EAAGC,EAAGC,EAAGxJ,EAAGsI,EAAa,GAAIT,EAAE,KACtC7H,EAAI0J,EAAG1J,EAAGsJ,EAAGC,EAAGC,EAAGb,EAAa,EAAId,EAAE,KACtC2B,EAAIE,EAAGF,EAAGxJ,EAAGsJ,EAAGC,EAAGP,EAAa,EAAInB,EAAE,KACtC0B,EAAIG,EAAGH,EAAGC,EAAGxJ,EAAGsJ,EAAGD,EAAa,GAAIxB,EAAE,KACtCyB,EAAII,EAAGJ,EAAGC,EAAGC,EAAGxJ,EAAG0I,EAAa,GAAIb,EAAE,KACtC7H,EAAI0J,EAAG1J,EAAGsJ,EAAGC,EAAGC,EAAGT,EAAa,EAAIlB,EAAE,KACtC2B,EAAIE,EAAGF,EAAGxJ,EAAGsJ,EAAGC,EAAGH,EAAa,EAAIvB,EAAE,KACtC0B,EAAIG,EAAGH,EAAGC,EAAGxJ,EAAGsJ,EAAGb,EAAa,GAAIZ,EAAE,KACtCyB,EAAII,EAAGJ,EAAGC,EAAGC,EAAGxJ,EAAG8I,EAAa,GAAIjB,EAAE,KACtC7H,EAAI0J,EAAG1J,EAAGsJ,EAAGC,EAAGC,EAAGL,EAAa,EAAItB,EAAE,KACtC2B,EAAIE,EAAGF,EAAGxJ,EAAGsJ,EAAGC,EAAGf,EAAa,EAAIX,EAAE,KACtC0B,EAAIG,EAAGH,EAAGC,EAAGxJ,EAAGsJ,EAAGT,EAAa,GAAIhB,EAAE,KAGtC7H,EAAI2J,EAAG3J,EAFPsJ,EAAII,EAAGJ,EAAGC,EAAGC,EAAGxJ,EAAGkJ,EAAa,GAAIrB,EAAE,KAEzB0B,EAAGC,EAAGb,EAAa,EAAId,EAAE,KACtC2B,EAAIG,EAAGH,EAAGxJ,EAAGsJ,EAAGC,EAAGT,EAAa,GAAIjB,EAAE,KACtC0B,EAAII,EAAGJ,EAAGC,EAAGxJ,EAAGsJ,EAAGL,EAAa,GAAIpB,EAAE,KACtCyB,EAAIK,EAAGL,EAAGC,EAAGC,EAAGxJ,EAAGoJ,EAAa,GAAIvB,EAAE,KACtC7H,EAAI2J,EAAG3J,EAAGsJ,EAAGC,EAAGC,EAAGjB,EAAa,EAAIV,EAAE,KACtC2B,EAAIG,EAAGH,EAAGxJ,EAAGsJ,EAAGC,EAAGb,EAAa,GAAIb,EAAE,KACtC0B,EAAII,EAAGJ,EAAGC,EAAGxJ,EAAGsJ,EAAGT,EAAa,GAAIhB,EAAE,KACtCyB,EAAIK,EAAGL,EAAGC,EAAGC,EAAGxJ,EAAGgJ,EAAa,GAAInB,EAAE,KACtC7H,EAAI2J,EAAG3J,EAAGsJ,EAAGC,EAAGC,EAAGL,EAAa,EAAItB,EAAE,KACtC2B,EAAIG,EAAGH,EAAGxJ,EAAGsJ,EAAGC,EAAGjB,EAAa,GAAIT,EAAE,KACtC0B,EAAII,EAAGJ,EAAGC,EAAGxJ,EAAGsJ,EAAGb,EAAa,GAAIZ,EAAE,KACtCyB,EAAIK,EAAGL,EAAGC,EAAGC,EAAGxJ,EAAG4I,EAAa,GAAIf,EAAE,KACtC7H,EAAI2J,EAAG3J,EAAGsJ,EAAGC,EAAGC,EAAGT,EAAa,EAAIlB,EAAE,KACtC2B,EAAIG,EAAGH,EAAGxJ,EAAGsJ,EAAGC,EAAGL,EAAa,GAAIrB,EAAE,KACtC0B,EAAII,EAAGJ,EAAGC,EAAGxJ,EAAGsJ,EAAGD,EAAa,GAAIxB,EAAE,KAGtC7H,EAAI4J,EAAG5J,EAFPsJ,EAAIK,EAAGL,EAAGC,EAAGC,EAAGxJ,EAAGwI,EAAa,GAAIX,EAAE,KAEzB0B,EAAGC,EAAGlB,EAAa,EAAIT,EAAE,KACtC2B,EAAII,EAAGJ,EAAGxJ,EAAGsJ,EAAGC,EAAGV,EAAa,GAAIhB,EAAE,KACtC0B,EAAIK,EAAGL,EAAGC,EAAGxJ,EAAGsJ,EAAGF,EAAa,GAAIvB,EAAE,KACtCyB,EAAIM,EAAGN,EAAGC,EAAGC,EAAGxJ,EAAG2I,EAAa,GAAId,EAAE,KACtC7H,EAAI4J,EAAG5J,EAAGsJ,EAAGC,EAAGC,EAAGN,EAAa,EAAIrB,EAAE,KACtC2B,EAAII,EAAGJ,EAAGxJ,EAAGsJ,EAAGC,EAAGd,EAAa,GAAIZ,EAAE,KACtC0B,EAAIK,EAAGL,EAAGC,EAAGxJ,EAAGsJ,EAAGN,EAAa,GAAInB,EAAE,KACtCyB,EAAIM,EAAGN,EAAGC,EAAGC,EAAGxJ,EAAGuI,EAAa,GAAIV,EAAE,KACtC7H,EAAI4J,EAAG5J,EAAGsJ,EAAGC,EAAGC,EAAGV,EAAa,EAAIjB,EAAE,KACtC2B,EAAII,EAAGJ,EAAGxJ,EAAGsJ,EAAGC,EAAGF,EAAa,GAAIxB,EAAE,KACtC0B,EAAIK,EAAGL,EAAGC,EAAGxJ,EAAGsJ,EAAGV,EAAa,GAAIf,EAAE,KACtCyB,EAAIM,EAAGN,EAAGC,EAAGC,EAAGxJ,EAAGmJ,EAAa,GAAItB,EAAE,KACtC7H,EAAI4J,EAAG5J,EAAGsJ,EAAGC,EAAGC,EAAGd,EAAa,EAAIb,EAAE,KACtC2B,EAAII,EAAGJ,EAAGxJ,EAAGsJ,EAAGC,EAAGN,EAAa,GAAIpB,EAAE,KACtC0B,EAAIK,EAAGL,EAAGC,EAAGxJ,EAAGsJ,EAAGd,EAAa,GAAIX,EAAE,KACtCyB,EAAIM,EAAGN,EAAGC,EAAGC,EAAGxJ,EAAG+I,EAAa,GAAIlB,EAAE,KAGtCQ,EAAE,GAAMA,EAAE,GAAKrI,EAAK,EACpBqI,EAAE,GAAMA,EAAE,GAAKiB,EAAK,EACpBjB,EAAE,GAAMA,EAAE,GAAKkB,EAAK,EACpBlB,EAAE,GAAMA,EAAE,GAAKmB,EAAK,CACxB,EAEAnC,YAAa,WAET,IAAIvB,EAAO/D,KAAK4D,MACZO,EAAYJ,EAAKlD,MAEjBiH,EAAgC,EAAnB9H,KAAK6D,YAClBkE,EAA4B,EAAhBhE,EAAKjD,SAGrBqD,EAAU4D,IAAc,IAAM,KAAS,GAAKA,EAAY,GAExD,IAAIC,EAAczJ,EAAK0J,MAAMH,EAAa,YACtCI,EAAcJ,EAClB3D,EAA4C,IAA/B4D,EAAY,KAAQ,GAAM,IACa,UAA7CC,GAAe,EAAOA,IAAgB,IACO,YAA7CA,GAAe,GAAOA,IAAgB,GAE7C7D,EAA4C,IAA/B4D,EAAY,KAAQ,GAAM,IACa,UAA7CG,GAAe,EAAOA,IAAgB,IACO,YAA7CA,GAAe,GAAOA,IAAgB,GAG7CnE,EAAKjD,SAAoC,GAAxBqD,EAAUpD,OAAS,GAGpCf,KAAKgE,WAOL,IAJA,IAAImE,EAAOnI,KAAKkG,MACZI,EAAI6B,EAAKtH,MAGJ3C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAExB,IAAIkK,EAAM9B,EAAEpI,GAEZoI,EAAEpI,GAAqC,UAA7BkK,GAAO,EAAOA,IAAQ,IACO,YAA7BA,GAAO,GAAOA,IAAQ,EACpC,CAGA,OAAOD,CACX,EAEAxH,MAAO,WACH,IAAIA,EAAQqE,EAAOrE,MAAMkB,KAAK7B,MAG9B,OAFAW,EAAMuF,MAAQlG,KAAKkG,MAAMvF,QAElBA,CACX,IAGJ,SAAS+G,EAAGzJ,EAAGsJ,EAAGC,EAAGC,EAAGY,EAAGC,EAAGC,GAC1B,IAAIC,EAAIvK,GAAMsJ,EAAIC,GAAOD,EAAIE,GAAMY,EAAIE,EACvC,OAASC,GAAKF,EAAME,IAAO,GAAKF,GAAOf,CAC3C,CAEA,SAASI,EAAG1J,EAAGsJ,EAAGC,EAAGC,EAAGY,EAAGC,EAAGC,GAC1B,IAAIC,EAAIvK,GAAMsJ,EAAIE,EAAMD,GAAKC,GAAMY,EAAIE,EACvC,OAASC,GAAKF,EAAME,IAAO,GAAKF,GAAOf,CAC3C,CAEA,SAASK,EAAG3J,EAAGsJ,EAAGC,EAAGC,EAAGY,EAAGC,EAAGC,GAC1B,IAAIC,EAAIvK,GAAKsJ,EAAIC,EAAIC,GAAKY,EAAIE,EAC9B,OAASC,GAAKF,EAAME,IAAO,GAAKF,GAAOf,CAC3C,CAEA,SAASM,EAAG5J,EAAGsJ,EAAGC,EAAGC,EAAGY,EAAGC,EAAGC,GAC1B,IAAIC,EAAIvK,GAAKuJ,GAAKD,GAAKE,IAAMY,EAAIE,EACjC,OAASC,GAAKF,EAAME,IAAO,GAAKF,GAAOf,CAC3C,CAgBA7H,EAAEuG,IAAMjB,EAAOO,cAAcU,GAgB7BvG,EAAE+I,QAAUzD,EAAOU,kBAAkBO,EACzC,CAvPA,CAuPE1H,MAGKD,EAAS2H,eChOjB,SAASyC,EAAmBC,EAAOC,EAAIC,QAC3B,IAANA,IACFA,EAAI,GAXR,SAA4BF,EAAOE,EAAGC,EAAGF,GACvC,IAAIG,EAhBN,SAAuBJ,EAAOC,GAC5B,IAAIG,EAAa,CAAC,EACdC,EAAgB,SAAUC,EAAGC,QACF,IAAlBH,EAAWE,KAAoBF,EAAWE,GAAK,CAAC,GAC3DF,EAAWE,GAAGC,GAAK,CAAC,CACtB,EAOA,OANAP,EAAMQ,SAAQ,SAAU7F,GACtB,IAAI2F,EAAIL,EAAGQ,eAAe9F,GACxB4F,EAAIN,EAAGS,eAAe/F,GACxB0F,EAAcC,EAAGC,GACjBF,EAAcE,EAAGD,EACnB,IACOF,CACT,CAGmBO,CAAcX,EAAOC,GACtCD,EAAMQ,SAAQ,SAAUI,GACtB,IAAItL,EAAI8K,EAAWH,EAAGQ,eAAeG,IACjChC,EAAIwB,EAAWH,EAAGS,eAAeE,IACrCX,EAAGY,UAAUD,EAAG,EAAIV,EAWpB,SAAU5K,EAAGsJ,GACX,OAAOhJ,KAAKoG,IAAItF,OAAOoK,KAAKxL,GAAG8C,OAAQ1B,OAAOoK,KAAKlC,GAAGxG,QAAU,IAC5D,EACA,EAxCV,SAA2B9C,EAAGsJ,GAC5B,IAAIiB,EAAI,EACR,IAAK,IAAItK,KAAKD,OAAuB,IAATsJ,EAAErJ,MAAsBsK,EACpD,OAAOA,CACT,CAoCckB,CAAkBzL,EAAGsJ,GA/CnC,SAAoBtJ,EAAGsJ,GACrB,IAAI0B,EAAI,CAAC,EACT,IAAK,IAAI/K,KAAKD,EAAGgL,EAAE/K,GAAK,CAAC,EACzB,IAAK,IAAIA,KAAKqJ,EAAG0B,EAAE/K,GAAK,CAAC,EACzB,OAAOmB,OAAOoK,KAAKR,GAAGlI,MACxB,CA0CwC4I,CAAW1L,EAAGsJ,EAClD,CAfwBuB,CAAE7K,EAAGsJ,GAC/B,GACF,CAMEqC,CACEjB,EACAE,EACA,EAKAD,EAEJ,CAEAiB,KAAKC,OAAOrK,UAAUiJ,mBAAqB,SAAUqB,EAAalB,GAChE,IAAImB,EAAQhK,KAUZ,YATU,IAAN6I,IACFA,EAAI,GAEN7I,KAAKiK,cAAa,SAAUV,GAC1B,OAAOQ,EAAcR,EAAExI,MACzB,IACAf,KAAKkK,sBAAwB,WAC3B,OAAOxB,EAAmBsB,EAAMG,OAAQH,EAAMI,aAAcvB,EAC9D,EACO7I,IACT,wBCrEAnC,EAAOD,QAAUS,wBCAjBR,EAAOD,QAAUQ,eCCbiM,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa5M,QAGrB,IAAIC,EAASwM,EAAyBE,GAAY,CAGjD3M,QAAS,CAAC,GAOX,OAHA8M,EAAoBH,GAAU1I,KAAKhE,EAAOD,QAASC,EAAQA,EAAOD,QAAS0M,GAGpEzM,EAAOD,OACf,CCrBA0M,EAAoB7C,EAAI,CAAC7J,EAAS+M,KACjC,IAAI,IAAIhF,KAAOgF,EACXL,EAAoBM,EAAED,EAAYhF,KAAS2E,EAAoBM,EAAEhN,EAAS+H,IAC5EtG,OAAOwL,eAAejN,EAAS+H,EAAK,CAAEmF,YAAY,EAAMC,IAAKJ,EAAWhF,IAE1E,ECND2E,EAAoB1L,EAAI,WACvB,GAA0B,iBAAfF,WAAyB,OAAOA,WAC3C,IACC,OAAOsB,MAAQ,IAAIgL,SAAS,cAAb,EAChB,CAAE,MAAO1H,GACR,GAAsB,iBAAX7E,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB6L,EAAoBM,EAAI,CAACrL,EAAK0L,IAAU5L,OAAOI,UAAUS,eAAe2B,KAAKtC,EAAK0L,GCClFX,EAAoBY,EAAKtN,IACH,oBAAXuN,QAA0BA,OAAOC,aAC1C/L,OAAOwL,eAAejN,EAASuN,OAAOC,YAAa,CAAEC,MAAO,WAE7DhM,OAAOwL,eAAejN,EAAS,aAAc,CAAEyN,OAAO,GAAO,sFCDvD,MAAMC,EAeX,WAAAC,CACE5C,EACO6C,GAAA,KAAAA,GAAAA,EAEPxL,KAAK2I,MAAQA,EACb3I,KAAKyL,MAAQ,UACbzL,KAAK0L,MAAQ,EACb1L,KAAK2L,MAAQ,CACf,CAEA,aAAOC,CAAOjD,GACZ2C,EAAOO,OAAS,CAAC,EAEjB,IAAK,MAAMtC,KAAKZ,EACd,GAAIY,EAAEuC,OAAQ,CACZ,MAAMnG,EAAM3F,KAAK+L,SAASxC,IACzB+B,EAAOO,OAAOlG,KAAS2F,EAAOO,OAAOlG,GAAO,KAAK1D,KAAKsH,EAAEiC,GAC3D,CAGF,OAAOnM,OAAO2M,OAAOV,EAAOO,QAAQI,KAAI,CAACC,EAAKhO,IACrC,IAAIoN,EACTY,EAAID,KAAKT,GAAO7C,EAAM6C,KACtBtN,IAGN,CAEQ,eAAO6N,CAASI,GACtB,OAAOC,KAAKlL,UAAU,CAACiL,EAAKE,OAAQF,EAAKG,OAAQH,EAAKL,QACxD,CAEA,aAAOS,CACLC,EACAC,GAiBA,OAfoBD,EACjBE,UAAU,WACV3I,KAAK0I,GACLE,QACAC,OAAO,KACPC,KAAK,SAAUpF,GAAMA,EAAEqF,UAGvBF,OAAO,QACPC,KAAK,KAAMpF,GAAMA,EAAEA,MACnBoF,KAAK,UAAWpF,GAAMA,EAAEgE,QACxBoB,KAAK,gBAAiBpF,GAAMA,EAAEiE,QAC9BmB,KAAK,OAAQ,QACbA,KAAK,MAAOpF,GAAMA,EAAEsF,YAGzB,CAEA,YAAOpJ,GACL2H,EAAOO,OAAS,IAClB,CAGA,mBAAOmB,CAAarE,GAClB,OAAOA,EAAMsE,MAAK,CAAChP,EAAGsJ,KACpB,QAAQ,GACN,MAAOtJ,EAAE6N,SAAWvE,EAAEuE,OACpB,OAAQ,EACV,KAAM7N,EAAE6N,UAAYvE,EAAEuE,OACpB,OAAO,EACT,KAAM7N,EAAE6N,SAAWvE,EAAEuE,OACnB,OAAO,EAGT,KAAK7N,EAAE6N,OAAOpL,WAAa6G,EAAEuE,OAAOpL,WAClC,OAAQ,EACV,KAAKzC,EAAE6N,OAAOpL,WAAa6G,EAAEuE,OAAOpL,WAClC,OAAO,EAET,QACE,OAAO,EACX,GAEJ,CAEA,CAAA+G,GACE,MAAMyF,EAAQlN,KAAK2I,MAAM,GAAGwE,oBACtBC,EAAOpN,KAAK2I,MAAM3I,KAAK2I,MAAM5H,OAAS,GAAGoM,oBACzCE,EAAM9O,KAAK+O,KAAK/O,KAAKgP,IAAIL,EAAM,GAAKE,EAAK,GAAI,GAAK7O,KAAKgP,IAAIL,EAAM,GAAKE,EAAK,GAAI,IAErF,GAAY,IAARC,EACF,MAAO,GAGT,MAAMG,EAAQxN,KAAK2I,MAAM,GAAG6E,QAAU,GAChCC,EAAQ,EACVP,EAAM,GAAKE,EAAK,IAAMpN,KAAK2L,MAAS0B,EAAMH,EAAM,IAChDA,EAAM,GAAKE,EAAK,IAAMpN,KAAK2L,MAAS0B,EAAMH,EAAM,IAE9CQ,EAAM,EACRN,EAAK,GAAKF,EAAM,IAAMlN,KAAK2L,MAAS0B,EAAMD,EAAK,IAC/CA,EAAK,GAAKF,EAAM,IAAMlN,KAAK2L,MAAS0B,EAAMD,EAAK,IAGnD,MAAO,KAAKK,EAAM,MAAMA,EAAM,QAAQJ,EAAM,EAAI,QAAQG,SAAaE,EAAI,MAAMA,EAAI,IACrF,CAEQ,eAAAC,GACN,IAAK3N,KAAK4N,iBAAkB,CAC1B,MAAMC,EAAU7N,KAAK2I,MAAM,GAAGmF,SAAW,GACzC9N,KAAK4N,iBAAmB5N,KAAK2I,MAAMoF,QAAO,CAACC,EAAKzE,IAAOyE,GAAOzE,EAAEiC,IAAMqC,EAAQ9M,OAAS,GAAK,IAAI,GAAK,CACvG,CAEA,OAAOf,KAAK4N,gBACd,CAEA,kBAAOK,CAAYnC,GACjBA,EAAOe,KAAK,KAAMpF,GAAMA,EAAEA,KAC5B,CAEQ,QAEN,OAAOzH,KAAK2I,MAAM,GAAGmE,QAAQoB,QAAQ,QAAS,SAChD,CAEQ,QAAAnB,GACN,MAAO,SAAS/M,KAAKwL,IACvB,EC9IK,SAAS2C,EAASC,GACvB,OAAOA,EAAOF,QAAQ,IAAK,KAAKG,aAClC,CCYO,MAAMC,EAMX,WAAA/C,CACUgD,EACAC,GADA,KAAAD,KAAAA,EACA,KAAAC,QAAAA,EAERxO,KAAKyO,QAAUD,EAAQC,OACzB,CAEA,SAAAC,GACE,MAAO,aAAa1O,KAAK2O,OAAOtG,MAAMrI,KAAK2O,OAAOC,IACpD,CAEQ,UAAAC,GACN,OAAO7O,KAAK2O,OAAOjD,OACrB,CAEQ,WAAAoD,GACN,OAAO9O,KAAK2O,OAAOI,QACrB,CAEA,aAAOnD,CAAOoD,EAAeC,EAAiBT,GAC5C,MAAM3C,EAAS,CAAC,EACVqD,EAAW,CAACX,EAAcY,EAAYC,KAC1C,MAAMzJ,EAAM,GAAGyJ,KAAUb,IACzB1C,EAAOlG,GAAOkG,EAAOlG,IAAQ,IAAI0J,EAAMd,EAAMC,GAE7C3C,EAAOlG,GAAK1D,KAAKkN,EAAK,EAiBxB,OAdAH,EAAM7F,SAASgG,IACb,IAAIG,EAAS,KAETL,IACFK,EAASH,EAAKZ,KAAKgB,MAAMN,GACrBK,GACFJ,EAASI,EAAO,IAAMA,EAAO,GAAIH,IAKrCA,EAAKrB,MAAM3E,SAASoF,GAASW,EAASX,EAAMY,EAAMrM,OAAOwM,KAAS,IAG7DjQ,OAAO2M,OAAOH,EACvB,CAGA,aAAOU,CAAOiD,EAA0B3D,GACtC,MAAMiC,EAA6B0B,EAChC9C,UAAU,UACV3I,KAAK8H,GACLc,QACAC,OAAO,KACPC,KAAK,SAAUpF,GAAM,SAAS0G,EAAS1G,EAAE8G,UACzC1B,KAAK,aAAcpF,GAAMA,EAAEiH,cAa9B,OAXAZ,EACGlB,OAAO,QACPC,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,SAAUpF,GAAMA,EAAEoH,eACvBhC,KAAK,UAAWpF,GAAMA,EAAEqH,gBAExBW,MAAM,QAAQ,CAAChI,EAAGvJ,IAAMuJ,EAAE+G,QAAQ/C,MAAMvN,EAAEwC,cAE7CoN,EAAMlB,OAAO,QAAQ8C,MAAMjI,GAAMA,EAAE8G,OAE5BT,CACT,CAEA,WAAO6B,CAAK7B,GACVA,EAAMjB,KAAK,aAAcpF,GAAMA,EAAEiH,cACjCZ,EACGpB,UAAU,QACVG,KAAK,SAAUpF,GAAMA,EAAEoH,eACvBhC,KAAK,UAAWpF,GAAMA,EAAEqH,eAC7B,CAEA,kBAAOc,CAAY9B,EAA4B+B,GAC7C/B,EAAMjB,KAAK,aAAa,CAACpF,EAAGvJ,KAC1BuJ,EAAEkH,OAAOtG,EAAIwH,EAAS3R,GAAGmK,EACzBZ,EAAEkH,OAAOC,EAAIiB,EAAS3R,GAAG0Q,EAClBnH,EAAEiH,eAEXZ,EACGpB,UAAU,QACVG,KAAK,SAAS,CAACpF,EAAGvJ,IAAM2R,EAAS3R,GAAGwN,QACpCmB,KAAK,UAAU,CAACpF,EAAGvJ,IAAM2R,EAAS3R,GAAG6Q,QAC1C,EAGF,MAAMe,EAAcjQ,GAClB,cAAoBA,EAGlB,WAAA0L,CAAYgD,EAAcC,GACxBuB,MAAMxB,EAAMC,GAEZxO,KAAKgQ,OAAS,EAChB,CAEA,IAAA/N,CAAKkN,GACHnP,KAAKgQ,OAAO/N,KAAKkN,EAAK3D,GACxB,GAMEyE,EAAapQ,GACjB,cAA6BA,EAG3B,WAAA0L,CAAYgD,EAAcC,GACxBuB,MAAMxB,EAAMC,GAEZxO,KAAKkQ,SAAW,WAAY,WAC9B,CAEA,aAAO3D,CAAOiD,EAAO3D,GACnB,MAAMiC,EAAQiC,MAAMxD,OAAOiD,EAAO3D,GAMlC,OAJAiC,EAAMqC,MAAK,SAA6B1I,GACtCA,EAAEyI,SAASE,SAASpQ,KACtB,IAEO8N,CACT,CAGA,EAAAuC,CAAG9B,EAAc+B,GACftQ,KAAKkQ,SAASG,GAAG9B,EAAM+B,EACzB,GAMEC,EAAa1Q,IACjB,MAAMwP,UAAcxP,EAGlB,WAAA0L,CAAYgD,EAAcC,GACxBuB,MAAMxB,EAAMC,GAEZ,IAAK,MAAMjD,KAAe8D,EAAMmB,mBAE9BjF,EAAYkF,KAAKzQ,KAAjBuL,CAAuBgD,EAAMC,EAEjC,CAEA,0BAAOkC,CAAoBC,GACzBtB,EAAMmB,mBAAmBvO,KAAK0O,EAChC,EAGF,OAhBiB,EAAAH,mBAAoC,GAgB9CnB,CAAK,EAGd,MAAMuB,UAAwBd,EAAWxB,KAEzC,MAAMuC,UAAuBZ,EAAUW,KAGvC,MAAMvB,UAAckB,EAAUM,KCrLvB,MAAMC,EACX,WAAAvF,CAEUxH,EACAgN,GADA,KAAAhN,KAAAA,EACA,KAAAgN,SAAAA,CACP,CAEH,GAAAhG,CAAItB,GACF,OAAOzJ,KAAK8B,MAAM2H,GAAMuH,QAAQC,GAAyB,iBAAZA,EAAE5F,OACjD,CAEQ,KAAAvJ,CAAM2H,GACZ,OAAKzJ,KAAK+D,KAEN/D,KAAK+Q,SAAiB/Q,KAAKkR,kBAAkBzH,GACrCzJ,KAAKmR,qBAAqB1H,GAHf,EAIzB,CAEQ,iBAAAyH,CAAkBzH,GACxB,MAAM1F,EAAuB,GAM7B,OAJA0F,EAAKN,SAAS8H,IACRjR,KAAK+D,KAAKkN,IAAMjR,KAAK+D,KAAKkN,GAAGjR,KAAK+Q,WAAWhN,EAAK9B,KAAK,CAAE6K,MAAOmE,EAAG5F,MAAOrL,KAAK+D,KAAKkN,GAAGjR,KAAK+Q,WAAY,IAGvGhN,CACT,CAEQ,oBAAAoN,CAAqB1H,GAC3B,MAAM1F,EAAuB,GAM7B,OAJA0F,EAAKN,SAAS8H,IACRjR,KAAK+D,KAAKkN,IAAIlN,EAAK9B,KAAK,CAAE6K,MAAOmE,EAAG5F,MAAOrL,KAAK+D,KAAKkN,IAAK,IAGzDlN,CACT,ECbF,MAAMqN,EAiBJ,WAAA7F,CACExH,EACOyH,EACCgD,GADD,KAAAhD,GAAAA,EACC,KAAAgD,QAAAA,EAERxO,KAAKuO,KAAOxK,EAAKwK,KACjBvO,KAAK8N,MAA8B,iBAAf/J,EAAK+J,MAAqB,CAAC/J,EAAK+J,OAAS/J,EAAK+J,OAAS,GAC3E9N,KAAKqR,KAAOtN,EAAKsN,KACjBrR,KAAKsR,SAAW,IAAIR,EAAS/M,EAAKwN,MAAMxG,IAAIyD,EAAQgD,UACpDxR,KAAKuR,KAAOxN,EAAKwN,KACjBvR,KAAKyR,WAAa1N,EAAK+I,OAAS,GAEhC9M,KAAK0L,MAAQ8C,EAAQ9C,OAAS,GAC9B1L,KAAK+O,OAASP,EAAQO,QAAU,GAChC/O,KAAKyO,QAAU,EACfzO,KAAK0R,YAAc,QAEnB1R,KAAKkP,SAAS1D,EAChB,CAEQ,QAAA0D,CAAS1D,GACfmG,EAAKC,IAAMD,EAAKC,KAAO,CAAC,EACxBD,EAAKC,IAAI5R,KAAKuO,MAAQ/C,CACxB,CAEA,SAAAkD,GAGE,MAAO,aAFG1O,KAAKqI,EAAIrI,KAAK0L,MAAQ,EAAI1L,KAAKyO,YAC/BzO,KAAK4O,EAAI5O,KAAK+O,OAAS,EAAI/O,KAAKyO,UAE5C,CAEQ,SAAAoD,GACN,OAAO7R,KAAK0L,MAAQ,EAAI1L,KAAKyO,OAC/B,CAEQ,UAAAqD,GACN,OAAO9R,KAAK+O,OAAS,EAAI/O,KAAKyO,OAChC,CAEQ,QAAAsD,GACN,OAAO/R,KAAK6R,YAAc,CAC5B,CAEQ,QAAAG,GAEN,OAAOhS,KAAK+O,OAAS,CACvB,CAEA,eAAOkD,CAAS1D,GACd,QAAuB9D,IAAnBkH,EAAKC,IAAIrD,GAAqB,KAAM,iBAAiBA,KACzD,OAAOoD,EAAKC,IAAIrD,EAClB,CAEO,MAAA2D,GACL,OAAO/D,EAASnO,KAAKuO,KACvB,CAGA,aAAOhC,CAAOiD,EAA0BR,GACtC,MAAMG,EAA2BK,EAC9B9C,UAAU,SACV3I,KAAKiL,GACLrC,QACAC,OAAO,KACPC,KAAK,MAAOpF,GAAMA,EAAEyK,WACpBrF,KAAK,QAASpF,GAAMA,EAAE8G,OACtB1B,KAAK,aAAcpF,GAAMA,EAAEiH,cAS9B,OAPAS,EAAKgB,MAAK,SAA6B1I,GACjCA,EAAE4J,KAAMM,EAAKQ,YAAYnS,MACxB2R,EAAKS,WAAWpS,MAErB2R,EAAKU,WAAWrS,KAClB,IAEOmP,CACT,CAEQ,iBAAOkD,CAAWC,GACxB,MAAM5C,EAAQ,SAAU4C,GACrB1F,OAAO,QACPC,KAAK,cAAe,UACpBA,KAAK,KAAMpF,GAAMA,EAAEsK,aACnBlF,KAAK,KAAMpF,GAAMA,EAAEuK,aACtBtC,EACG9C,OAAO,SACP8C,MAAMjI,GAAMA,EAAE8G,OACd1B,KAAK,KAAMpF,GAAMA,EAAEsK,aAEtBrC,EAAKS,MAAM1I,IAEJA,EAAE+G,QAAQ+D,SACbZ,EAAKa,eAAe9C,EAAMjI,EAAE6J,SAC9B,GAEJ,CAEQ,qBAAOkB,CAAeF,EAA+Bf,GAC3DA,EAAKpI,SAASsJ,IACZH,EACG1F,OAAO,SACPC,KAAK,KAAMpF,GAAMA,EAAEsK,aACnBlF,KAAK,MAAOpF,GAAMA,EAAEiK,cACpB7E,KAAK,QAAS4F,EAAE3F,OAChB4C,KAAK+C,EAAEpH,MAAM,GAEpB,CAEQ,kBAAO8G,CAAYG,GACxB,SAAUA,GACRzF,KAAK,SAAUpF,GAAM,cAAc0G,EAAS1G,EAAE8G,SAAS9G,EAAEgK,eACzD7E,OAAO,SACPC,KAAK,cAAepF,GAAMA,EAAE4J,OAC5BxE,KAAK,SAAUpF,GAAMA,EAAEoK,cACvBhF,KAAK,UAAWpF,GAAMA,EAAEqK,cAC7B,CAEQ,iBAAOM,CAAWE,GACvB,SAAUA,GACRzF,KAAK,SAAUpF,GAAM,aAAa0G,EAAS1G,EAAE8G,SAAS9G,EAAEgK,eACxD7E,OAAO,QACPC,KAAK,SAAUpF,GAAMA,EAAEoK,cACvBhF,KAAK,UAAWpF,GAAMA,EAAEqK,eACxBjF,KAAK,KAAM,GACXA,KAAK,KAAM,GACX4C,MAAM,QAAShI,GAAMA,EAAE+G,QAAQ/C,WAAMhB,IAC1C,CAEA,WAAOkF,CAAKR,GACVA,EAAKtC,KAAK,aAAcpF,GAAMA,EAAEiH,aAClC,CAEA,kBAAOkB,CAAYT,EAA0BU,GAC3CV,EAAKtC,KAAK,aAAa,CAACpF,EAAGvJ,iBAUzB,OARqB,QAAR,QAAX,EAAA2R,EAAS3R,UAAE,eAAEmK,SACMoC,KAAR,QAAX,EAAAoF,EAAS3R,UAAE,eAAEmK,IACM,QAAR,QAAX,EAAAwH,EAAS3R,UAAE,eAAE0Q,SACMnE,KAAR,QAAX,EAAAoF,EAAS3R,UAAE,eAAE0Q,KAEbnH,EAAEY,EAAIwH,EAAS3R,GAAGmK,EAClBZ,EAAEmH,EAAIiB,EAAS3R,GAAG0Q,GAEbnH,EAAEiH,WAAW,GAExB,CAEA,YAAO/K,GACLgO,EAAKC,IAAM,IACb,EAGF,MAAM,EAAa/R,GACjB,cAA4BA,EAG1B,WAAA0L,CAAYxH,EAAoByH,EAAYgD,GAC1CuB,MAAMhM,EAAMyH,EAAIgD,GAEhBxO,KAAKkQ,SAAW,WAAY,WAC9B,CAEA,aAAO3D,CAAOiD,EAAOR,GACnB,MAAMG,EAAOY,MAAMxD,OAAOiD,EAAOR,GAMjC,OAJAG,EAAKgB,MAAK,SAA6B1I,GACrCA,EAAEyI,SAASE,SAASpQ,KACtB,IAEOmP,CACT,CAGA,EAAAkB,CAAG9B,EAAc+B,GACftQ,KAAKkQ,SAASG,GAAG9B,EAAM+B,EACzB,GAME,EAAazQ,IACjB,MAAM8R,UAAa9R,EAGjB,WAAA0L,CAAYxH,EAAoByH,EAAYgD,GAC1CuB,MAAMhM,EAAMyH,EAAIgD,GAEhB,IAAK,MAAMjD,KAAeoG,EAAKnB,mBAE7BjF,EAAYkF,KAAKzQ,KAAjBuL,CAAuBxH,EAAMyH,EAAIgD,EAErC,CAEA,0BAAOkC,CAAoBC,GACzBgB,EAAKnB,mBAAmBvO,KAAK0O,EAC/B,EAGF,OAhBiB,EAAAH,mBAAoC,GAgB9CmB,CAAI,EAGb,MAAMe,UAAsB,EAAUtB,KAGtC,MAAMO,UAAa,EAAUe,KChOtB,MAAMC,EAoBX,WAAApH,CACExH,EACOyH,EACCgD,GADD,KAAAhD,GAAAA,EACC,KAAAgD,QAAAA,EAERxO,KAAKqM,OAASsF,EAAKM,SAASlO,EAAKsI,QACjCrM,KAAKsM,OAASqF,EAAKM,SAASlO,EAAKuI,QACjCtM,KAAK8L,OAAS/H,EAAK+H,OACnB9L,KAAKsR,SAAW,IAAIR,EAAS/M,EAAKwN,MAAMxG,IAAIyD,EAAQgD,UACpDxR,KAAK4S,WAAa,IAAI9B,EAAS/M,EAAKwN,KAAM,UAAUxG,IAAIyD,EAAQgD,UAChExR,KAAK6S,WAAa,IAAI/B,EAAS/M,EAAKwN,KAAM,UAAUxG,IAAIyD,EAAQgD,UAChExR,KAAKyR,WAAa1N,EAAK+I,OAAS,GAEC,mBAAtB0B,EAAQsE,UAA0B9S,KAAK0L,MAAQ8C,EAAQsE,UAAU/O,EAAKwN,OAAS,EACrFvR,KAAK0L,MAAQ8C,EAAQsE,WAAa,EAEvC9S,KAAK+S,cAAgB,GACrB/S,KAAKgT,aAAe,GACpBhT,KAAKiT,aAAe,IACpBjT,KAAKyL,MAAQ,UAEbzL,KAAKkP,SAAS1D,EAChB,CAEQ,QAAA0D,CAAS1D,GACf0H,EAAKrH,OAASqH,EAAKrH,QAAU,CAAC,EAG9B,MAAMlG,EAAM,CAAC3F,KAAKqM,OAAQrM,KAAKsM,QAAQW,OAAOvM,YAC7CwS,EAAKrH,OAAOlG,KAASuN,EAAKrH,OAAOlG,GAAO,KAAK1D,KAAKuJ,EACrD,CAEQ,cAAA2H,GACN,OAAOnT,KAAKsR,SAASvQ,OAAS,CAChC,CAEQ,aAAAqS,GACN,OAAOpT,KAAK6S,WAAW9R,OAAS,CAClC,CAEA,CAAA0G,GACE,MAAO,KAAMzH,KAAKqM,OAAgBhE,KAAMrI,KAAKqM,OAAgBuC,OAAQ5O,KAAKsM,OAAgBjE,KACvFrI,KAAKsM,OAAgBsC,GAE1B,CAEQ,MAAAyE,GACN,MAAO,OAAOrT,KAAKwL,IACrB,CAEO,MAAA8H,GACL,MAAO,OAAOtT,KAAKwL,IACrB,CAEQ,MAAA+H,GACN,IAAKvT,KAAKwT,QAAS,CACjB,MAAMD,EAAS9U,OAAOgV,iBAAiBC,SAASC,eAAe3T,KAAKsT,WAAWC,OAO7EvT,KAAKwT,QAHFD,GAAqB,QAAXA,EAGE7Q,SAAS6Q,GAFTvT,KAAK+S,aAIxB,CAEA,OAAO/S,KAAKwT,OACd,CAEQ,cAAAI,GACN,MAAMC,EAAcH,SAASC,eAAe3T,KAAKqT,UAAwCS,iBAEnFC,EAAUC,MAAMC,KAAKP,SAASQ,uBAAuBlU,KAAKqT,WAAWc,MAAMC,IAE/E,MAAMC,EAAKD,EAAEE,WAEb,OAAID,EAAGE,UAAUC,SAAS,UACjBH,EAAGI,wBAA0BZ,EAE7BQ,EAAGI,wBAA0BzU,KAAKgT,aAAea,CAC1D,IAMF,OAHA,YAAa,QAAQ7T,KAAKqT,YAAYqB,QAAQ,QAASX,GAGhDb,EAAKyB,MAAQ,MAAQZ,CAC9B,CAEA,KAAAjG,GACE,OAAOoF,EAAKrH,OAAO,CAAE7L,KAAKqM,OAAgBb,GAAKxL,KAAKsM,OAAgBd,IAAIyB,OAAOvM,WACjF,CAGQ,YAAAkU,GACN,QAAQ,GACN,KAAK5U,KAAKmT,iBACR,OAAO,EACT,KAAKnT,KAAKoT,gBACR,OAAQpT,KAAKgT,aACf,QACE,OAAOhT,KAAKgT,aAElB,CAEQ,YAAA6B,GACN,OAAI7U,KAAKmT,iBAAiD,GAApBnT,KAAKiT,aAAT,KACtB,GAAGjT,KAAKiT,gBACtB,CAEQ,MAAA6B,CAAOC,GACb,OAAK/U,KAAKqM,OAAgBhE,EAAKrI,KAAKsM,OAAgBjE,EAC3C,cAAc0M,EAAK1M,EAAI0M,EAAKrJ,MAAQ,KAAKqJ,EAAKnG,EAAImG,EAAKhG,OAAS,KAC7D,WACd,CAEQ,KAAAiG,GACN,IAAKhV,KAAKsR,WAAatR,KAAK4S,aAAe5S,KAAK6S,WAAY,MAAO,CAAC7S,MAGpE,MAAMuR,EAA8B,GAUpC,MATA,CAAC,WAAY,aAAc,cAAcpI,SAAQ,CAACxD,EAAKzH,EAAGuL,KACxD,GAAIzJ,KAAK2F,GAAM,CACb,MAAMsP,EAAQ5V,OAAO6V,OAAO7V,OAAOD,OAAOY,MAAOA,MAEjDyJ,EAAKuH,QAAQC,GAAMA,IAAMtL,IAAKwD,SAAS8H,GAAOgE,EAAMhE,GAAK,KACzDM,EAAKtP,KAAKgT,EACZ,KAGK1D,CACT,CAEQ,OAAA4D,GACN,OAAOnV,KAAKsR,SAASvQ,OAAS,GAAKf,KAAK4S,WAAW7R,OAAS,GAAKf,KAAK6S,WAAW9R,OAAS,CAC5F,CAEA,QACE,MAAO,QAAQoN,EAAUnO,KAAKqM,OAAgBkC,SAASJ,EAAUnO,KAAKsM,OAAgBiC,SAASJ,EAC5FnO,KAAKqM,OAAgBkC,SACnBJ,EAAUnO,KAAKsM,OAAgBiC,SAASvO,KAAKyR,YACpD,CAGA,iBAAAtE,GACE,MAAMhB,EAAO,SAAU,UAAUnM,KAAKsT,YAAYnE,OAC5C4F,EAAO5I,EAAKiJ,UACZ1G,EAAYvC,EAAKuC,UAAU2G,QAAQC,cAEzC,MAAO,CACLP,EAAK1M,EAAI0M,EAAKrJ,MAAQ,IAAKgD,aAAS,EAATA,EAAW6G,OAAOjS,IAAK,GAClDyR,EAAKnG,EAAImG,EAAKhG,OAAS,IAAKL,aAAS,EAATA,EAAW6G,OAAOzM,IAAK,GAEvD,CAEA,KAAA0E,GACE,MAAMrB,EAAO,SAAU,UAAUnM,KAAKsT,YAAYnE,OAClD,OAC8G,IAA3G5Q,KAAKiX,MAAMrJ,EAAKsJ,GAAGJ,QAAQhK,MAAQc,EAAKuJ,GAAGL,QAAQhK,MAAOc,EAAKwJ,GAAGN,QAAQhK,MAAQc,EAAKyJ,GAAGP,QAAQhK,OACnG9M,KAAKsX,EAET,CAEA,aAAOtJ,CACLC,EACAsJ,EACAnN,GAIA,MAAMoN,EAAYvJ,EACfE,UAAU,SACV3I,KAAK4E,GACLgE,QACAC,OAAO,KACPC,KAAK,SAAUpF,GAAMA,EAAEqF,UAEpBX,EAAO4J,EACVnJ,OAAO,QACPC,KAAK,MAAOpF,GAAOA,EAAE4E,OAAgBhE,IACrCwE,KAAK,MAAOpF,GAAOA,EAAE4E,OAAgBuC,IACrC/B,KAAK,MAAOpF,GAAOA,EAAE6E,OAAgBjE,IACrCwE,KAAK,MAAOpF,GAAOA,EAAE6E,OAAgBsC,IACrC/B,KAAK,UAAWpF,GAAMA,EAAEgE,QACxBoB,KAAK,gBAAiBpF,GAAMA,EAAEiE,QAC9BmB,KAAK,MAAOpF,GAAMA,EAAE6L,WACpBjD,GAAG,kBAAmB5I,GAAMuO,EAAUtJ,UAAU,QAAQjF,EAAE4L,YAAYqB,QAAQ,SAAS,KACvFrE,GAAG,iBAAkB5I,GAAMuO,EAAUtJ,UAAU,QAAQjF,EAAE4L,YAAYqB,QAAQ,SAAS,KAEnFuB,EAAOF,EACVnJ,OAAO,QACPC,KAAK,KAAMpF,GAAMA,EAAEA,MACnBoF,KAAK,MAAOpF,GAAMA,EAAE4L,WAGjB2C,EAAYF,EACfpJ,UAAU,SACV3I,KAAK4E,GACLgE,QACAC,OAAO,KACPC,KAAK,SAAUpF,GAAMA,EAAEqF,UAEpB4C,EAAOsG,EACVtJ,UAAU,QACV3I,MAAM0D,GAAYA,EAAEuN,QAAQhE,QAAQzH,GAAYA,EAAE4L,cAClDxI,QACAC,OAAO,QACPC,KAAK,SAAUpF,GAAYA,EAAE4L,WAehC,OAbiB3D,EAAK9C,OAAO,YAAYC,KAAK,cAAepF,GAAY,IAAIA,EAAE4L,aAEtElD,MAAK,SAAU1I,GACtByL,EAAKV,eAAexS,KAAMyH,EAAE6J,UAC5B4B,EAAKV,eAAexS,KAAMyH,EAAEmL,YAC5BM,EAAKV,eAAexS,KAAMyH,EAAEoL,YAExBpL,EAAE0L,kBAAkBD,EAAKgD,OAAOlW,MAEhCyH,EAAE2L,iBAAiBF,EAAKiD,YAAYnW,KAC1C,IAEAkT,EAAKkD,OACE,CAACjK,EAAM8J,EAAMvG,EACtB,CAEQ,kBAAOyG,CAAY7D,GACzB,SAAUA,GAAWzF,KAAK,QAAS,WAAWA,KAAK,cAAe,OAAOA,KAAK,cAAe,OAC/F,CAEQ,aAAOqJ,CAAO5D,GACpB,SAAUA,GAAWzF,KAAK,QAAS,UAAUA,KAAK,cAAe,UAAUA,KAAK,cAAe,MACjG,CAEQ,qBAAO2F,CAAeF,EAAwBf,GACpDA,EAAKpI,SAASsJ,IACZ,SAAUH,GACP1F,OAAO,SACPC,KAAK,KAAMpF,GAAYA,EAAEmN,iBACzB/H,KAAK,MAAOpF,GAAYA,EAAEoN,iBAC1BhI,KAAK,QAAS4F,EAAE3F,OAChB4C,KAAK+C,EAAEpH,MAAM,GAEpB,CAGA,WAAOsE,CAAKxD,EAA0B8J,EAA2BI,GAC/DlK,EACGU,KAAK,MAAOpF,GAAOA,EAAE4E,OAAgBhE,IACrCwE,KAAK,MAAOpF,GAAOA,EAAE4E,OAAgBuC,IACrC/B,KAAK,MAAOpF,GAAOA,EAAE6E,OAAgBjE,IACrCwE,KAAK,MAAOpF,GAAOA,EAAE6E,OAAgBsC,IAErCqH,GACDA,EAAKpJ,KAAK,KAAMpF,GAAMA,EAAEA,MAGvB4O,GACDA,EAAMxJ,KAAK,aAAa,SAASpF,GAC/B,OAAOA,EAAEqN,OAAO9U,KAAKoV,UACvB,IAIF,YAAa,cAAc3F,MAAM,cAAehI,GAAaA,EAAEmM,iBAAmB,UAAY,UAChG,CAEA,WAAOwC,CAAKzB,GACVzB,EAAKyB,MAAQA,EAEb,YAAa,cAAclF,MAAM,cAAehI,GAAaA,EAAEmM,iBAAmB,UAAY,UAChG,CAEA,kBAAOhE,CAAYzD,EAA0B0D,GAC3C1D,EACGU,KAAK,MAAM,CAACpF,EAAGvJ,IAAM2R,EAAS3R,GAAG0X,KACjC/I,KAAK,MAAM,CAACpF,EAAGvJ,IAAM2R,EAAS3R,GAAGwX,KACjC7I,KAAK,MAAM,CAACpF,EAAGvJ,IAAM2R,EAAS3R,GAAGyX,KACjC9I,KAAK,MAAM,CAACpF,EAAGvJ,IAAM2R,EAAS3R,GAAGuX,IACtC,CAEQ,eAAA9H,GACN,IAAK3N,KAAK4N,iBAAkB,CAC1B,MAAMC,EAAU7N,KAAK8N,SAAW,GAChC9N,KAAK4N,iBAAmBC,EAAQyI,QAAQtW,KAAKwL,KAAOqC,EAAQ9M,OAAS,GAAK,CAC5E,CAEA,OAAOf,KAAK4N,gBACd,CAEA,kBAAOK,CACL9B,EACA8J,EAEAI,EACAvK,GAEA,MAAM4C,EAAajH,GAAYA,EAAEwG,YAAYxG,EAAEkG,mBAE/CxB,EAAKU,KAAK,YAAa6B,GACvBuH,EAAKpJ,KAAK,YAAa6B,GACvB2H,EAAMxJ,KAAK,YAAa6B,GACxBpD,EAAO2C,YAAYnC,EACrB,CAEA,WAAAmC,CAAYsI,GACV,MAAMlJ,EAAMrN,KAAKuT,SAAWgD,EAEtBlO,EAAKrI,KAAKsM,OAAgBjE,EAAKrI,KAAKqM,OAAgBhE,EACpDuG,EAAK5O,KAAKsM,OAAgBsC,EAAK5O,KAAKqM,OAAgBuC,EACpD7N,EAASxC,KAAK+O,KAAK/O,KAAKgP,IAAIlF,EAAG,GAAK9J,KAAKgP,IAAIqB,EAAG,IAEtD,MAAO,cAAevB,EAAMuB,EAAK7N,MAAYsM,EAAMhF,EAAKtH,IAC1D,CAEA,YAAO4C,GACLuP,EAAKrH,OAAS,IAChB,EAGF,MAAM,EAAahM,GACjB,cAA4BA,EAG1B,WAAA0L,CAAYxH,EAAoByH,EAAYgD,GAC1CuB,MAAMhM,EAAMyH,EAAIgD,GAEhBxO,KAAKkQ,SAAW,WAAY,WAC9B,CAGA,aAAO3D,CAAOC,EAAWsJ,EAAYnN,GACnC,MAAOwD,EAAM8J,EAAMvG,GAAQK,MAAMxD,OAAOC,EAAWsJ,EAAYnN,GAM/D,OAJAwD,EAAKgE,MAAK,SAAgC1I,GACxCA,EAAEyI,SAASE,SAASpQ,KACtB,IAEO,CAACmM,EAAM8J,EAAMvG,EACtB,CAGA,EAAAW,CAAG9B,EAAc+B,GACftQ,KAAKkQ,SAASG,GAAG9B,EAAM+B,EACzB,GAME,EAAazQ,IACjB,MAAMqT,UAAarT,EAGjB,WAAA0L,CAAYxH,EAAoByH,EAAYgD,GAC1CuB,MAAMhM,EAAMyH,EAAIgD,GAEhB,IAAK,MAAMjD,KAAe2H,EAAK1C,mBAE7BjF,EAAYkF,KAAKzQ,KAAjBuL,CAAuBxH,EAAMyH,EAAIgD,EAErC,CAEA,0BAAOkC,CAAoBC,GACzBuC,EAAK1C,mBAAmBvO,KAAK0O,EAC/B,EAGF,OAhBiB,EAAAH,mBAAoC,GAgB9C0C,CAAI,EAGb,MAAMsD,UAAsB,EAAU7D,KAGtC,MAAMO,UAAa,EAAUsD,KCzZtB,MAAeC,EAOpB,WAAAlL,CACUmL,EACRlI,EAA0B,CAAC,GADnB,KAAAkI,UAAAA,EAGR1W,KAAK2W,aAA8BlM,IAApB+D,EAAQmI,QAAwBnI,EAAQmI,QAAU,GACjE3W,KAAK4W,WAAa,QACpB,CAEU,YAAAC,CAAaC,GACrB,OAAOA,EAAY,MAAQ,OAC7B,CAEA,SAAApI,GACE,MAAM,IAAIvP,MAAM,kBAClB,CAEQ,QACN,MAAO,WAAYa,KAAKuL,YAA+BwL,gBAAgB/W,KAAKgX,YAC9E,CAKQ,aAAAC,CAAcL,GACpB5W,KAAK4W,WAA4B,YAAfA,EAA2B,UAAY,QAC3D,CAGQ,gBAAAM,GAEN,OADAlX,KAAK4W,WAAiC,WAApB5W,KAAK4W,WAA0B,UAAY,SACtD5W,KAAK4W,UACd,CAEQ,wBAAAO,CAAyBC,GAC/B,MAAO,KAEA,QAAwBC,kBAI7B,SAAUD,GACPvK,KAAK,cAAc,SAAUpF,GAG5B,OADAA,EAAEwP,cAAcjX,KAAKsX,aAAa,eAC3B7P,EAAEyP,kBACX,IAECzH,MAAM,WAAW,SAAUhI,GAC1B,MAAwB,YAAjBA,EAAEmP,WAA2B,EAAI,IAC1C,GAAE,CAER,CAEQ,4BAAAW,CAA6BH,GACnC,SAAU,IAAIpX,KAAKgX,UAAS,MAAS3G,GAAG,gBAAiBrQ,KAAKmX,yBAAyBC,GACzF,CAEQ,4BAAAI,CAA6BJ,GACnC,SAAU,IAAIpX,KAAKgX,UAAS,MAAS3G,GAAG,qBAAsBrQ,KAAKmX,yBAAyBC,IAC5F,SAAU,IAAIpX,KAAKgX,UAAS,MAAS3G,GAAG,qBAAsBrQ,KAAKmX,yBAAyBC,GAC9F,CAGQ,WAAAK,CAAYL,GAClB,SAAUA,GAAS/G,GAAG,qBAAqB,KACxC,QAAwBqH,iBAAiB,GAE9C,CAEA,cAAOC,CAAQrH,GACTA,IAAUtQ,KAAK4X,KAAOtH,EAC5B,CAGA,aAAO/D,CAA0BiD,EAA0BqI,GAEzD,MAAMC,EAAM9X,KACNuS,EAAU/C,EACb9C,UAAU,YAAYoL,EAAIf,gBAC1BhT,KAAK8T,GACLlL,QACAC,OAAO,KACPC,KAAK,cAAepF,GAAMA,EAAEmP,aAC5B/J,KAAK,SAAUpF,GAAMA,EAAEqF,UACvBD,KAAK,aAAcpF,GAAMA,EAAEiH,cAkB9B,OAhBA6D,EAAQpC,MAAK,SAAU1I,GACrBqQ,EAAIzF,WAAWrS,MAEuC,mBAA1CyH,EAAE8D,YAA+BqM,MAC3CE,EAAIC,uBAAuB/X,MAGT,UAAhByH,EAAEiP,UACJjP,EAAE+P,6BAA6BxX,MAE/ByH,EAAE8P,6BAA6BvX,MAGjCyH,EAAEgQ,YAAYzX,KAChB,IAEOuS,CACT,CAEU,WAAOyF,CAAKZ,GAEpB,GAAI3D,iBAAiB2D,GAASY,KAAKzI,MAAM,mBACvC,MAAO,SAEX,CAEU,YAAO0I,CAAM5P,EAAWuG,EAAWlD,EAAeqD,GAG1D,MACE,KAAK1G,KAAKuG,OAAOvG,EAAI,MAAMuG,EAAI,MAAMvG,EAAI,MAAMuG,EAAI,OAC9CvG,EAAI,MAAMuG,EAAI,GAJP,KAIqBvG,EAAI,GAJzB,KAIuCuG,EAAI,GAJ3C,MAKPvG,EAAI,GAAKqD,EALF,KAKmBkD,EAAI,GALvB,MAMPvG,EAAI,GAAKqD,KAASkD,EAAI,GANf,KAM6BvG,EAAI,GAAKqD,KAASkD,EAAI,OAC1DvG,EAAI,GAAKqD,KAASkD,EAAI,GAAKG,MAC3B1G,EAAI,GAAKqD,KAASkD,EAAI,GAAKG,EARpB,KAQsC1G,EAAI,GAAKqD,EAR/C,KAQgEkD,EAAI,GAAKG,EARzE,MASP1G,EAAI,GATG,KASWuG,EAAI,GAAKG,EATpB,MAUP1G,EAAI,MAAMuG,EAAI,GAAKG,EAVZ,KAU8B1G,EAAI,MAAMuG,EAAI,GAAKG,MACxD1G,EAAI,MAAMuG,EAAI,MAEvB,CAGU,iBAAOyD,CAAWC,GAC1B,MAAM,IAAInT,MAAM,kBAClB,CAUU,sBAAO+Y,CACf5F,EACA/D,EACAlD,EACAyL,GAEAxE,EACG1F,OAAO,SACPC,KAAK,KAAMpF,GAAMA,EAAEkP,QAAU,KAC7B9J,KAAK,MAAOpF,QAAqBgD,IAAdqM,OAA0BrM,EAAYhD,EAAEoP,aAAaC,KACxEjK,KAAK,QAAS,QACd6C,KAAK,GAAGnB,MAEX+D,EAAU1F,OAAO,SAASC,KAAK,KAAM,IAAIA,KAAK,QAAS,SAAS6C,KAAKrE,EACvE,CAGU,6BAAO0M,CAAuBzF,GACtC,MAAMyC,EAAOzC,EAAU8C,UAMjB+C,EALI,SACA7F,GACP1F,OAAO,KACPC,KAAK,QAASpF,GAAOA,EAAE8D,YAA+BqM,KAAKnQ,EAAIA,EAAE8D,YAA+BwL,QAGhGnK,OAAO,OACPC,KAAK,KAAMpF,GAAMsN,EAAKrJ,MAAQjE,EAAEkP,QAAU,EAHhC,KAIV9J,KAAK,IAAKkI,EAAKhG,OAAS,GAJd,IAKVlC,KAAK,QALK,IAMVA,KAAK,SANK,IAOVA,KAAK,UAAW,aAChBA,KAAK,eAAgB,GACrBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,SACvBA,KAAK,kBAAmB,SACxBA,KAAK,QAAS,sBACjBsL,EAAIvL,OAAO,QAAQC,KAAK,IAAK,iBAAiBA,KAAK,SAAU,QAAQA,KAAK,OAAQ,QAAQA,KAAK,eAAgB,GAC/GsL,EAAIvL,OAAO,QAAQC,KAAK,IAAK,iEAC7BsL,EAAIvL,OAAO,QAAQC,KAAK,IAAK,eAC7BsL,EAAIvL,OAAO,QAAQC,KAAK,IAAK,YAC/B,CAEA,mBAAOuL,CAAa7F,GAClBA,EAAQ1F,KAAK,aAAcpF,GAAMA,EAAEiH,aACrC,ECjMK,MAAM2J,UAAoB5B,EAG/B,WAAAlL,CACUY,EACRuK,GAEA3G,MAAM2G,EAAW,CAAEC,QAAS,KAHpB,KAAAxK,KAAAA,CAIV,CAEA,SAAAuC,GACE,MAAOrG,EAAGuG,GAAK5O,KAAKmM,KAAKgB,oBACzB,MAAO,aAAa9E,MAAMuG,IAC5B,CAEU,QAAAoI,CAAS3T,GAAS,GAC1B,IAAImI,EAAK2C,EAASnO,KAAKmM,KAAKmH,UAM5B,OAJIjQ,IACFmI,EAAK8M,IAAIjV,OAAOmI,IAGXA,CACT,CAEU,iBAAO6G,CAAWC,GAC1B,MAAM2D,EAAO,SAAU3D,GAAW1F,OAAO,QACnC8C,EAAO,SAAU4C,GAAW1F,OAAO,QAEzCyL,EAAYH,gBAAgBxI,EAAM,UAAWjI,GAAOA,EAAE0E,KAAKE,OAAgBkC,OAC3EmB,EAAKS,MAAK,SAAU1I,GAClBA,EAAE0E,KAAKyG,WAAWzJ,SAASsJ,IACzB4F,EAAYH,gBAAgBxI,EAAM+C,EAAE3F,MAAO2F,EAAEpH,OAAO,EAAM,GAE9D,IAEAgN,EAAYH,gBAAgBxI,EAAM,UAAWjI,GAAOA,EAAE0E,KAAKG,OAAgBiC,OAAM,GACjFmB,EAAKS,MAAK,SAAU1I,GAClBA,EAAE0E,KAAK0G,WAAW1J,SAASsJ,IACzB4F,EAAYH,gBAAgBxI,EAAM+C,EAAE3F,MAAO2F,EAAEpH,OAAO,EAAM,GAE9D,IAEAqE,EAAKS,MAAK,SAAU1I,GAClBA,EAAE0E,KAAKmF,SAASnI,SAAQ,CAACsJ,EAAGvU,KAC1Bma,EAAYH,gBAAgBxI,EAAM+C,EAAE3F,MAAO2F,EAAEpH,MAAa,IAANnN,EAAQ,IAI9D,MAAM6W,EAAO/U,KAAKoV,UAClBa,EACGpJ,KAAK,KAAMpF,GAAM4Q,EAAYJ,MAAMxQ,EAAEkP,QAAS,EAAG5B,EAAKrJ,MAAQ,GAAIqJ,EAAKhG,OAAS,MAChFU,MAAM,QAAQ,WACb,OAAO4I,EAAYL,KAAKhY,KAC1B,GACJ,GACF,EAvDiB,EAAA+W,KAAO,OCHnB,MAAMwB,UAAoB9B,EAG/B,WAAAlL,CACU4D,EACRuH,GAEA3G,MAAM2G,GAHE,KAAAvH,KAAAA,CAIV,CAEA,SAAAT,GACE,MAAO,aAAa1O,KAAKmP,KAAK9G,MAAMrI,KAAKmP,KAAKP,IAChD,CAEU,QAAAoI,CAAS3T,GAAS,GAC1B,IAAImI,EAAKxL,KAAKmP,KAAK+C,SAMnB,OAJI7O,IACFmI,EAAK8M,IAAIjV,OAAOmI,IAGXA,CACT,CAEU,iBAAO6G,CAAWC,GAC1B,MAAM2D,EAAO,SAAU3D,GAAW1F,OAAO,QACnC8C,EAAO,SAAU4C,GAAW1F,OAAO,QAEzC2L,EAAYL,gBAAgBxI,EAAM,QAASjI,GAAMA,EAAE0H,KAAKZ,OAExDmB,EAAKS,MAAK,SAAU1I,GAClBA,EAAE0H,KAAKmC,SAASnI,SAAQ,CAACsJ,EAAGvU,KAC1Bqa,EAAYL,gBAAgBxI,EAAM+C,EAAE3F,MAAO2F,EAAEpH,MAAa,IAANnN,EAAQ,IAI9D,MAAM6W,EAAO/U,KAAKoV,UAClBa,EACGpJ,KAAK,KAAMpF,GAAM8Q,EAAYN,MAAMxQ,EAAEkP,QAAS,EAAG5B,EAAKrJ,MAAQ,GAAIqJ,EAAKhG,OAAS,MAChFU,MAAM,QAAQ,WACb,OAAO8I,EAAYP,KAAKhY,KAC1B,GACJ,GACF,EA1CiB,EAAA+W,KAAO,oBCanB,MAAMyB,EAMX,WAAAjN,CACSxH,EACA0U,EACPC,GAFO,KAAA3U,KAAAA,EACA,KAAA0U,IAAAA,EAIPzY,KAAK2Y,UAAYD,CACnB,CAEQ,aAAOE,GACb,OAAOxM,KAAK7J,MAAMsW,aAAaC,QAAQ,mBAAqB,CAAC,CAC/D,CAEQ,UAAOnT,GACb,MAAO,GAAGoT,SAASC,WAAWD,SAASE,QACzC,CAEQ,UAAOlO,GACb,OAAO/K,KAAK4Y,SAAS5Y,KAAK2F,QAAW,CAAC,CACxC,CAEA,IAAAuT,CAAKpL,EAA4BqB,EAA0BhD,GACzD,MAAMgN,EAAQX,EAAcI,SAC5BO,EAAMX,EAAc7S,OAAS,CAC3B+S,IAAK1Y,KAAK0Y,MACV5K,MAAO9N,KAAKoZ,cAActL,GAC1BqB,KAAMnP,KAAKqZ,aAAalK,GACxBhD,KAAMnM,KAAKsZ,aAAanN,IAG1B0M,aAAaU,QAAQ,gBAAiBnN,KAAKlL,UAAUiY,GACvD,CAEQ,GAAAT,CAAI3U,EAAkC0U,GAmB5C,OAlBA1U,EAAOyV,gBAAgBzV,GAAQ/D,KAAK+D,OAC/B0U,IAAM3V,OAAO2V,GAAOzY,KAAKyY,KACb,cAAb1U,EAAK0U,MACP1U,EAAK0U,IAAM,QAGT1U,EAAKiL,OACPjL,EAAKiL,MAAM7F,SAASjL,WACXA,EAAEmT,YACFnT,EAAEqT,IAAI,IAGbxN,EAAK4E,OACP5E,EAAK4E,MAAMQ,SAASjL,WACXA,EAAEqT,IAAI,IAIVmH,EAAItM,KAAKlL,UAAU6C,IAAOrD,UACnC,CAGQ,aAAA0Y,CAActL,GACpB,MAAM+B,EAA4B,GAWlC,OATA/B,EAAMqC,MAAM1I,IACVoI,EAAS5N,KAAK,CACZoG,EAAGZ,EAAEkH,OAAOtG,EACZuG,EAAGnH,EAAEkH,OAAOC,EACZlD,MAAOjE,EAAEkH,OAAOjD,QAChBqD,OAAQtH,EAAEkH,OAAOI,UACjB,IAGGc,CACT,CAGQ,YAAAwJ,CAAalK,GACnB,MAAMU,EAA2B,GASjC,OAPAV,EAAKgB,MAAM1I,IACToI,EAAS5N,KAAK,CACZoG,EAAGZ,EAAEY,EACLuG,EAAGnH,EAAEmH,GACL,IAGGiB,CACT,CAGQ,YAAAyJ,CAAanN,GACnB,MAAM0D,EAA2B,GAWjC,OATA1D,EAAKgE,MAAM1I,IACToI,EAAS5N,KAAK,CACZ2T,GAAInO,EAAE4E,OAAOhE,EACbqN,GAAIjO,EAAE4E,OAAOuC,EACb+G,GAAIlO,EAAE6E,OAAOjE,EACboN,GAAIhO,EAAE6E,OAAOsC,GACb,IAGGiB,CACT,CAEQ,KAAAN,CAAMxL,EAAyB0U,GACrC,OAAOzY,KAAK2Y,YAAc3Y,KAAK0Y,IAAI3U,EAAmC0U,EACxE,CAEA,WAAOgB,CAAK1V,EAAyB0U,GACnC,MAAMU,EAAQnZ,KAAK+K,MACnB,GAAIoO,EAAO,CACT,MAAMtJ,EAAW,IAAI2I,EAAczU,EAAM0U,EAAKU,EAAMT,KACpD,GAAI7I,EAASN,MAAMxL,EAAM0U,GAMvB,OAJA5I,EAAS/B,MAAQqL,EAAMrL,MACvB+B,EAASV,KAAOgK,EAAMhK,KACtBU,EAAS1D,KAAOgN,EAAMhN,KAEf0D,CAEX,CACF,EClIF,MAAM,EAAO,EAAQ,KA0CrB,MAAM6J,EAeJ,WAAAnO,CAAY+G,EAAmBqH,EAAuCnL,GACpEA,IAAAA,EAAY,CAAC,GACbxO,KAAKwO,QAAUnP,OAAO6V,OAAO,CAAC,EAAG1G,GACjCxO,KAAKwO,QAAQoL,SAAWtH,EACxBtS,KAAKwO,QAAQmL,UAAYA,EACzB3Z,KAAKwO,QAAQqL,aAAerL,EAAQiK,IACpCzY,KAAKwO,QAAQ9C,MAAQ8C,EAAQ9C,OAAS,IACtC1L,KAAKwO,QAAQO,OAASP,EAAQO,QAAU,IACxC/O,KAAKwO,QAAQsL,aAAetL,EAAQsL,cAAgB,CAAC,EACrD9Z,KAAKwO,QAAQuL,oBAAsBvL,EAAQuL,qBAAuB,GAElE/Z,KAAKwO,QAAQ/C,MAAQ,QAASuO,aAC9Bha,KAAKwO,QAAQyL,aAAezL,EAAQyL,cAAgB,EACpDja,KAAKwO,QAAQ0L,SAAW1L,EAAQ2L,OAAS,IAEzCna,KAAKwO,QAAQ4L,gBAAgB,kBAAmB5L,IAAUA,EAAQ4L,cAElEpa,KAAKwO,QAAQ1C,OAAS,WAAY0C,GAAUA,EAAQ1C,OACpD9L,KAAKwO,QAAQ+D,QAAU/D,EAAQ+D,QAE/BvS,KAAKqa,YAAcra,KAAKiK,aAAauE,EAAQ8L,UAAY,KACzD/B,EAAYZ,QAAQnJ,EAAQoJ,MAC5BS,EAAYV,QAAQnJ,EAAQoJ,KAC9B,CAEA,IAAAzX,IAAQoR,GACNvR,KAAKwO,QAAQ+C,KAAOA,EACpBvR,KAAK6J,KAAO7J,KAAKua,WACjBva,KAAKmY,IAAMnY,KAAKwa,UAEhBxa,KAAKya,qBAEiC,iBAA3Bza,KAAKwO,QAAQmL,UACtBe,YAAW,KAET1a,KAAKuM,OAAOvM,KAAKwO,QAAQmL,UAA+B,IAG1D,OAAQ3Z,KAAK2a,OAAO,CAACC,EAAO7W,KACtB6W,IACFC,QAAQD,MAAMA,GACd5a,KAAK8a,YAAY,mBAAmB9a,KAAK2a,WAG3C3a,KAAKuM,OAAOxI,EAAK,GAGvB,CAEA,QAAAwW,GACE,OAAO,EACJQ,YACAC,eAAc,GACdC,oBAAmB,GACnBC,KAAK,CAAClb,KAAKwO,QAAQ9C,MAAO1L,KAAKwO,QAAQO,QAC5C,CAEA,OAAAyL,GACExa,KAAKoW,KAAO,WAAYA,OAExB,MAAM9D,EAA+B,SAC3BtS,KAAKwO,QAAQoL,UACpBhN,OAAO,OACPC,KAAK,QAAS7M,KAAKwO,QAAQ9C,OAC3BmB,KAAK,SAAU7M,KAAKwO,QAAQO,QAC5BnC,OAAO,KACP/K,KAAK7B,KAAKoW,KAAK/F,GAAG,QAAQ,IAAMrQ,KAAKmb,aAAa7I,MAClD1F,OAAO,KASV,OAPA0F,EACG1F,OAAO,QACPC,KAAK,QAA8B,GAArB7M,KAAKwO,QAAQ9C,OAC3BmB,KAAK,SAAgC,GAAtB7M,KAAKwO,QAAQO,QAC5BlC,KAAK,YAAa,cAAmC,EAArB7M,KAAKwO,QAAQ9C,WAAqC,EAAtB1L,KAAKwO,QAAQO,WACzEU,MAAM,UAAW,GAEb6C,CACT,CAEA,MAAA/F,CAAOxI,GACL,IACE,MAAMiL,EAAQjL,EAAKiL,MACfjL,EAAKiL,MAAM/C,KACT,CAACzD,EAAGtK,IACF,IAAIyT,EAAKnJ,EAAGtK,EAAG,CACbwN,MAAO1L,KAAKwO,QAAQqD,UACpB9C,OAAQ/O,KAAKwO,QAAQsD,WACrBN,SAAUxR,KAAKwO,QAAQ+C,KACvB9F,MAAOzL,KAAKwO,QAAQ/C,MACpB8G,UAAWvS,KAAKwO,QAAQ+D,YAG9B,GACE5J,EAAQ5E,EAAK4E,MACf2C,EAAO0B,aAAajJ,EAAK4E,OAAOsD,KAC9B,CAAC1C,EAAGrL,IACF,IAAIgV,EAAK3J,EAAGrL,EAAG,CACbsT,SAAUxR,KAAKwO,QAAQ+C,KACvBuB,UAAW9S,KAAKob,iBAGtB,GACEvP,EAASwD,EAAMzD,OAAOoD,EAAOhP,KAAKwO,QAAQqL,aAAc,CAC5DpO,MAAOzL,KAAKwO,QAAQ/C,MACpBgD,QAASzO,KAAKwO,QAAQ6M,eAElBC,EAAetM,EAAM/C,KAAKzD,GAAM,IAAI+P,EAAY/P,EAAGxI,KAAKwO,QAAQ+D,WAChEgJ,EAAe5S,EAAMsD,KAAK1C,GAAM,IAAI8O,EAAY9O,EAAGvJ,KAAKwO,QAAQ+D,WAChE9F,EAAUnB,EAAOM,OAAOjD,GAE9B3I,KAAK6J,KAAKmF,MAAMA,GAAOrG,MAAMA,GAAOkD,OAAOA,GAC3C7L,KAAKwb,iBAAiBxb,KAAKwO,QAAQuL,oBAAqB/K,GACxDhP,KAAKqa,YAAYra,KAAK6J,MAItB7J,KAAK6J,KAAK4D,MAAMzN,KAAKwO,QAAQyL,cAE7B,MAAMwB,EAAazb,KAAKmY,IAAIvL,OAAO,KAAKC,KAAK,KAAM,UAC7CL,EAAYxM,KAAKmY,IAAIvL,OAAO,KAAKC,KAAK,KAAM,SAC5C6O,EAAY1b,KAAKmY,IAAIvL,OAAO,KAAKC,KAAK,KAAM,SAC5C8O,EAAiB3b,KAAKmY,IAAIvL,OAAO,KAAKC,KAAK,KAAM,eACjD+O,EAAe5b,KAAKmY,IAAIvL,OAAO,KAAKC,KAAK,KAAM,aAE9CV,EAAM8J,EAAMI,GAASnD,EAAK3G,OAAOC,EAAWmP,EAAgBhT,GAC7DmD,EAASR,EAAOiB,OAAOC,EAAWC,GAElCqB,EAAQuB,EAAM9C,OAAOkP,EAAY5P,GAAQhK,KAC7C7B,KAAK6J,KACFgS,OACAxL,GAAG,YAAaqJ,EAAYoC,mBAC5BzL,GAAG,QAAQ,KACNrQ,KAAKwO,QAAQ1C,QACfoH,EAAKjF,YAAY9B,EAAM8J,EAAMI,EAAOvK,GAGtCyM,EAAYH,aAAa2D,GACzB1D,EAAYD,aAAa4D,EAAY,KAIrC7M,EAAOwC,EAAKpF,OAAOmP,EAAW1M,GAAOnN,KACzC7B,KAAK6J,KACFgS,OACAxL,GAAG,YAAaqJ,EAAYoC,mBAC5BzL,GAAG,QAAQ,KACNrQ,KAAKwO,QAAQ1C,QACfoH,EAAKjF,YAAY9B,EAAM8J,EAAMI,EAAOvK,GAGtCyM,EAAYH,aAAa2D,GACzB1D,EAAYD,aAAa4D,EAAY,KAK3Chc,KAAKic,cAAcnO,EAAOqB,EAAMhD,GAEhCnM,KAAKoa,cAAgB5B,EAAciB,KAAK1V,EAAM/D,KAAKwO,QAAQqL,cACvD7Z,KAAKwO,QAAQ4L,eAAiBpa,KAAKoa,eAGrC/K,EAAMO,YAAY9B,EAAO9N,KAAKoa,cAActM,OAC5C6D,EAAK/B,YAAYT,EAAMnP,KAAKoa,cAAcjL,MAC1C+D,EAAKtD,YAAYzD,EAAMnM,KAAKoa,cAAcjO,QAEtCnM,KAAKwO,QAAQsL,aAAaoC,eAC5BvK,EAAK/B,YACHT,EACAA,EAAKpL,OAAOkI,KAAKxE,GAAMzH,KAAKwO,QAAQsL,aAAaoC,aAAazU,MAEhEzH,KAAK6J,KAAK4D,SAGZzN,KAAKmc,eACLnc,KAAKoa,cAAgB,IAAI5B,EAAczU,EAAM/D,KAAKwO,QAAQqL,cAC1D7Z,KAAKoc,aAAatO,EAAOqB,EAAMhD,IAGjCnM,KAAKqc,kBAELrc,KAAKic,cAAcnO,EAAOqB,EAAMhD,EAAM8J,EAAMI,GAC5CrW,KAAKsc,oBAELtc,KAAK6J,KAAK4D,QACNzN,KAAKwO,QAAQ1C,QACfoH,EAAKjF,YAAY9B,EAAM8J,EAAMI,EAAOvK,GAGtCmK,EAAKpJ,KAAK,KAAMpF,GAAMA,EAAEA,MACxBiS,EAAY6C,OAAOpN,GAEnB,MAAM4M,EAAcxD,EAAYhM,OAAoBqP,EAAcN,GAC5DU,EAAc3D,EAAY9L,OAAoBqP,EAAcL,GAG/B,UAA/Bvb,KAAKwO,QAAQ4L,eACfpa,KAAK6J,KAAKwG,GAAG,OAAO,KAClBrQ,KAAKoc,aAAatO,EAAOqB,EAAMhD,EAAK,GAG1C,CAAE,MAAO7I,GAEP,MADAtD,KAAK8a,YAAYxX,GACXA,CACR,CACF,CAEA,SAAAwP,CAAUnC,GACR3Q,KAAKob,aAAezK,CACtB,CAEA,IAAA9D,CAAK0B,EAAclD,GACZrL,KAAKwc,kBACRxc,KAAKyc,uBAGPzc,KAAKmY,IAAItL,KAAK0B,EAAMlD,GAEpB,MAAMqD,EAAY,YAAa1O,KAAKmY,IAAItL,KAAK,cAC7C7M,KAAKoW,KAAKzB,MAAMjG,EAAUiG,MAAM,IAChC3U,KAAKoW,KAAKsG,UAAUhO,EAAUgO,UAChC,CAEA,OAAAC,GACE,SAAU,YAAYC,SACtBjL,EAAKhO,QACLuP,EAAKvP,QACL2H,EAAO3H,OACT,CAGQ,aAAO4Y,CAAOjK,GACpBA,EAAUnC,MAAM1I,GAAOA,EAAEoV,OAAQ,GACnC,CAEQ,wBAAOf,GACZ,QAA0BgB,YAAYpF,iBACzC,CAEQ,YAAAzN,CAAaqQ,GACnB,MAAwB,mBAAbA,EAAgCA,EAC9BzQ,GAASA,EAAKI,aAAaqQ,EAC1C,CAEQ,GAAAK,GACN,OAAI3a,KAAK+c,YAIT/c,KAAK+c,UAAY,GAAG/c,KAAKwO,QAAQmL,cAAa,IAAIqD,MAAOC,aAHhDjd,KAAK+c,SAKhB,CAEQ,aAAAd,CACNnO,EACAqB,EACAhD,EACA8J,EACAI,GAIArW,KAAKkd,aAAe,KAClBvL,EAAKhC,KAAKR,GACV+D,EAAKvD,KAAKxD,EAAM8J,EAAMI,GACtBhH,EAAMM,KAAK7B,EAAM,EAGnB9N,KAAK6J,KAAKwG,GAAG,OAAQrQ,KAAKkd,aAC5B,CAEQ,YAAAf,CAAagB,GACnBA,EAAQA,GAASnd,KAAKwO,QAAQ0L,SAE9B,IAAK,IAAIhc,EAAI,EAAGA,EAAIif,EAAOjf,IAAK8B,KAAK6J,KAAK8F,MAC5C,CAGQ,YAAAwL,CAAa7I,GACdtS,KAAKwc,kBACRxc,KAAKyc,uBAGP,MAAMW,EAAQ,QAEdA,EAAMzI,OAAS3U,KAAKqd,aACpBD,EAAMV,UAAU,IAAM1c,KAAKwc,iBAAiB,GAC5CY,EAAMV,UAAU,IAAM1c,KAAKwc,iBAAiB,GAE5CtJ,EAAKkD,KAAKgH,EAAMzI,OAChBrC,EAAUzF,KAAK,YAAa,aAAauQ,EAAMV,oBAAoBU,EAAMzI,SAC3E,CAEQ,kBAAA8F,GACNza,KAAKsd,UAAYtd,KAAKmY,IACnBvL,OAAO,QACPC,KAAK,IAAK7M,KAAKwO,QAAQ9C,MAAQ,GAC/BmB,KAAK,IAAK7M,KAAKwO,QAAQO,OAAS,GAChClC,KAAK,KAAM,SACX4C,MAAM,cAAe,UACrBC,KAAK,gCACV,CAEQ,eAAA2M,GACFrc,KAAKsd,WAAWtd,KAAKsd,UAAUV,QACrC,CAEQ,WAAA9B,CAAYrV,GACdzF,KAAKsd,WAAWtd,KAAKsd,UAAU5N,KAAKjK,EAC1C,CAEQ,oBAAAgX,GACN,MAAM/N,EAAY,YAAa1O,KAAKmY,IAAItL,KAAK,cAC7C7M,KAAKqd,aAAe3O,EAAUiG,MAAM,GACpC3U,KAAKwc,iBAAmB9N,EAAUgO,SACpC,CAEQ,YAAAN,CAAatO,EAA4BqB,EAA0BhD,GACzEnM,KAAKoa,cAAclB,KAAKpL,EAAOqB,EAAMhD,EACvC,CAEQ,gBAAAqP,CAAiB+B,EAAmCvO,GAC1D,MAAMwO,EAAuC,GAE7C,IAAK,MAAMC,KAAcF,EACvB,IAAK,MAAMG,KAAMD,EAAWE,cAAc3O,GACxCwO,EAAgBvb,KAAK,CACnB8U,KAAM,YACN6G,KAAMH,EAAWG,KACjBC,QAASH,EAAGzR,KAAKzD,IAAM,CAAG2G,KAAM3G,EAAEgD,GAAI5G,OAAQ,QAKpD5E,KAAK6J,KAAK0T,YAAYC,EACxB,CAEQ,iBAAAlB,GACNtc,KAAK6J,KAAK0T,YAAY,GACxB,EAGF,MAUM,EAAa1d,GACjB,cAAsBA,EAGpB,WAAA0L,CAAY+G,EAAmBqH,EAAuCnL,GACpEuB,MAAMuC,EAAWqH,EAAWnL,GAE5BxO,KAAKkQ,SAAW,WAAY,WAC9B,CAEA,MAAA3D,CAAOuR,GACL/N,MAAMxD,OAAOuR,GACb9d,KAAKkQ,SAASE,UAChB,CAGA,EAAAC,CAAG9B,EAAc+B,GACftQ,KAAKkQ,SAASG,GAAG9B,EAAM+B,EACzB,GAMJ,MAAMyN,UAlCY,CAACle,GACjB,cAAsBA,EACpB,aAAOme,CAAOlG,EAAKtJ,EAAU,CAAC,GAC5BsJ,EAAI2B,KAAKpK,EAAOsC,EAAMuB,EAAM1E,EAC9B,GA8B2B,CAAUkL,KAElC,MAAMuE,UAAgB,EAAUF,arBtbvC","sources":["webpack://inet-henge/webpack/universalModuleDefinition","webpack://inet-henge/./node_modules/crypto-js/core.js","webpack://inet-henge/./node_modules/crypto-js/md5.js","webpack://inet-henge/./src/hack_cola.js","webpack://inet-henge/external umd \"cola\"","webpack://inet-henge/external umd \"d3\"","webpack://inet-henge/webpack/bootstrap","webpack://inet-henge/webpack/runtime/define property getters","webpack://inet-henge/webpack/runtime/global","webpack://inet-henge/webpack/runtime/hasOwnProperty shorthand","webpack://inet-henge/webpack/runtime/make namespace object","webpack://inet-henge/./src/bundle.ts","webpack://inet-henge/./src/util.ts","webpack://inet-henge/./src/group.ts","webpack://inet-henge/./src/meta_data.ts","webpack://inet-henge/./src/node.ts","webpack://inet-henge/./src/link.ts","webpack://inet-henge/./src/tooltip.ts","webpack://inet-henge/./src/link_tooltip.ts","webpack://inet-henge/./src/node_tooltip.ts","webpack://inet-henge/./src/position_cache.ts","webpack://inet-henge/./src/diagram.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"), require(\"cola\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\", \"cola\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\"), require(\"cola\")) : factory(root[\"d3\"], root[\"cola\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, (__WEBPACK_EXTERNAL_MODULE__893__, __WEBPACK_EXTERNAL_MODULE__109__) => {\nreturn ",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Constants table\n\t    var T = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        for (var i = 0; i < 64; i++) {\n\t            T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n\t        }\n\t    }());\n\n\t    /**\n\t     * MD5 hash algorithm.\n\t     */\n\t    var MD5 = C_algo.MD5 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Swap endian\n\t            for (var i = 0; i < 16; i++) {\n\t                // Shortcuts\n\t                var offset_i = offset + i;\n\t                var M_offset_i = M[offset_i];\n\n\t                M[offset_i] = (\n\t                    (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n\t                    (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n\t                );\n\t            }\n\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var M_offset_0  = M[offset + 0];\n\t            var M_offset_1  = M[offset + 1];\n\t            var M_offset_2  = M[offset + 2];\n\t            var M_offset_3  = M[offset + 3];\n\t            var M_offset_4  = M[offset + 4];\n\t            var M_offset_5  = M[offset + 5];\n\t            var M_offset_6  = M[offset + 6];\n\t            var M_offset_7  = M[offset + 7];\n\t            var M_offset_8  = M[offset + 8];\n\t            var M_offset_9  = M[offset + 9];\n\t            var M_offset_10 = M[offset + 10];\n\t            var M_offset_11 = M[offset + 11];\n\t            var M_offset_12 = M[offset + 12];\n\t            var M_offset_13 = M[offset + 13];\n\t            var M_offset_14 = M[offset + 14];\n\t            var M_offset_15 = M[offset + 15];\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\n\t            // Computation\n\t            a = FF(a, b, c, d, M_offset_0,  7,  T[0]);\n\t            d = FF(d, a, b, c, M_offset_1,  12, T[1]);\n\t            c = FF(c, d, a, b, M_offset_2,  17, T[2]);\n\t            b = FF(b, c, d, a, M_offset_3,  22, T[3]);\n\t            a = FF(a, b, c, d, M_offset_4,  7,  T[4]);\n\t            d = FF(d, a, b, c, M_offset_5,  12, T[5]);\n\t            c = FF(c, d, a, b, M_offset_6,  17, T[6]);\n\t            b = FF(b, c, d, a, M_offset_7,  22, T[7]);\n\t            a = FF(a, b, c, d, M_offset_8,  7,  T[8]);\n\t            d = FF(d, a, b, c, M_offset_9,  12, T[9]);\n\t            c = FF(c, d, a, b, M_offset_10, 17, T[10]);\n\t            b = FF(b, c, d, a, M_offset_11, 22, T[11]);\n\t            a = FF(a, b, c, d, M_offset_12, 7,  T[12]);\n\t            d = FF(d, a, b, c, M_offset_13, 12, T[13]);\n\t            c = FF(c, d, a, b, M_offset_14, 17, T[14]);\n\t            b = FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n\t            a = GG(a, b, c, d, M_offset_1,  5,  T[16]);\n\t            d = GG(d, a, b, c, M_offset_6,  9,  T[17]);\n\t            c = GG(c, d, a, b, M_offset_11, 14, T[18]);\n\t            b = GG(b, c, d, a, M_offset_0,  20, T[19]);\n\t            a = GG(a, b, c, d, M_offset_5,  5,  T[20]);\n\t            d = GG(d, a, b, c, M_offset_10, 9,  T[21]);\n\t            c = GG(c, d, a, b, M_offset_15, 14, T[22]);\n\t            b = GG(b, c, d, a, M_offset_4,  20, T[23]);\n\t            a = GG(a, b, c, d, M_offset_9,  5,  T[24]);\n\t            d = GG(d, a, b, c, M_offset_14, 9,  T[25]);\n\t            c = GG(c, d, a, b, M_offset_3,  14, T[26]);\n\t            b = GG(b, c, d, a, M_offset_8,  20, T[27]);\n\t            a = GG(a, b, c, d, M_offset_13, 5,  T[28]);\n\t            d = GG(d, a, b, c, M_offset_2,  9,  T[29]);\n\t            c = GG(c, d, a, b, M_offset_7,  14, T[30]);\n\t            b = GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n\t            a = HH(a, b, c, d, M_offset_5,  4,  T[32]);\n\t            d = HH(d, a, b, c, M_offset_8,  11, T[33]);\n\t            c = HH(c, d, a, b, M_offset_11, 16, T[34]);\n\t            b = HH(b, c, d, a, M_offset_14, 23, T[35]);\n\t            a = HH(a, b, c, d, M_offset_1,  4,  T[36]);\n\t            d = HH(d, a, b, c, M_offset_4,  11, T[37]);\n\t            c = HH(c, d, a, b, M_offset_7,  16, T[38]);\n\t            b = HH(b, c, d, a, M_offset_10, 23, T[39]);\n\t            a = HH(a, b, c, d, M_offset_13, 4,  T[40]);\n\t            d = HH(d, a, b, c, M_offset_0,  11, T[41]);\n\t            c = HH(c, d, a, b, M_offset_3,  16, T[42]);\n\t            b = HH(b, c, d, a, M_offset_6,  23, T[43]);\n\t            a = HH(a, b, c, d, M_offset_9,  4,  T[44]);\n\t            d = HH(d, a, b, c, M_offset_12, 11, T[45]);\n\t            c = HH(c, d, a, b, M_offset_15, 16, T[46]);\n\t            b = HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n\t            a = II(a, b, c, d, M_offset_0,  6,  T[48]);\n\t            d = II(d, a, b, c, M_offset_7,  10, T[49]);\n\t            c = II(c, d, a, b, M_offset_14, 15, T[50]);\n\t            b = II(b, c, d, a, M_offset_5,  21, T[51]);\n\t            a = II(a, b, c, d, M_offset_12, 6,  T[52]);\n\t            d = II(d, a, b, c, M_offset_3,  10, T[53]);\n\t            c = II(c, d, a, b, M_offset_10, 15, T[54]);\n\t            b = II(b, c, d, a, M_offset_1,  21, T[55]);\n\t            a = II(a, b, c, d, M_offset_8,  6,  T[56]);\n\t            d = II(d, a, b, c, M_offset_15, 10, T[57]);\n\t            c = II(c, d, a, b, M_offset_6,  15, T[58]);\n\t            b = II(b, c, d, a, M_offset_13, 21, T[59]);\n\t            a = II(a, b, c, d, M_offset_4,  6,  T[60]);\n\t            d = II(d, a, b, c, M_offset_11, 10, T[61]);\n\t            c = II(c, d, a, b, M_offset_2,  15, T[62]);\n\t            b = II(b, c, d, a, M_offset_9,  21, T[63]);\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n\t            var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n\t            var nBitsTotalL = nBitsTotal;\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n\t                (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n\t            );\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n\t                (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n\t            );\n\n\t            data.sigBytes = (dataWords.length + 1) * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Shortcuts\n\t            var hash = this._hash;\n\t            var H = hash.words;\n\n\t            // Swap endian\n\t            for (var i = 0; i < 4; i++) {\n\t                // Shortcut\n\t                var H_i = H[i];\n\n\t                H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n\t                       (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n\t            }\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    function FF(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & c) | (~b & d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function GG(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & d) | (c & ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function HH(a, b, c, d, x, s, t) {\n\t        var n = a + (b ^ c ^ d) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function II(a, b, c, d, x, s, t) {\n\t        var n = a + (c ^ (b | ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.MD5('message');\n\t     *     var hash = CryptoJS.MD5(wordArray);\n\t     */\n\t    C.MD5 = Hasher._createHelper(MD5);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacMD5(message, key);\n\t     */\n\t    C.HmacMD5 = Hasher._createHmacHelper(MD5);\n\t}(Math));\n\n\n\treturn CryptoJS.MD5;\n\n}));","/* eslint-disable */\n\n// Ported from WebCola/cola.js and overrode jaccardLinkLengths()\n\nfunction unionCount(a, b) {\n  var u = {};\n  for (var i in a) u[i] = {};\n  for (var i in b) u[i] = {};\n  return Object.keys(u).length;\n}\n\nfunction intersectionCount(a, b) {\n  var n = 0;\n  for (var i in a) if (typeof b[i] !== \"undefined\") ++n;\n  return n;\n}\n\nfunction getNeighbours(links, la) {\n  var neighbours = {};\n  var addNeighbours = function (u, v) {\n    if (typeof neighbours[u] === \"undefined\") neighbours[u] = {};\n    neighbours[u][v] = {};\n  };\n  links.forEach(function (e) {\n    var u = la.getSourceIndex(e),\n      v = la.getTargetIndex(e);\n    addNeighbours(u, v);\n    addNeighbours(v, u);\n  });\n  return neighbours;\n}\n\nfunction computeLinkLengths(links, w, f, la) {\n  var neighbours = getNeighbours(links, la);\n  links.forEach(function (l) {\n    var a = neighbours[la.getSourceIndex(l)];\n    var b = neighbours[la.getTargetIndex(l)];\n    la.setLength(l, 1 + w * f(a, b));\n  });\n}\n\nfunction jaccardLinkLengths(links, la, w) {\n  if (w === void 0) {\n    w = 1;\n  }\n  computeLinkLengths(\n    links,\n    w,\n    function (a, b) {\n      return Math.min(Object.keys(a).length, Object.keys(b).length) < 1.1\n        ? 0\n        : 1 - intersectionCount(a, b) / unionCount(a, b);\n    },\n    la,\n  );\n}\n\ncola.Layout.prototype.jaccardLinkLengths = function (idealLength, w) {\n  var _this = this;\n  if (w === void 0) {\n    w = 1;\n  }\n  this.linkDistance(function (l) {\n    return idealLength * l.length;\n  });\n  this._linkLengthCalculator = function () {\n    return jaccardLinkLengths(_this._links, _this.linkAccessor, w);\n  };\n  return this;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__109__;","module.exports = __WEBPACK_EXTERNAL_MODULE__893__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as d3 from \"d3\";\n\nimport { Link, LinkDataType } from \"./link\";\n\nexport class Bundle {\n  // Bundle group in the whole graph\n  // {\n  //   \"[<source node id>, <target node id>, \\\"<bundle id>\\\"]\": [<link id>, ...],\n  // }\n  private static groups: Record<string, number[]>;\n\n  // member Links of this Bundle\n  protected readonly links: Link[];\n\n  private color: string;\n  private width: number;\n  private space: number;\n  private _shiftMultiplier: number;\n\n  constructor(\n    links: Link[],\n    public id: number,\n  ) {\n    this.links = links;\n    this.color = \"#7a4e4e\";\n    this.width = 2;\n    this.space = 4;\n  }\n\n  static divide(links: Link[]) {\n    Bundle.groups = {};\n\n    for (const l of links) {\n      if (l.bundle) {\n        const key = this.groupKey(l);\n        (Bundle.groups[key] || (Bundle.groups[key] = [])).push(l.id);\n      }\n    }\n\n    return Object.values(Bundle.groups).map((ids, i) => {\n      return new Bundle(\n        ids.map((id) => links[id]),\n        i,\n      );\n    });\n  }\n\n  private static groupKey(link: Link) {\n    return JSON.stringify([link.source, link.target, link.bundle]);\n  }\n\n  static render(\n    linkLayer: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n    bundles: Bundle[],\n  ) {\n    const bundleGroup = linkLayer\n      .selectAll(\".bundle\")\n      .data(bundles)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const bundle = bundleGroup\n      .append(\"path\")\n      .attr(\"d\", (d) => d.d())\n      .attr(\"stroke\", (d) => d.color)\n      .attr(\"stroke-width\", (d) => d.width)\n      .attr(\"fill\", \"none\")\n      .attr(\"id\", (d) => d.bundleId());\n\n    return bundle;\n  }\n\n  static reset() {\n    Bundle.groups = null;\n  }\n\n  // sort by bundle with preserving order\n  static sortByBundle(links: LinkDataType[]) {\n    return links.sort((a, b) => {\n      switch (true) {\n        case !!a.bundle && !b.bundle:\n          return -1;\n        case !a.bundle && !!b.bundle:\n          return 1;\n        case !a.bundle && !b.bundle:\n          return 0;\n\n        // !!a.bundle && !!b.bundle === true\n        case a.bundle.toString() < b.bundle.toString():\n          return -1;\n        case a.bundle.toString() > b.bundle.toString():\n          return 1;\n\n        default:\n          return 0;\n      }\n    });\n  }\n\n  d() {\n    const first = this.links[0].centerCoordinates();\n    const last = this.links[this.links.length - 1].centerCoordinates();\n    const gap = Math.sqrt(Math.pow(first[0] - last[0], 2) + Math.pow(first[1] - last[1], 2));\n\n    if (gap === 0) {\n      return \"\";\n    }\n\n    const angle = this.links[0].angle() + 90;\n    const start = [\n      ((first[0] - last[0]) * this.space) / gap + first[0],\n      ((first[1] - last[1]) * this.space) / gap + first[1],\n    ];\n    const end = [\n      ((last[0] - first[0]) * this.space) / gap + last[0],\n      ((last[1] - first[1]) * this.space) / gap + last[1],\n    ];\n\n    return `M ${start[0]} ${start[1]} A ${gap / 2 + 10},5 ${angle} 1,0 ${end[0]} ${end[1]}`;\n  }\n\n  private shiftMultiplier() {\n    if (!this._shiftMultiplier) {\n      const members = this.links[0].group() || [];\n      this._shiftMultiplier = this.links.reduce((sum, l) => (sum += l.id - (members.length - 1) / 2), 0) / 2;\n    }\n\n    return this._shiftMultiplier;\n  }\n\n  static shiftBundle(bundle: d3.Selection<Bundle>) {\n    bundle.attr(\"d\", (d) => d.d());\n  }\n\n  private class() {\n    // modified link's class\n    return this.links[0].class().replace(/^link/, \"bundle\");\n  }\n\n  private bundleId() {\n    return `bundle${this.id}`;\n  }\n}\n","export function classify(string: string) {\n  return string.replace(\" \", \"-\").toLowerCase();\n}\n","import * as d3 from \"d3\";\n\nimport { Color } from \"./diagram\";\nimport { Node } from \"./node\";\nimport { GroupPosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\nexport type Constructor = (name: string, color: Color) => void;\n\nexport type GroupOptions = {\n  color: Color;\n  padding: number;\n};\n\nexport class GroupBase {\n  private padding: number;\n\n  // Not appropriately defined in @types/d3/index.d.ts\n  private bounds: any; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  constructor(\n    private name: string,\n    private options: GroupOptions,\n  ) {\n    this.padding = options.padding;\n  }\n\n  transform() {\n    return `translate(${this.bounds.x}, ${this.bounds.y})`;\n  }\n\n  private groupWidth() {\n    return this.bounds.width();\n  }\n\n  private groupHeight() {\n    return this.bounds.height();\n  }\n\n  static divide(nodes: Node[], pattern: RegExp, options: GroupOptions) {\n    const groups = {};\n    const register = (name: string, node: Node, parent?: string) => {\n      const key = `${parent}:${name}`;\n      groups[key] = groups[key] || new Group(name, options);\n      // hacky but required due to WebCola implementation\n      groups[key].push(node);\n    };\n\n    nodes.forEach((node) => {\n      let result = null;\n\n      if (pattern) {\n        result = node.name.match(pattern);\n        if (result) {\n          register(result[1] || result[0], node);\n        }\n      }\n\n      // Node type based group\n      node.group.forEach((name) => register(name, node, String(result)));\n    });\n\n    return Object.values(groups as Record<string, Group>);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render(layer: d3.Selection<any>, groups: Group[]) {\n    const group: d3.Selection<Group> = layer\n      .selectAll(\".group\")\n      .data(groups)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => `group ${classify(d.name)}`)\n      .attr(\"transform\", (d) => d.transform());\n\n    group\n      .append(\"rect\")\n      .attr(\"rx\", 8)\n      .attr(\"ry\", 8)\n      .attr(\"width\", (d) => d.groupWidth())\n      .attr(\"height\", (d) => d.groupHeight())\n      // Fix @types/d3/index.d.ts. Should be \"d3.scale.Ordinal<number, string>\" but \"d3.scale.Ordinal<string, string>\" somehow\n      .style(\"fill\", (d, i) => d.options.color(i.toString()));\n\n    group.append(\"text\").text((d) => d.name);\n\n    return group;\n  }\n\n  static tick(group: d3.Selection<Group>) {\n    group.attr(\"transform\", (d) => d.transform());\n    group\n      .selectAll(\"rect\")\n      .attr(\"width\", (d) => d.groupWidth())\n      .attr(\"height\", (d) => d.groupHeight());\n  }\n\n  static setPosition(group: d3.Selection<Group>, position: GroupPosition[]) {\n    group.attr(\"transform\", (d, i) => {\n      d.bounds.x = position[i].x;\n      d.bounds.y = position[i].y;\n      return d.transform();\n    });\n    group\n      .selectAll(\"rect\")\n      .attr(\"width\", (d, i) => position[i].width)\n      .attr(\"height\", (d, i) => position[i].height);\n  }\n}\n\nconst WebColable = (Base: typeof GroupBase) => {\n  class Group extends Base {\n    private leaves: number[]; // WebCola requires this\n\n    constructor(name: string, options: GroupOptions) {\n      super(name, options);\n\n      this.leaves = [];\n    }\n\n    push(node: Node) {\n      this.leaves.push(node.id);\n    }\n  }\n\n  return Group;\n};\n\nconst Eventable = (Base: typeof GroupBase) => {\n  class EventableGroup extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(name: string, options: GroupOptions) {\n      super(name, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    static render(layer, groups) {\n      const group = super.render(layer, groups);\n\n      group.each(function (this: SVGGElement, d: Group & EventableGroup) {\n        d.dispatch.rendered(this);\n      });\n\n      return group;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableGroup;\n};\n\nconst Pluggable = (Base: typeof GroupBase) => {\n  class Group extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(name: string, options: GroupOptions) {\n      super(name, options);\n\n      for (const constructor of Group.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(name, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor) {\n      Group.pluginConstructors.push(func);\n    }\n  }\n\n  return Group;\n};\n\nclass WebColableGroup extends WebColable(GroupBase) {}\n\nclass EventableGroup extends Eventable(WebColableGroup) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Group extends Pluggable(EventableGroup) {}\n\nexport { Group };\n","export type MetaDataType = { class: string; value: any }; // eslint-disable-line @typescript-eslint/no-explicit-any\n\nexport class MetaData {\n  constructor(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private data: Record<string, any>,\n    private extraKey?: string,\n  ) {}\n\n  get(keys: string[]) {\n    return this.slice(keys).filter((k) => typeof k.value === \"string\");\n  }\n\n  private slice(keys: string[]) {\n    if (!this.data) return [];\n\n    if (this.extraKey) return this.sliceWithExtraKey(keys);\n    else return this.sliceWithoutExtraKey(keys);\n  }\n\n  private sliceWithExtraKey(keys: string[]) {\n    const data: MetaDataType[] = [];\n\n    keys.forEach((k) => {\n      if (this.data[k] && this.data[k][this.extraKey]) data.push({ class: k, value: this.data[k][this.extraKey] });\n    });\n\n    return data;\n  }\n\n  private sliceWithoutExtraKey(keys: string[]) {\n    const data: MetaDataType[] = [];\n\n    keys.forEach((k) => {\n      if (this.data[k]) data.push({ class: k, value: this.data[k] });\n    });\n\n    return data;\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { Color } from \"./diagram\";\nimport { MetaData, MetaDataType } from \"./meta_data\";\nimport { NodePosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\nexport type Constructor = (data: NodeDataType, id: number, options: NodeOptions) => void;\n\nexport type NodeDataType = {\n  name: string;\n  group: string[];\n  icon: string;\n  meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  class: string;\n};\n\nexport type NodeOptions = {\n  width: number;\n  height: number;\n  metaKeys: string[];\n  color: Color;\n  tooltip: boolean;\n};\n\nclass NodeBase {\n  private static all: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  public name: string;\n  public group: string[];\n  public metaList: MetaDataType[];\n  public meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  public x: number;\n  public y: number;\n\n  private icon: string;\n  private extraClass: string;\n  private width: number;\n  private height: number;\n  private padding: number;\n  private tspanOffset: string;\n\n  constructor(\n    data: NodeDataType,\n    public id: number,\n    private options: NodeOptions,\n  ) {\n    this.name = data.name;\n    this.group = typeof data.group === \"string\" ? [data.group] : data.group || [];\n    this.icon = data.icon;\n    this.metaList = new MetaData(data.meta).get(options.metaKeys);\n    this.meta = data.meta;\n    this.extraClass = data.class || \"\";\n\n    this.width = options.width || 60;\n    this.height = options.height || 40;\n    this.padding = 3;\n    this.tspanOffset = \"1.1em\";\n\n    this.register(id);\n  }\n\n  private register(id: number) {\n    Node.all = Node.all || {};\n    Node.all[this.name] = id;\n  }\n\n  transform() {\n    const x = this.x - this.width / 2 + this.padding;\n    const y = this.y - this.height / 2 + this.padding;\n    return `translate(${x}, ${y})`;\n  }\n\n  private nodeWidth() {\n    return this.width - 2 * this.padding;\n  }\n\n  private nodeHeight() {\n    return this.height - 2 * this.padding;\n  }\n\n  private xForText() {\n    return this.nodeWidth() / 2;\n  }\n\n  private yForText() {\n    // svg ignores padding for some reason\n    return this.height / 2;\n  }\n\n  static idByName(name: string) {\n    if (Node.all[name] === undefined) throw `Unknown node \"${name}\"`;\n    return Node.all[name];\n  }\n\n  public nodeId() {\n    return classify(this.name);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render(layer: d3.Selection<any>, nodes: Node[]) {\n    const node: d3.Selection<Node> = layer\n      .selectAll(\".node\")\n      .data(nodes)\n      .enter()\n      .append(\"g\")\n      .attr(\"id\", (d) => d.nodeId())\n      .attr(\"name\", (d) => d.name)\n      .attr(\"transform\", (d) => d.transform());\n\n    node.each(function (this: SVGGElement, d) {\n      if (d.icon) Node.appendImage(this);\n      else Node.appendRect(this);\n\n      Node.appendText(this);\n    });\n\n    return node;\n  }\n\n  private static appendText(container: SVGGElement) {\n    const text = (d3.select(container) as d3.Selection<Node>)\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", (d) => d.xForText())\n      .attr(\"y\", (d) => d.yForText());\n    text\n      .append(\"tspan\")\n      .text((d) => d.name)\n      .attr(\"x\", (d) => d.xForText());\n\n    text.each((d) => {\n      // Show meta only when \"tooltip\" option is not configured\n      if (!d.options.tooltip) {\n        Node.appendMetaText(text, d.metaList);\n      }\n    });\n  }\n\n  private static appendMetaText(container: d3.Selection<Node>, meta: MetaDataType[]) {\n    meta.forEach((m) => {\n      container\n        .append(\"tspan\")\n        .attr(\"x\", (d) => d.xForText())\n        .attr(\"dy\", (d) => d.tspanOffset)\n        .attr(\"class\", m.class)\n        .text(m.value);\n    });\n  }\n\n  private static appendImage(container: SVGGElement) {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node image ${classify(d.name)} ${d.extraClass}`)\n      .append(\"image\")\n      .attr(\"xlink:href\", (d) => d.icon)\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight());\n  }\n\n  private static appendRect(container: SVGGElement) {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node rect ${classify(d.name)} ${d.extraClass}`)\n      .append(\"rect\")\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight())\n      .attr(\"rx\", 5)\n      .attr(\"ry\", 5)\n      .style(\"fill\", (d) => d.options.color(undefined));\n  }\n\n  static tick(node: d3.Selection<Node>) {\n    node.attr(\"transform\", (d) => d.transform());\n  }\n\n  static setPosition(node: d3.Selection<Node>, position: NodePosition[]) {\n    node.attr(\"transform\", (d, i) => {\n      if (\n        position[i]?.x !== null &&\n        position[i]?.x !== undefined &&\n        position[i]?.y !== null &&\n        position[i]?.y !== undefined\n      ) {\n        d.x = position[i].x;\n        d.y = position[i].y;\n      }\n      return d.transform();\n    });\n  }\n\n  static reset() {\n    Node.all = null;\n  }\n}\n\nconst Eventable = (Base: typeof NodeBase) => {\n  class EventableNode extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    static render(layer, nodes) {\n      const node = super.render(layer, nodes);\n\n      node.each(function (this: SVGGElement, d: Node & EventableNode) {\n        d.dispatch.rendered(this);\n      });\n\n      return node;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableNode;\n};\n\nconst Pluggable = (Base: typeof NodeBase) => {\n  class Node extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      for (const constructor of Node.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(data, id, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor) {\n      Node.pluginConstructors.push(func);\n    }\n  }\n\n  return Node;\n};\n\nclass EventableNode extends Eventable(NodeBase) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Node extends Pluggable(EventableNode) {}\n\nexport { Node };\n","import * as d3 from \"d3\";\n\nimport { Bundle } from \"./bundle\";\nimport { MetaData, MetaDataType } from \"./meta_data\";\nimport { Node } from \"./node\";\nimport { LinkPosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\nexport type Constructor = (data: LinkDataType, id: number, metaKeys: string[], linkWidth: (object) => number) => void;\n\nexport type LinkDataType = {\n  source: string;\n  target: string;\n  bundle?: number | string;\n  meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  class: string;\n};\n\nexport type LinkOptions = {\n  metaKeys: string[];\n  linkWidth: (object) => number;\n};\n\nexport class LinkBase {\n  private static groups: Record<string, number[]>;\n  private static scale?: number;\n\n  public readonly bundle?: number | string;\n  public readonly source: number | Node;\n  public readonly target: number | Node;\n  public readonly metaList: MetaDataType[];\n  public readonly sourceMeta: MetaDataType[];\n  public readonly targetMeta: MetaDataType[];\n\n  private readonly extraClass: string;\n  private width: number;\n  private readonly defaultMargin: number;\n  private readonly labelXOffset: number;\n  private readonly labelYOffset: number;\n  private color: string;\n  private _margin: number;\n  private _shiftMultiplier: number;\n\n  constructor(\n    data: LinkDataType,\n    public id: number,\n    private options: LinkOptions,\n  ) {\n    this.source = Node.idByName(data.source);\n    this.target = Node.idByName(data.target);\n    this.bundle = data.bundle;\n    this.metaList = new MetaData(data.meta).get(options.metaKeys);\n    this.sourceMeta = new MetaData(data.meta, \"source\").get(options.metaKeys);\n    this.targetMeta = new MetaData(data.meta, \"target\").get(options.metaKeys);\n    this.extraClass = data.class || \"\";\n\n    if (typeof options.linkWidth === \"function\") this.width = options.linkWidth(data.meta) || 3;\n    else this.width = options.linkWidth || 3;\n\n    this.defaultMargin = 15;\n    this.labelXOffset = 20;\n    this.labelYOffset = 1.5; // em\n    this.color = \"#7a4e4e\";\n\n    this.register(id);\n  }\n\n  private register(id: number) {\n    Link.groups = Link.groups || {};\n\n    // source and target\n    const key = [this.source, this.target].sort().toString();\n    (Link.groups[key] || (Link.groups[key] = [])).push(id);\n  }\n\n  private isLabelledPath() {\n    return this.metaList.length > 0;\n  }\n\n  private isReversePath() {\n    return this.targetMeta.length > 0;\n  }\n\n  d() {\n    return `M ${(this.source as Node).x} ${(this.source as Node).y} L ${(this.target as Node).x} ${\n      (this.target as Node).y\n    }`;\n  }\n\n  private pathId() {\n    return `path${this.id}`;\n  }\n\n  public linkId() {\n    return `link${this.id}`;\n  }\n\n  private margin() {\n    if (!this._margin) {\n      const margin = window.getComputedStyle(document.getElementById(this.linkId())).margin;\n\n      // NOTE: Assuming that window.getComputedStyle() returns some value link \"10px\"\n      // or \"0px\" even when not defined in .css\n      if (!margin || margin === \"0px\") {\n        this._margin = this.defaultMargin;\n      } else {\n        this._margin = parseInt(margin);\n      }\n    }\n\n    return this._margin;\n  }\n\n  private isLabelVisible() {\n    const pathLength = (document.getElementById(this.pathId()) as unknown as SVGPathElement).getTotalLength();\n\n    const isShort = Array.from(document.getElementsByClassName(this.pathId())).some((p) => {\n      // <text /> has only one <textPath />\n      const tp = p.firstChild as SVGTextPathElement;\n      // center label\n      if (tp.classList.contains(\"center\")) {\n        return tp.getComputedTextLength() > pathLength;\n      } else {\n        return tp.getComputedTextLength() + this.labelXOffset > pathLength;\n      }\n    });\n\n    d3.selectAll(`text.${this.pathId()}`).classed(\"short\", isShort);\n\n    // Link.scale is initially undefined\n    return Link.scale > 1.5 && !isShort;\n  }\n\n  group(): number[] {\n    return Link.groups[[(this.source as Node).id, (this.target as Node).id].sort().toString()];\n  }\n\n  // OPTIMIZE: Implement better right-alignment of the path, especially for multi tspans\n  private tspanXOffset() {\n    switch (true) {\n      case this.isLabelledPath():\n        return 0;\n      case this.isReversePath():\n        return -this.labelXOffset;\n      default:\n        return this.labelXOffset;\n    }\n  }\n\n  private tspanYOffset() {\n    if (this.isLabelledPath()) return `${-this.labelYOffset + 0.7}em`;\n    else return `${this.labelYOffset}em`;\n  }\n\n  private rotate(bbox: SVGRect) {\n    if ((this.source as Node).x > (this.target as Node).x)\n      return `rotate(180 ${bbox.x + bbox.width / 2} ${bbox.y + bbox.height / 2})`;\n    else return \"rotate(0)\";\n  }\n\n  private split() {\n    if (!this.metaList && !this.sourceMeta && !this.targetMeta) return [this];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const meta: Record<string, any>[] = [];\n    [\"metaList\", \"sourceMeta\", \"targetMeta\"].forEach((key, i, keys) => {\n      if (this[key]) {\n        const duped = Object.assign(Object.create(this), this);\n\n        keys.filter((k) => k !== key).forEach((k) => (duped[k] = []));\n        meta.push(duped);\n      }\n    });\n\n    return meta;\n  }\n\n  private hasMeta() {\n    return this.metaList.length > 0 || this.sourceMeta.length > 0 || this.targetMeta.length > 0;\n  }\n\n  class() {\n    return `link ${classify((this.source as Node).name)} ${classify((this.target as Node).name)} ${classify(\n      (this.source as Node).name,\n    )}-${classify((this.target as Node).name)} ${this.extraClass}`;\n  }\n\n  // after transform is applied\n  centerCoordinates() {\n    const link = d3.select(`.link #${this.linkId()}`).node() as SVGLineElement;\n    const bbox = link.getBBox();\n    const transform = link.transform.baseVal.consolidate();\n\n    return [\n      bbox.x + bbox.width / 2 + (transform?.matrix.e || 0),\n      bbox.y + bbox.height / 2 + (transform?.matrix.f || 0),\n    ];\n  }\n\n  angle() {\n    const link = d3.select(`.link #${this.linkId()}`).node() as SVGLineElement;\n    return (\n      (Math.atan2(link.y2.baseVal.value - link.y1.baseVal.value, link.x2.baseVal.value - link.x1.baseVal.value) * 180) /\n      Math.PI\n    );\n  }\n\n  static render(\n    linkLayer: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n    labelLayer: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n    links: Link[],\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): [d3.Selection<Link>, d3.Selection<Link>, d3.Selection<any>] {\n    // Render lines\n    const pathGroup = linkLayer\n      .selectAll(\".link\")\n      .data(links)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const link = pathGroup\n      .append(\"line\")\n      .attr(\"x1\", (d) => (d.source as Node).x)\n      .attr(\"y1\", (d) => (d.source as Node).y)\n      .attr(\"x2\", (d) => (d.target as Node).x)\n      .attr(\"y2\", (d) => (d.target as Node).y)\n      .attr(\"stroke\", (d) => d.color)\n      .attr(\"stroke-width\", (d) => d.width)\n      .attr(\"id\", (d) => d.linkId())\n      .on(\"mouseover.line\", (d) => textGroup.selectAll(`text.${d.pathId()}`).classed(\"hover\", true))\n      .on(\"mouseout.line\", (d) => textGroup.selectAll(`text.${d.pathId()}`).classed(\"hover\", false));\n\n    const path = pathGroup\n      .append(\"path\")\n      .attr(\"d\", (d) => d.d())\n      .attr(\"id\", (d) => d.pathId());\n\n    // Render texts\n    const textGroup = labelLayer\n      .selectAll(\".link\")\n      .data(links)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const text = textGroup\n      .selectAll(\"text\")\n      .data((d: Link) => d.split().filter((l: Link) => l.hasMeta()))\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", (d: Link) => d.pathId()); // Bind text with pathId as class\n\n    const textPath = text.append(\"textPath\").attr(\"xlink:href\", (d: Link) => `#${d.pathId()}`);\n\n    textPath.each(function (d: Link) {\n      Link.appendMetaText(this, d.metaList);\n      Link.appendMetaText(this, d.sourceMeta);\n      Link.appendMetaText(this, d.targetMeta);\n\n      if (d.isLabelledPath()) Link.center(this);\n\n      if (d.isReversePath()) Link.theOtherEnd(this);\n    });\n\n    Link.zoom(); // Initialize\n    return [link, path, text];\n  }\n\n  private static theOtherEnd(container: SVGGElement) {\n    d3.select(container).attr(\"class\", \"reverse\").attr(\"text-anchor\", \"end\").attr(\"startOffset\", \"100%\");\n  }\n\n  private static center(container: SVGGElement) {\n    d3.select(container).attr(\"class\", \"center\").attr(\"text-anchor\", \"middle\").attr(\"startOffset\", \"50%\");\n  }\n\n  private static appendMetaText(container: SVGGElement, meta: MetaDataType[]) {\n    meta.forEach((m) => {\n      d3.select(container)\n        .append(\"tspan\")\n        .attr(\"x\", (d: Link) => d.tspanXOffset())\n        .attr(\"dy\", (d: Link) => d.tspanYOffset())\n        .attr(\"class\", m.class)\n        .text(m.value);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static tick(link: d3.Selection<Link>, path?: d3.Selection<Link>, label?: d3.Selection<any>) {\n    link\n      .attr(\"x1\", (d) => (d.source as Node).x)\n      .attr(\"y1\", (d) => (d.source as Node).y)\n      .attr(\"x2\", (d) => (d.target as Node).x)\n      .attr(\"y2\", (d) => (d.target as Node).y);\n\n    if(path) {\n      path.attr(\"d\", (d) => d.d());\n    }\n\n    if(label) {\n      label.attr(\"transform\", function(d: Link) {\n        return d.rotate(this.getBBox());\n      });\n    }\n\n    // hide labels when the path is too short\n    d3.selectAll(\".link text\").style(\"visibility\", (d: Link) => (d.isLabelVisible() ? \"visible\" : \"hidden\"));\n  }\n\n  static zoom(scale?: number) {\n    Link.scale = scale;\n\n    d3.selectAll(\".link text\").style(\"visibility\", (d: Link) => (d.isLabelVisible() ? \"visible\" : \"hidden\"));\n  }\n\n  static setPosition(link: d3.Selection<Link>, position: LinkPosition[]) {\n    link\n      .attr(\"x1\", (d, i) => position[i].x1)\n      .attr(\"y1\", (d, i) => position[i].y1)\n      .attr(\"x2\", (d, i) => position[i].x2)\n      .attr(\"y2\", (d, i) => position[i].y2);\n  }\n\n  private shiftMultiplier() {\n    if (!this._shiftMultiplier) {\n      const members = this.group() || [];\n      this._shiftMultiplier = members.indexOf(this.id) - (members.length - 1) / 2;\n    }\n\n    return this._shiftMultiplier;\n  }\n\n  static shiftBundle(\n    link: d3.Selection<Link>,\n    path: d3.Selection<Link>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    label: d3.Selection<any>,\n    bundle: d3.Selection<Bundle>,\n  ) {\n    const transform = (d: Link) => d.shiftBundle(d.shiftMultiplier());\n\n    link.attr(\"transform\", transform);\n    path.attr(\"transform\", transform);\n    label.attr(\"transform\", transform);\n    Bundle.shiftBundle(bundle);\n  }\n\n  shiftBundle(multiplier: number) {\n    const gap = this.margin() * multiplier;\n\n    const x = (this.target as Node).x - (this.source as Node).x;\n    const y = (this.target as Node).y - (this.source as Node).y;\n    const length = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n\n    return `translate(${(-gap * y) / length}, ${(gap * x) / length})`;\n  }\n\n  static reset() {\n    Link.groups = null;\n  }\n}\n\nconst Eventable = (Base: typeof LinkBase) => {\n  class EventableLink extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(data: LinkDataType, id: number, options: LinkOptions) {\n      super(data, id, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static render(linkLayer, labelLayer, links): [d3.Selection<Link>, d3.Selection<Link>, d3.Selection<any>] {\n      const [link, path, text] = super.render(linkLayer, labelLayer, links);\n\n      link.each(function (this: SVGLineElement, d: Link & EventableLink) {\n        d.dispatch.rendered(this);\n      });\n\n      return [link, path, text];\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableLink;\n};\n\nconst Pluggable = (Base: typeof LinkBase) => {\n  class Link extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(data: LinkDataType, id: number, options: LinkOptions) {\n      super(data, id, options);\n\n      for (const constructor of Link.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(data, id, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor) {\n      Link.pluginConstructors.push(func);\n    }\n  }\n\n  return Link;\n};\n\nclass EventableLink extends Eventable(LinkBase) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Link extends Pluggable(EventableLink) {}\n\nexport { Link };\n","import * as d3 from \"d3\";\n\nimport { HrefFunction } from \"./diagram\";\n\ntype TooltipOptions = {\n  offsetX?: number;\n};\n\nexport abstract class Tooltip {\n  static href: HrefFunction;\n  protected static type: \"node\" | \"link\";\n\n  protected offsetX: number;\n  private visibility: string;\n\n  constructor(\n    private eventType: string,\n    options: TooltipOptions = {},\n  ) {\n    this.offsetX = options.offsetX !== undefined ? options.offsetX : 30;\n    this.visibility = \"hidden\";\n  }\n\n  protected tspanOffsetY(marginTop: boolean) {\n    return marginTop ? \"2em\" : \"1.1em\";\n  }\n\n  transform(): string {\n    throw new Error(\"not implemented\");\n  }\n\n  private class() {\n    return `tooltip ${(this.constructor as typeof Tooltip).type}-tooltip ${this.objectId()}`;\n  }\n\n  // Object id which has this tooltip\n  protected abstract objectId(boolean?): string;\n\n  private setVisibility(visibility: string | null) {\n    this.visibility = visibility === \"visible\" ? \"visible\" : \"hidden\";\n  }\n\n  // This doesn't actually toggle visibility, but returns string for toggled visibility\n  private toggleVisibility() {\n    this.visibility = this.visibility === \"hidden\" ? \"visible\" : \"hidden\";\n    return this.visibility;\n  }\n\n  private toggleVisibilityCallback(element: SVGGElement) {\n    return () => {\n      // Do nothing for dragging\n      if ((d3.event as MouseEvent).defaultPrevented) {\n        return;\n      }\n\n      d3.select(element)\n        .attr(\"visibility\", function (d) {\n          // Sync visibility before toggling. External script may change the visibility.\n          d.setVisibility(this.getAttribute(\"visibility\"));\n          return d.toggleVisibility();\n        })\n        // bootstrap.css unexpectedly sets \"opacity: 0\". Reset if it's visible.\n        .style(\"opacity\", function (d) {\n          return d.visibility === \"visible\" ? 1 : null;\n        });\n    };\n  }\n\n  private configureObjectClickCallback(element: SVGGElement) {\n    d3.select(`#${this.objectId(true)}`).on(\"click.tooltip\", this.toggleVisibilityCallback(element));\n  }\n\n  private configureObjectHoverCallback(element: SVGGElement) {\n    d3.select(`#${this.objectId(true)}`).on(\"mouseenter.tooltip\", this.toggleVisibilityCallback(element));\n    d3.select(`#${this.objectId(true)}`).on(\"mouseleave.tooltip\", this.toggleVisibilityCallback(element));\n  }\n\n  // Make tooltip selectable\n  private disableZoom(element: SVGGElement) {\n    d3.select(element).on(\"mousedown.tooltip\", () => {\n      (d3.event as MouseEvent).stopPropagation();\n    });\n  }\n\n  static setHref(callback: HrefFunction) {\n    if (callback) this.href = callback;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render<T extends Tooltip>(layer: d3.Selection<any>, tooltips: T[]) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const cls = this;\n    const tooltip = layer\n      .selectAll(`.tooltip.${cls.type}-tooltip`)\n      .data(tooltips)\n      .enter()\n      .append(\"g\")\n      .attr(\"visibility\", (d) => d.visibility)\n      .attr(\"class\", (d) => d.class())\n      .attr(\"transform\", (d) => d.transform());\n\n    tooltip.each(function (d) {\n      cls.appendText(this);\n\n      if (typeof (d.constructor as typeof Tooltip).href === \"function\") {\n        cls.appendExternalLinkIcon(this);\n      }\n\n      if (d.eventType === \"hover\") {\n        d.configureObjectHoverCallback(this);\n      } else {\n        d.configureObjectClickCallback(this);\n      }\n\n      d.disableZoom(this);\n    });\n\n    return tooltip;\n  }\n\n  protected static fill(element: SVGPathElement) {\n    // If no \"fill\" style is defined\n    if (getComputedStyle(element).fill.match(/\\(0,\\s*0,\\s*0\\)/)) {\n      return \"#f8f1e9\";\n    }\n  }\n\n  protected static pathD(x: number, y: number, width: number, height: number) {\n    const round = 8;\n\n    return (\n      `M ${x},${y} L ${x + 20},${y - 10} ${x + 20},${y - 20}` +\n      `Q ${x + 20},${y - 20 - round} ${x + 20 + round},${y - 20 - round}` +\n      `L ${x + 20 + width - round},${y - 20 - round}` +\n      `Q ${x + 20 + width},${y - 20 - round} ${x + 20 + width},${y - 20}` +\n      `L ${x + 20 + width},${y - 20 + height}` +\n      `Q ${x + 20 + width},${y - 20 + height + round} ${x + 20 + width - round},${y - 20 + height + round}` +\n      `L ${x + 20 + round},${y - 20 + height + round}` +\n      `Q ${x + 20},${y - 20 + height + round} ${x + 20},${y - 20 + height}` +\n      `L ${x + 20},${y + 10} Z`\n    );\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected static appendText(container: SVGGElement) {\n    throw new Error(\"not implemented\");\n  }\n\n  /**\n   * Append \"name: value\" to the container\n   * @param container\n   * @param name\n   * @param value\n   * @param marginTop Render wide margin if true, ordinary marin if false, and no margin if undefined\n   * @protected\n   */\n  protected static appendNameValue<T extends Tooltip>(\n    container: d3.Selection<T>,\n    name: string,\n    value: (d: T) => string,\n    marginTop?: boolean,\n  ) {\n    container\n      .append(\"tspan\")\n      .attr(\"x\", (d) => d.offsetX + 40)\n      .attr(\"dy\", (d) => (marginTop === undefined ? undefined : d.tspanOffsetY(marginTop)))\n      .attr(\"class\", \"name\")\n      .text(`${name}:`);\n\n    container.append(\"tspan\").attr(\"dx\", 10).attr(\"class\", \"value\").text(value);\n  }\n\n  // modified https://tabler-icons.io/i/external-link\n  protected static appendExternalLinkIcon(container: SVGGElement) {\n    const bbox = container.getBBox();\n    const a = d3\n      .select(container)\n      .append(\"a\")\n      .attr(\"href\", (d) => (d.constructor as typeof Tooltip).href(d, (d.constructor as typeof Tooltip).type));\n    const size = 20;\n    const svg = a\n      .append(\"svg\")\n      .attr(\"x\", (d) => bbox.width + d.offsetX - 2 - size)\n      .attr(\"y\", bbox.height - 30 - size)\n      .attr(\"width\", size)\n      .attr(\"height\", size)\n      .attr(\"viewBox\", `0 0 24 24`)\n      .attr(\"stroke-width\", 2)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke-linecap\", \"round\")\n      .attr(\"stroke-linejoin\", \"round\")\n      .attr(\"class\", \"icon external-link\");\n    svg.append(\"path\").attr(\"d\", `M0 0h24v24H0z`).attr(\"stroke\", \"none\").attr(\"fill\", \"#fff\").attr(\"fill-opacity\", 0);\n    svg.append(\"path\").attr(\"d\", \"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6\");\n    svg.append(\"path\").attr(\"d\", \"M11 13l9 -9\");\n    svg.append(\"path\").attr(\"d\", \"M15 4h5v5\");\n  }\n\n  static followObject(tooltip: d3.Selection<Tooltip>) {\n    tooltip.attr(\"transform\", (d) => d.transform());\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { Link } from \"./link\";\nimport { Node } from \"./node\";\nimport { Tooltip } from \"./tooltip\";\nimport { classify } from \"./util\";\n\nexport class LinkTooltip extends Tooltip {\n  protected static type = \"link\" as const;\n\n  constructor(\n    private link: Link,\n    eventType: string,\n  ) {\n    super(eventType, { offsetX: 10 });\n  }\n\n  transform() {\n    const [x, y] = this.link.centerCoordinates();\n    return `translate(${x}, ${y})`;\n  }\n\n  protected objectId(escape = false) {\n    let id = classify(this.link.linkId());\n\n    if (escape) {\n      id = CSS.escape(id);\n    }\n\n    return id;\n  }\n\n  protected static appendText(container: SVGGElement) {\n    const path = d3.select(container).append(\"path\") as d3.Selection<LinkTooltip>;\n    const text = d3.select(container).append(\"text\") as d3.Selection<LinkTooltip>;\n\n    LinkTooltip.appendNameValue(text, \"source\", (d) => (d.link.source as Node).name);\n    text.each(function (d) {\n      d.link.sourceMeta.forEach((m) => {\n        LinkTooltip.appendNameValue(text, m.class, m.value, false);\n      });\n    });\n\n    LinkTooltip.appendNameValue(text, \"target\", (d) => (d.link.target as Node).name, true);\n    text.each(function (d) {\n      d.link.targetMeta.forEach((m) => {\n        LinkTooltip.appendNameValue(text, m.class, m.value, false);\n      });\n    });\n\n    text.each(function (d) {\n      d.link.metaList.forEach((m, i) => {\n        LinkTooltip.appendNameValue(text, m.class, m.value, i === 0);\n      });\n\n      // Add \"d\" after bbox calculation\n      const bbox = this.getBBox();\n      path\n        .attr(\"d\", (d) => LinkTooltip.pathD(d.offsetX, 0, bbox.width + 40, bbox.height + 20))\n        .style(\"fill\", function () {\n          return LinkTooltip.fill(this);\n        });\n    });\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { Node } from \"./node\";\nimport { Tooltip } from \"./tooltip\";\n\nexport class NodeTooltip extends Tooltip {\n  protected static type = \"node\" as const;\n\n  constructor(\n    private node: Node,\n    eventType: string,\n  ) {\n    super(eventType);\n  }\n\n  transform() {\n    return `translate(${this.node.x}, ${this.node.y})`;\n  }\n\n  protected objectId(escape = false) {\n    let id = this.node.nodeId();\n\n    if (escape) {\n      id = CSS.escape(id);\n    }\n\n    return id;\n  }\n\n  protected static appendText(container: SVGGElement) {\n    const path = d3.select(container).append(\"path\") as d3.Selection<NodeTooltip>;\n    const text = d3.select(container).append(\"text\") as d3.Selection<NodeTooltip>;\n\n    NodeTooltip.appendNameValue(text, \"node\", (d) => d.node.name);\n\n    text.each(function (d) {\n      d.node.metaList.forEach((m, i) => {\n        NodeTooltip.appendNameValue(text, m.class, m.value, i === 0);\n      });\n\n      // Add \"d\" after bbox calculation\n      const bbox = this.getBBox();\n      path\n        .attr(\"d\", (d) => NodeTooltip.pathD(d.offsetX, 0, bbox.width + 40, bbox.height + 20))\n        .style(\"fill\", function () {\n          return NodeTooltip.fill(this);\n        });\n    });\n  }\n}\n","import * as md5 from \"crypto-js/md5\";\nimport * as d3 from \"d3\";\n\nimport { InetHengeDataType } from \"./diagram\";\nimport { Group } from \"./group\";\nimport { Link } from \"./link\";\nimport { Node } from \"./node\";\n\nexport type GroupPosition = { x: number; y: number; width: number; height: number };\nexport type NodePosition = { x: number; y: number };\nexport type LinkPosition = { x1: number; y1: number; x2: number; y2: number };\ntype ExtendedInetHengeDataType = InetHengeDataType & { pop: string };\ntype CacheDataType = {\n  md5: string;\n  group: GroupPosition[];\n  node: NodePosition[];\n  link: LinkPosition[];\n};\n\nexport class PositionCache {\n  private readonly cachedMd5: string;\n  public group: GroupPosition[];\n  public node: NodePosition[];\n  public link: LinkPosition[];\n\n  constructor(\n    public data: InetHengeDataType,\n    public pop?: RegExp,\n    md5?: string,\n  ) {\n    // NOTE: properties below can be undefined\n    this.cachedMd5 = md5;\n  }\n\n  private static getAll(): Record<string, CacheDataType> {\n    return JSON.parse(localStorage.getItem(\"positionCache\")) || {};\n  }\n\n  private static key() {\n    return `${location.pathname}${location.search}`;\n  }\n\n  private static get() {\n    return this.getAll()[this.key()] || ({} as CacheDataType);\n  }\n\n  save(group: d3.Selection<Group>, node: d3.Selection<Node>, link: d3.Selection<Link>) {\n    const cache = PositionCache.getAll();\n    cache[PositionCache.key()] = {\n      md5: this.md5(),\n      group: this.groupPosition(group),\n      node: this.nodePosition(node),\n      link: this.linkPosition(link),\n    };\n\n    localStorage.setItem(\"positionCache\", JSON.stringify(cache));\n  }\n\n  private md5(data?: ExtendedInetHengeDataType, pop?: RegExp) {\n    data = structuredClone(data || this.data) as ExtendedInetHengeDataType;\n    data.pop = String(pop || this.pop);\n    if (data.pop === \"undefined\") {\n      data.pop = \"null\"; // NOTE: unify undefined with null\n    }\n\n    if (data.nodes) {\n      data.nodes.forEach((i) => {\n        delete i.icon;\n        delete i.meta;\n      });\n    }\n    if (data.links) {\n      data.links.forEach((i) => {\n        delete i.meta;\n      });\n    }\n\n    return md5(JSON.stringify(data)).toString();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private groupPosition(group: d3.Selection<any>) {\n    const position: GroupPosition[] = [];\n\n    group.each((d) => {\n      position.push({\n        x: d.bounds.x,\n        y: d.bounds.y,\n        width: d.bounds.width(),\n        height: d.bounds.height(),\n      });\n    });\n\n    return position;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private nodePosition(node: d3.Selection<any>) {\n    const position: NodePosition[] = [];\n\n    node.each((d: Node) => {\n      position.push({\n        x: d.x,\n        y: d.y,\n      });\n    });\n\n    return position;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private linkPosition(link: d3.Selection<any>) {\n    const position: LinkPosition[] = [];\n\n    link.each((d) => {\n      position.push({\n        x1: d.source.x,\n        y1: d.source.y,\n        x2: d.target.x,\n        y2: d.target.y,\n      });\n    });\n\n    return position;\n  }\n\n  private match(data: InetHengeDataType, pop: RegExp) {\n    return this.cachedMd5 === this.md5(data as ExtendedInetHengeDataType, pop);\n  }\n\n  static load(data: InetHengeDataType, pop: RegExp) {\n    const cache = this.get();\n    if (cache) {\n      const position = new PositionCache(data, pop, cache.md5);\n      if (position.match(data, pop)) {\n        // if data and pop match saved md5\n        position.group = cache.group;\n        position.node = cache.node;\n        position.link = cache.link;\n\n        return position;\n      }\n    }\n  }\n}\n","import \"./hack_cola\";\n\nimport * as d3 from \"d3\";\n\nimport { WebColaConstraint } from \"../types/WebCola\";\nimport { Bundle } from \"./bundle\";\nimport { Group, GroupOptions } from \"./group\";\nimport { Link, LinkDataType } from \"./link\";\nimport { LinkTooltip } from \"./link_tooltip\";\nimport { Node, NodeDataType, NodeOptions } from \"./node\";\nimport { NodeTooltip } from \"./node_tooltip\";\nimport { NodePosition, PositionCache } from \"./position_cache\";\n\nconst cola = require(\"cola\"); // eslint-disable-line @typescript-eslint/no-require-imports\n\ntype LinkWidthFunction = (object) => number;\nexport type HrefFunction = (object, type?: \"node\" | \"link\") => string;\nexport type InetHengeDataType = { nodes: NodeDataType[]; links: LinkDataType[] };\n// Fix @types/d3/index.d.ts. Should be \"d3.scale.Ordinal<number, string>\" but \"d3.scale.Ordinal<string, string>\" somehow\nexport type Color = d3.scale.Ordinal<string, string>;\ntype PositionHint = {\n  nodeCallback?: (node: Node) => NodePosition;\n};\ntype PositionConstraint = {\n  axis: \"x\" | \"y\";\n  nodesCallback: (nodes: Node[]) => Node[][];\n};\ntype DiagramOptionType = {\n  // Options publicly available\n  width: number;\n  height: number;\n  nodeWidth: number;\n  nodeHeight: number;\n  groupPadding: number;\n  initialTicks: number;\n  ticks: number;\n  positionCache: boolean | string;\n  positionHint: PositionHint;\n  positionConstraints: PositionConstraint[];\n  bundle: boolean;\n  pop: RegExp;\n  distance: LinkWidthFunction;\n  tooltip: string;\n  href: HrefFunction;\n\n  // Internal options\n  selector: string;\n  urlOrData: string | InetHengeDataType;\n  groupPattern: RegExp | undefined;\n  color: Color;\n  maxTicks: number;\n\n  meta: string[];\n};\n\nclass DiagramBase {\n  public tickCallback: () => void;\n\n  private options: DiagramOptionType;\n  private readonly setDistance: (object) => number;\n  private getLinkWidth: LinkWidthFunction;\n  private zoom: d3.behavior.Zoom<unknown>;\n  private cola;\n  private uniqueUrl: string;\n  private positionCache: PositionCache;\n  private indicator: d3.Selection<any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  private initialTranslate: [number, number];\n  private initialScale: number;\n  private svg: d3.Selection<any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  constructor(container: string, urlOrData: string | InetHengeDataType, options: DiagramOptionType) {\n    options ||= {} as DiagramOptionType;\n    this.options = Object.assign({}, options);\n    this.options.selector = container;\n    this.options.urlOrData = urlOrData;\n    this.options.groupPattern = options.pop;\n    this.options.width = options.width || 960;\n    this.options.height = options.height || 600;\n    this.options.positionHint = options.positionHint || {};\n    this.options.positionConstraints = options.positionConstraints || [];\n\n    this.options.color = d3.scale.category20();\n    this.options.initialTicks = options.initialTicks || 0;\n    this.options.maxTicks = options.ticks || 1000;\n    // NOTE: true or 'fixed' (experimental) affects behavior\n    this.options.positionCache = \"positionCache\" in options ? options.positionCache : true;\n    // NOTE: This is an experimental option\n    this.options.bundle = \"bundle\" in options ? options.bundle : false;\n    this.options.tooltip = options.tooltip;\n\n    this.setDistance = this.linkDistance(options.distance || 150);\n    NodeTooltip.setHref(options.href);\n    LinkTooltip.setHref(options.href);\n  }\n\n  init(...meta: string[]) {\n    this.options.meta = meta;\n    this.cola = this.initCola();\n    this.svg = this.initSvg();\n\n    this.displayLoadMessage();\n\n    if (typeof this.options.urlOrData === \"object\") {\n      setTimeout(() => {\n        // Run asynchronously\n        this.render(this.options.urlOrData as InetHengeDataType);\n      });\n    } else {\n      d3.json(this.url(), (error, data) => {\n        if (error) {\n          console.error(error);\n          this.showMessage(`Failed to load \"${this.url()}\"`);\n        }\n\n        this.render(data);\n      });\n    }\n  }\n\n  initCola() {\n    return cola\n      .d3adaptor()\n      .avoidOverlaps(true)\n      .handleDisconnected(false)\n      .size([this.options.width, this.options.height]);\n  }\n\n  initSvg() {\n    this.zoom = d3.behavior.zoom();\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const container: d3.Selection<any> = d3\n      .select(this.options.selector)\n      .append(\"svg\")\n      .attr(\"width\", this.options.width)\n      .attr(\"height\", this.options.height)\n      .append(\"g\")\n      .call(this.zoom.on(\"zoom\", () => this.zoomCallback(container)))\n      .append(\"g\");\n\n    container\n      .append(\"rect\")\n      .attr(\"width\", this.options.width * 10) // 10 is huge enough\n      .attr(\"height\", this.options.height * 10)\n      .attr(\"transform\", `translate(-${this.options.width * 5}, -${this.options.height * 5})`)\n      .style(\"opacity\", 0);\n\n    return container;\n  }\n\n  render(data: InetHengeDataType) {\n    try {\n      const nodes = data.nodes\n        ? data.nodes.map(\n            (n, i) =>\n              new Node(n, i, {\n                width: this.options.nodeWidth,\n                height: this.options.nodeHeight,\n                metaKeys: this.options.meta,\n                color: this.options.color,\n                tooltip: !!this.options.tooltip,\n              } as NodeOptions),\n          )\n        : [];\n      const links = data.links\n        ? Bundle.sortByBundle(data.links).map(\n            (l, i) =>\n              new Link(l, i, {\n                metaKeys: this.options.meta,\n                linkWidth: this.getLinkWidth,\n              }),\n          )\n        : [];\n      const groups = Group.divide(nodes, this.options.groupPattern, {\n        color: this.options.color,\n        padding: this.options.groupPadding,\n      } as GroupOptions);\n      const nodeTooltips = nodes.map((n) => new NodeTooltip(n, this.options.tooltip));\n      const linkTooltips = links.map((l) => new LinkTooltip(l, this.options.tooltip));\n      const bundles = Bundle.divide(links);\n\n      this.cola.nodes(nodes).links(links).groups(groups);\n      this.applyConstraints(this.options.positionConstraints, nodes);\n      this.setDistance(this.cola);\n\n      // Start to update Link.source and Link.target with Node object after\n      // initial layout iterations without any constraints.\n      this.cola.start(this.options.initialTicks);\n\n      const groupLayer = this.svg.append(\"g\").attr(\"id\", \"groups\");\n      const linkLayer = this.svg.append(\"g\").attr(\"id\", \"links\");\n      const nodeLayer = this.svg.append(\"g\").attr(\"id\", \"nodes\");\n      const linkLabelLayer = this.svg.append(\"g\").attr(\"id\", \"link-labels\");\n      const tooltipLayer = this.svg.append(\"g\").attr(\"id\", \"tooltips\");\n\n      const [link, path, label] = Link.render(linkLayer, linkLabelLayer, links);\n      const bundle = Bundle.render(linkLayer, bundles);\n\n      const group = Group.render(groupLayer, groups).call(\n        this.cola\n          .drag()\n          .on(\"dragstart\", DiagramBase.dragstartCallback)\n          .on(\"drag\", () => {\n            if (this.options.bundle) {\n              Link.shiftBundle(link, path, label, bundle);\n            }\n\n            NodeTooltip.followObject(nodeTooltip);\n            LinkTooltip.followObject(linkTooltip);\n          }),\n      );\n\n      const node = Node.render(nodeLayer, nodes).call(\n        this.cola\n          .drag()\n          .on(\"dragstart\", DiagramBase.dragstartCallback)\n          .on(\"drag\", () => {\n            if (this.options.bundle) {\n              Link.shiftBundle(link, path, label, bundle);\n            }\n\n            NodeTooltip.followObject(nodeTooltip);\n            LinkTooltip.followObject(linkTooltip);\n          }),\n      );\n\n      // without path calculation\n      this.configureTick(group, node, link);\n\n      this.positionCache = PositionCache.load(data, this.options.groupPattern);\n      if (this.options.positionCache && this.positionCache) {\n        // NOTE: Evaluate only when positionCache: true or 'fixed', and\n        //       when the stored position cache matches a pair of given data and pop\n        Group.setPosition(group, this.positionCache.group);\n        Node.setPosition(node, this.positionCache.node);\n        Link.setPosition(link, this.positionCache.link);\n      } else {\n        if (this.options.positionHint.nodeCallback) {\n          Node.setPosition(\n            node,\n            node.data().map((d) => this.options.positionHint.nodeCallback(d)),\n          );\n          this.cola.start(); // update internal positions of objects before ticks forward\n        }\n\n        this.ticksForward();\n        this.positionCache = new PositionCache(data, this.options.groupPattern);\n        this.savePosition(group, node, link);\n      }\n\n      this.hideLoadMessage();\n\n      this.configureTick(group, node, link, path, label); // render path\n      this.removeConstraints();\n\n      this.cola.start();\n      if (this.options.bundle) {\n        Link.shiftBundle(link, path, label, bundle);\n      }\n\n      path.attr(\"d\", (d) => d.d()); // make sure path calculation is done\n      DiagramBase.freeze(node);\n\n      const nodeTooltip = NodeTooltip.render<NodeTooltip>(tooltipLayer, nodeTooltips);\n      const linkTooltip = LinkTooltip.render<LinkTooltip>(tooltipLayer, linkTooltips);\n\n      // NOTE: This is an experimental option\n      if (this.options.positionCache === \"fixed\") {\n        this.cola.on(\"end\", () => {\n          this.savePosition(group, node, link);\n        });\n      }\n    } catch (e) {\n      this.showMessage(e);\n      throw e;\n    }\n  }\n\n  linkWidth(func: LinkWidthFunction) {\n    this.getLinkWidth = func;\n  }\n\n  attr(name: string, value: string) {\n    if (!this.initialTranslate) {\n      this.saveInitialTranslate();\n    }\n\n    this.svg.attr(name, value);\n\n    const transform = d3.transform(this.svg.attr(\"transform\")); // FIXME: This is valid only for d3.js v3\n    this.zoom.scale(transform.scale[0]); // NOTE: Assuming ky = kx\n    this.zoom.translate(transform.translate);\n  }\n\n  destroy() {\n    d3.select(\"body svg\").remove();\n    Node.reset();\n    Link.reset();\n    Bundle.reset();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private static freeze(container: d3.Selection<any>) {\n    container.each((d) => (d.fixed = true));\n  }\n\n  private static dragstartCallback() {\n    (d3.event as d3.ZoomEvent).sourceEvent.stopPropagation();\n  }\n\n  private linkDistance(distance: number | ((any) => number)) {\n    if (typeof distance === \"function\") return distance;\n    else return (cola) => cola.linkDistance(distance);\n  }\n\n  private url() {\n    if (this.uniqueUrl) {\n      return this.uniqueUrl;\n    }\n\n    this.uniqueUrl = `${this.options.urlOrData}?${new Date().getTime()}`;\n    return this.uniqueUrl;\n  }\n\n  private configureTick(\n    group: d3.Selection<Group>,\n    node: d3.Selection<Node>,\n    link: d3.Selection<Link>,\n    path?: d3.Selection<Link>,\n    label?: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n  ) {\n    // this.cola.on() overrides existing listener, not additionally register it.\n    // May need to call it manually.\n    this.tickCallback = () => {\n      Node.tick(node);\n      Link.tick(link, path, label);\n      Group.tick(group);\n    };\n\n    this.cola.on(\"tick\", this.tickCallback);\n  }\n\n  private ticksForward(count?: number) {\n    count = count || this.options.maxTicks;\n\n    for (let i = 0; i < count; i++) this.cola.tick();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private zoomCallback(container: d3.Selection<any>) {\n    if (!this.initialTranslate) {\n      this.saveInitialTranslate();\n    }\n\n    const event = d3.event as d3.ZoomEvent;\n\n    event.scale *= this.initialScale;\n    event.translate[0] += this.initialTranslate[0];\n    event.translate[1] += this.initialTranslate[1];\n\n    Link.zoom(event.scale);\n    container.attr(\"transform\", `translate(${event.translate}) scale(${event.scale})`);\n  }\n\n  private displayLoadMessage() {\n    this.indicator = this.svg\n      .append(\"text\")\n      .attr(\"x\", this.options.width / 2)\n      .attr(\"y\", this.options.height / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Simulating. Just a moment ...\");\n  }\n\n  private hideLoadMessage() {\n    if (this.indicator) this.indicator.remove();\n  }\n\n  private showMessage(message: string) {\n    if (this.indicator) this.indicator.text(message);\n  }\n\n  private saveInitialTranslate() {\n    const transform = d3.transform(this.svg.attr(\"transform\")); // FIXME: This is valid only for d3.js v3\n    this.initialScale = transform.scale[0]; // NOTE: Assuming ky = kx\n    this.initialTranslate = transform.translate;\n  }\n\n  private savePosition(group: d3.Selection<Group>, node: d3.Selection<Node>, link: d3.Selection<Link>) {\n    this.positionCache.save(group, node, link);\n  }\n\n  private applyConstraints(constraints: PositionConstraint[], nodes: Node[]) {\n    const colaConstraints: WebColaConstraint[] = [];\n\n    for (const constraint of constraints) {\n      for (const ns of constraint.nodesCallback(nodes)) {\n        colaConstraints.push({\n          type: \"alignment\",\n          axis: constraint.axis,\n          offsets: ns.map((n) => ({ node: n.id, offset: 0 })),\n        });\n      }\n    }\n\n    this.cola.constraints(colaConstraints);\n  }\n\n  private removeConstraints() {\n    this.cola.constraints([]);\n  }\n}\n\nconst Pluggable = (Base: typeof DiagramBase) => {\n  class Diagram extends Base {\n    static plugin(cls, options = {}) {\n      cls.load(Group, Node, Link, options);\n    }\n  }\n\n  return Diagram;\n};\n\nconst Eventable = (Base: typeof DiagramBase) => {\n  class Diagram extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(container: string, urlOrData: string | InetHengeDataType, options: DiagramOptionType) {\n      super(container, urlOrData, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    render(arg) {\n      super.render(arg);\n      this.dispatch.rendered();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: () => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return Diagram;\n};\n\nclass PluggableDiagram extends Pluggable(DiagramBase) {}\n\nexport class Diagram extends Eventable(PluggableDiagram) {}\n"],"names":["root","factory","exports","module","require","define","amd","a","i","self","__WEBPACK_EXTERNAL_MODULE__893__","__WEBPACK_EXTERNAL_MODULE__109__","CryptoJS","Math","crypto","window","globalThis","msCrypto","g","err","cryptoSecureRandomInt","getRandomValues","Uint32Array","randomBytes","readInt32LE","Error","create","Object","F","obj","subtype","prototype","C","C_lib","lib","Base","extend","overrides","this","mixIn","hasOwnProperty","init","$super","apply","arguments","instance","properties","propertyName","toString","clone","WordArray","words","sigBytes","length","encoder","Hex","stringify","concat","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","j","ceil","call","slice","random","nBytes","push","C_enc","enc","hexChars","bite","join","parse","hexStr","hexStrLength","parseInt","substr","Latin1","latin1Chars","String","fromCharCode","latin1Str","latin1StrLength","charCodeAt","Utf8","decodeURIComponent","escape","e","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","data","_process","doFlush","processedWords","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","max","_minBufferSize","nBytesReady","min","offset","_doProcessBlock","splice","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","message","_createHmacHelper","key","HMAC","algo","T","abs","sin","MD5","_hash","M","offset_i","M_offset_i","H","M_offset_0","M_offset_1","M_offset_2","M_offset_3","M_offset_4","M_offset_5","M_offset_6","M_offset_7","M_offset_8","M_offset_9","M_offset_10","M_offset_11","M_offset_12","M_offset_13","M_offset_14","M_offset_15","b","c","d","FF","GG","HH","II","nBitsTotal","nBitsLeft","nBitsTotalH","floor","nBitsTotalL","hash","H_i","x","s","t","n","HmacMD5","jaccardLinkLengths","links","la","w","f","neighbours","addNeighbours","u","v","forEach","getSourceIndex","getTargetIndex","getNeighbours","l","setLength","keys","intersectionCount","unionCount","computeLinkLengths","cola","Layout","idealLength","_this","linkDistance","_linkLengthCalculator","_links","linkAccessor","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","o","defineProperty","enumerable","get","Function","prop","r","Symbol","toStringTag","value","Bundle","constructor","id","color","width","space","divide","groups","bundle","groupKey","values","map","ids","link","JSON","source","target","render","linkLayer","bundles","selectAll","enter","append","attr","class","bundleId","sortByBundle","sort","first","centerCoordinates","last","gap","sqrt","pow","angle","start","end","shiftMultiplier","_shiftMultiplier","members","group","reduce","sum","shiftBundle","replace","classify","string","toLowerCase","GroupBase","name","options","padding","transform","bounds","y","groupWidth","groupHeight","height","nodes","pattern","register","node","parent","Group","result","match","layer","style","text","tick","setPosition","position","WebColable","super","leaves","Eventable","dispatch","each","rendered","on","callback","Pluggable","pluginConstructors","bind","registerConstructor","func","WebColableGroup","EventableGroup","MetaData","extraKey","filter","k","sliceWithExtraKey","sliceWithoutExtraKey","NodeBase","icon","metaList","meta","metaKeys","extraClass","tspanOffset","Node","all","nodeWidth","nodeHeight","xForText","yForText","idByName","nodeId","appendImage","appendRect","appendText","container","tooltip","appendMetaText","m","EventableNode","LinkBase","sourceMeta","targetMeta","linkWidth","defaultMargin","labelXOffset","labelYOffset","Link","isLabelledPath","isReversePath","pathId","linkId","margin","_margin","getComputedStyle","document","getElementById","isLabelVisible","pathLength","getTotalLength","isShort","Array","from","getElementsByClassName","some","p","tp","firstChild","classList","contains","getComputedTextLength","classed","scale","tspanXOffset","tspanYOffset","rotate","bbox","split","duped","assign","hasMeta","getBBox","baseVal","consolidate","matrix","atan2","y2","y1","x2","x1","PI","labelLayer","pathGroup","textGroup","path","center","theOtherEnd","zoom","label","indexOf","multiplier","EventableLink","Tooltip","eventType","offsetX","visibility","tspanOffsetY","marginTop","type","objectId","setVisibility","toggleVisibility","toggleVisibilityCallback","element","defaultPrevented","getAttribute","configureObjectClickCallback","configureObjectHoverCallback","disableZoom","stopPropagation","setHref","href","tooltips","cls","appendExternalLinkIcon","fill","pathD","appendNameValue","svg","followObject","LinkTooltip","CSS","NodeTooltip","PositionCache","pop","md5","cachedMd5","getAll","localStorage","getItem","location","pathname","search","save","cache","groupPosition","nodePosition","linkPosition","setItem","structuredClone","load","DiagramBase","urlOrData","selector","groupPattern","positionHint","positionConstraints","category20","initialTicks","maxTicks","ticks","positionCache","setDistance","distance","initCola","initSvg","displayLoadMessage","setTimeout","url","error","console","showMessage","d3adaptor","avoidOverlaps","handleDisconnected","size","zoomCallback","getLinkWidth","groupPadding","nodeTooltips","linkTooltips","applyConstraints","groupLayer","nodeLayer","linkLabelLayer","tooltipLayer","drag","dragstartCallback","nodeTooltip","linkTooltip","configureTick","nodeCallback","ticksForward","savePosition","hideLoadMessage","removeConstraints","freeze","initialTranslate","saveInitialTranslate","translate","destroy","remove","fixed","sourceEvent","uniqueUrl","Date","getTime","tickCallback","count","event","initialScale","indicator","constraints","colaConstraints","constraint","ns","nodesCallback","axis","offsets","arg","PluggableDiagram","plugin","Diagram"],"sourceRoot":""}