{"version":3,"file":"inet-henge.min.js","mappings":"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","sources":["webpack://inet-henge/webpack/universalModuleDefinition","webpack://inet-henge/./node_modules/charenc/charenc.js","webpack://inet-henge/./node_modules/crypt/crypt.js","webpack://inet-henge/./node_modules/is-buffer/index.js","webpack://inet-henge/./node_modules/lodash.clonedeep/index.js","webpack://inet-henge/./node_modules/md5/md5.js","webpack://inet-henge/./src/hack_cola.js","webpack://inet-henge/external umd \"cola\"","webpack://inet-henge/external umd \"d3\"","webpack://inet-henge/webpack/bootstrap","webpack://inet-henge/webpack/runtime/define property getters","webpack://inet-henge/webpack/runtime/global","webpack://inet-henge/webpack/runtime/hasOwnProperty shorthand","webpack://inet-henge/webpack/runtime/make namespace object","webpack://inet-henge/webpack/runtime/node module decorator","webpack://inet-henge/./src/bundle.ts","webpack://inet-henge/./src/util.ts","webpack://inet-henge/./src/group.ts","webpack://inet-henge/./src/meta_data.ts","webpack://inet-henge/./src/node.ts","webpack://inet-henge/./src/link.ts","webpack://inet-henge/./src/tooltip.ts","webpack://inet-henge/./src/link_tooltip.ts","webpack://inet-henge/./src/node_tooltip.ts","webpack://inet-henge/./src/position_cache.ts","webpack://inet-henge/./src/diagram.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"), require(\"cola\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\", \"cola\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\"), require(\"cola\")) : factory(root[\"d3\"], root[\"cola\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, (__WEBPACK_EXTERNAL_MODULE__893__, __WEBPACK_EXTERNAL_MODULE__109__) => {\nreturn ","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/* eslint-disable */\n\n// Ported from WebCola/cola.js and overrode jaccardLinkLengths()\n\nfunction unionCount(a, b) {\n  var u = {};\n  for (var i in a) u[i] = {};\n  for (var i in b) u[i] = {};\n  return Object.keys(u).length;\n}\n\nfunction intersectionCount(a, b) {\n  var n = 0;\n  for (var i in a) if (typeof b[i] !== \"undefined\") ++n;\n  return n;\n}\n\nfunction getNeighbours(links, la) {\n  var neighbours = {};\n  var addNeighbours = function (u, v) {\n    if (typeof neighbours[u] === \"undefined\") neighbours[u] = {};\n    neighbours[u][v] = {};\n  };\n  links.forEach(function (e) {\n    var u = la.getSourceIndex(e),\n      v = la.getTargetIndex(e);\n    addNeighbours(u, v);\n    addNeighbours(v, u);\n  });\n  return neighbours;\n}\n\nfunction computeLinkLengths(links, w, f, la) {\n  var neighbours = getNeighbours(links, la);\n  links.forEach(function (l) {\n    var a = neighbours[la.getSourceIndex(l)];\n    var b = neighbours[la.getTargetIndex(l)];\n    la.setLength(l, 1 + w * f(a, b));\n  });\n}\n\nfunction jaccardLinkLengths(links, la, w) {\n  if (w === void 0) {\n    w = 1;\n  }\n  computeLinkLengths(\n    links,\n    w,\n    function (a, b) {\n      return Math.min(Object.keys(a).length, Object.keys(b).length) < 1.1\n        ? 0\n        : 1 - intersectionCount(a, b) / unionCount(a, b);\n    },\n    la,\n  );\n}\n\ncola.Layout.prototype.jaccardLinkLengths = function (idealLength, w) {\n  var _this = this;\n  if (w === void 0) {\n    w = 1;\n  }\n  this.linkDistance(function (l) {\n    return idealLength * l.length;\n  });\n  this._linkLengthCalculator = function () {\n    return jaccardLinkLengths(_this._links, _this.linkAccessor, w);\n  };\n  return this;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__109__;","module.exports = __WEBPACK_EXTERNAL_MODULE__893__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","import * as d3 from \"d3\";\n\nimport { Link, LinkDataType } from \"./link\";\n\nexport class Bundle {\n  // Bundle group in the whole graph\n  // {\n  //   \"[<source node id>, <target node id>, \\\"<bundle id>\\\"]\": [<link id>, ...],\n  // }\n  private static groups: Record<string, number[]>;\n\n  // member Links of this Bundle\n  protected readonly links: Link[];\n\n  private color: string;\n  private width: number;\n  private space: number;\n  private _shiftMultiplier: number;\n\n  constructor(links: Link[], public id: number) {\n    this.links = links;\n    this.color = \"#7a4e4e\";\n    this.width = 2;\n    this.space = 4;\n  }\n\n  static divide(links: Link[]) {\n    Bundle.groups = {};\n\n    for (const l of links) {\n      if (l.bundle) {\n        const key = this.groupKey(l);\n        (Bundle.groups[key] || (Bundle.groups[key] = [])).push(l.id);\n      }\n    }\n\n    return Object.values(Bundle.groups).map((ids, i) => {\n      return new Bundle(\n        ids.map((id) => links[id]),\n        i,\n      );\n    });\n  }\n\n  private static groupKey(link: Link) {\n    return JSON.stringify([link.source, link.target, link.bundle]);\n  }\n\n  static render(\n    linkLayer: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n    bundles: Bundle[],\n  ) {\n    const bundleGroup = linkLayer\n      .selectAll(\".bundle\")\n      .data(bundles)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const bundle = bundleGroup\n      .append(\"path\")\n      .attr(\"d\", (d) => d.d())\n      .attr(\"stroke\", (d) => d.color)\n      .attr(\"stroke-width\", (d) => d.width)\n      .attr(\"fill\", \"none\")\n      .attr(\"id\", (d) => d.bundleId());\n\n    return bundle;\n  }\n\n  static reset() {\n    Bundle.groups = null;\n  }\n\n  // sort by bundle with preserving order\n  static sortByBundle(links: LinkDataType[]) {\n    return links.sort((a, b) => {\n      switch (true) {\n        case !!a.bundle && !b.bundle:\n          return -1;\n        case !a.bundle && !!b.bundle:\n          return 1;\n        case !a.bundle && !b.bundle:\n          return 0;\n\n        // !!a.bundle && !!b.bundle === true\n        case a.bundle.toString() < b.bundle.toString():\n          return -1;\n        case a.bundle.toString() > b.bundle.toString():\n          return 1;\n\n        default:\n          return 0;\n      }\n    });\n  }\n\n  d() {\n    const first = this.links[0].centerCoordinates();\n    const last = this.links[this.links.length - 1].centerCoordinates();\n    const gap = Math.sqrt(Math.pow(first[0] - last[0], 2) + Math.pow(first[1] - last[1], 2));\n\n    if (gap === 0) {\n      return \"\";\n    }\n\n    const angle = this.links[0].angle() + 90;\n    const start = [\n      ((first[0] - last[0]) * this.space) / gap + first[0],\n      ((first[1] - last[1]) * this.space) / gap + first[1],\n    ];\n    const end = [\n      ((last[0] - first[0]) * this.space) / gap + last[0],\n      ((last[1] - first[1]) * this.space) / gap + last[1],\n    ];\n\n    return `M ${start[0]} ${start[1]} A ${gap / 2 + 10},5 ${angle} 1,0 ${end[0]} ${end[1]}`;\n  }\n\n  private shiftMultiplier() {\n    if (!this._shiftMultiplier) {\n      const members = this.links[0].group() || [];\n      this._shiftMultiplier = this.links.reduce((sum, l) => (sum += l.id - (members.length - 1) / 2), 0) / 2;\n    }\n\n    return this._shiftMultiplier;\n  }\n\n  static shiftBundle(bundle: d3.Selection<Bundle>) {\n    bundle.attr(\"d\", (d) => d.d());\n  }\n\n  private class() {\n    // modified link's class\n    return this.links[0].class().replace(/^link/, \"bundle\");\n  }\n\n  private bundleId() {\n    return `bundle${this.id}`;\n  }\n}\n","export function classify(string: string) {\n  return string.replace(\" \", \"-\").toLowerCase();\n}\n","import * as d3 from \"d3\";\n\nimport { Color } from \"./diagram\";\nimport { Node } from \"./node\";\nimport { GroupPosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\nexport type Constructor = (name: string, color: Color) => void;\n\nexport type GroupOptions = {\n  color: Color;\n  padding: number;\n};\n\nexport class GroupBase {\n  private padding: number;\n\n  // Not appropriately defined in @types/d3/index.d.ts\n  private bounds: any; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  constructor(private name: string, private options: GroupOptions) {\n    this.padding = options.padding;\n  }\n\n  transform() {\n    return `translate(${this.bounds.x}, ${this.bounds.y})`;\n  }\n\n  private groupWidth() {\n    return this.bounds.width();\n  }\n\n  private groupHeight() {\n    return this.bounds.height();\n  }\n\n  static divide(nodes: Node[], pattern: RegExp, options: GroupOptions) {\n    const groups = {};\n    const register = (name: string, node: Node, parent?: string) => {\n      const key = `${parent}:${name}`;\n      groups[key] = groups[key] || new Group(name, options);\n      // hacky but required due to WebCola implementation\n      groups[key].push(node);\n    };\n\n    nodes.forEach((node) => {\n      let result = null;\n\n      if (pattern) {\n        result = node.name.match(pattern);\n        if (result) {\n          register(result[1] || result[0], node);\n        }\n      }\n\n      // Node type based group\n      node.group.forEach((name) => register(name, node, String(result)));\n    });\n\n    return Object.values(groups as Record<string, Group>);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render(layer: d3.Selection<any>, groups: Group[]) {\n    const group: d3.Selection<Group> = layer\n      .selectAll(\".group\")\n      .data(groups)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => `group ${classify(d.name)}`)\n      .attr(\"transform\", (d) => d.transform());\n\n    group\n      .append(\"rect\")\n      .attr(\"rx\", 8)\n      .attr(\"ry\", 8)\n      .attr(\"width\", (d) => d.groupWidth())\n      .attr(\"height\", (d) => d.groupHeight())\n      // Fix @types/d3/index.d.ts. Should be \"d3.scale.Ordinal<number, string>\" but \"d3.scale.Ordinal<string, string>\" somehow\n      .style(\"fill\", (d, i) => d.options.color(i.toString()));\n\n    group.append(\"text\").text((d) => d.name);\n\n    return group;\n  }\n\n  static tick(group: d3.Selection<Group>) {\n    group.attr(\"transform\", (d) => d.transform());\n    group\n      .selectAll(\"rect\")\n      .attr(\"width\", (d) => d.groupWidth())\n      .attr(\"height\", (d) => d.groupHeight());\n  }\n\n  static setPosition(group: d3.Selection<Group>, position: GroupPosition[]) {\n    group.attr(\"transform\", (d, i) => {\n      d.bounds.x = position[i].x;\n      d.bounds.y = position[i].y;\n      return d.transform();\n    });\n    group\n      .selectAll(\"rect\")\n      .attr(\"width\", (d, i) => position[i].width)\n      .attr(\"height\", (d, i) => position[i].height);\n  }\n}\n\nconst WebColable = (Base: typeof GroupBase) => {\n  class Group extends Base {\n    private leaves: number[]; // WebCola requires this\n\n    constructor(name: string, options: GroupOptions) {\n      super(name, options);\n\n      this.leaves = [];\n    }\n\n    push(node: Node) {\n      this.leaves.push(node.id);\n    }\n  }\n\n  return Group;\n};\n\nconst Eventable = (Base: typeof GroupBase) => {\n  class EventableGroup extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(name: string, options: GroupOptions) {\n      super(name, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    static render(layer, groups) {\n      const group = super.render(layer, groups);\n\n      group.each(function (this: SVGGElement, d: Group & EventableGroup) {\n        d.dispatch.rendered(this);\n      });\n\n      return group;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableGroup;\n};\n\nconst Pluggable = (Base: typeof GroupBase) => {\n  class Group extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(name: string, options: GroupOptions) {\n      super(name, options);\n\n      for (const constructor of Group.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(name, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor) {\n      Group.pluginConstructors.push(func);\n    }\n  }\n\n  return Group;\n};\n\nclass WebColableGroup extends WebColable(GroupBase) {}\n\nclass EventableGroup extends Eventable(WebColableGroup) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Group extends Pluggable(EventableGroup) {}\n\nexport { Group };\n","export type MetaDataType = { class: string; value: any }; // eslint-disable-line @typescript-eslint/no-explicit-any\n\nexport class MetaData {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(private data: Record<string, any>, private extraKey?: string) {}\n\n  get(keys: string[]) {\n    return this.slice(keys).filter((k) => typeof k.value === \"string\");\n  }\n\n  private slice(keys: string[]) {\n    if (!this.data) return [];\n\n    if (this.extraKey) return this.sliceWithExtraKey(keys);\n    else return this.sliceWithoutExtraKey(keys);\n  }\n\n  private sliceWithExtraKey(keys: string[]) {\n    const data: MetaDataType[] = [];\n\n    keys.forEach((k) => {\n      if (this.data[k] && this.data[k][this.extraKey]) data.push({ class: k, value: this.data[k][this.extraKey] });\n    });\n\n    return data;\n  }\n\n  private sliceWithoutExtraKey(keys: string[]) {\n    const data: MetaDataType[] = [];\n\n    keys.forEach((k) => {\n      if (this.data[k]) data.push({ class: k, value: this.data[k] });\n    });\n\n    return data;\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { Color } from \"./diagram\";\nimport { MetaData, MetaDataType } from \"./meta_data\";\nimport { NodePosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type Constructor = (data: NodeDataType, id: number, options: NodeOptions) => void;\n\nexport type NodeDataType = {\n  name: string;\n  group: string[];\n  icon: string;\n  meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  class: string;\n};\n\nexport type NodeOptions = {\n  width: number;\n  height: number;\n  metaKeys: string[];\n  color: Color;\n  tooltip: boolean;\n};\n\nclass NodeBase {\n  private static all: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  public name: string;\n  public group: string[];\n  public metaList: MetaDataType[];\n  public meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  public x: number;\n  public y: number;\n\n  private icon: string;\n  private extraClass: string;\n  private width: number;\n  private height: number;\n  private padding: number;\n  private tspanOffset: string;\n\n  constructor(data: NodeDataType, public id: number, private options: NodeOptions) {\n    this.name = data.name;\n    this.group = typeof data.group === \"string\" ? [data.group] : data.group || [];\n    this.icon = data.icon;\n    this.metaList = new MetaData(data.meta).get(options.metaKeys);\n    this.meta = data.meta;\n    this.extraClass = data.class || \"\";\n\n    this.width = options.width || 60;\n    this.height = options.height || 40;\n    this.padding = 3;\n    this.tspanOffset = \"1.1em\";\n\n    this.register(id);\n  }\n\n  private register(id: number) {\n    Node.all = Node.all || {};\n    Node.all[this.name] = id;\n  }\n\n  transform() {\n    const x = this.x - this.width / 2 + this.padding;\n    const y = this.y - this.height / 2 + this.padding;\n    return `translate(${x}, ${y})`;\n  }\n\n  private nodeWidth() {\n    return this.width - 2 * this.padding;\n  }\n\n  private nodeHeight() {\n    return this.height - 2 * this.padding;\n  }\n\n  private xForText() {\n    return this.width / 2;\n  }\n\n  private yForText() {\n    return this.height / 2;\n  }\n\n  static idByName(name: string) {\n    if (Node.all[name] === undefined) throw `Unknown node \"${name}\"`;\n    return Node.all[name];\n  }\n\n  public nodeId() {\n    return classify(this.name);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render(layer: d3.Selection<any>, nodes: Node[]) {\n    const node: d3.Selection<Node> = layer\n      .selectAll(\".node\")\n      .data(nodes)\n      .enter()\n      .append(\"g\")\n      .attr(\"id\", (d) => d.nodeId())\n      .attr(\"name\", (d) => d.name)\n      .attr(\"transform\", (d) => d.transform());\n\n    node.each(function (this: SVGGElement, d) {\n      if (d.icon) Node.appendImage(this);\n      else Node.appendRect(this);\n\n      Node.appendText(this);\n    });\n\n    return node;\n  }\n\n  private static appendText(container: SVGGElement) {\n    const text = (d3.select(container) as d3.Selection<Node>)\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", (d) => d.xForText())\n      .attr(\"y\", (d) => d.yForText());\n    text\n      .append(\"tspan\")\n      .text((d) => d.name)\n      .attr(\"x\", (d) => d.xForText());\n\n    text.each((d) => {\n      // Show meta only when \"tooltip\" option is not configured\n      if (!d.options.tooltip) {\n        Node.appendMetaText(text, d.metaList);\n      }\n    });\n  }\n\n  private static appendMetaText(container: d3.Selection<Node>, meta: MetaDataType[]) {\n    meta.forEach((m) => {\n      container\n        .append(\"tspan\")\n        .attr(\"x\", (d) => d.xForText())\n        .attr(\"dy\", (d) => d.tspanOffset)\n        .attr(\"class\", m.class)\n        .text(m.value);\n    });\n  }\n\n  private static appendImage(container: SVGGElement) {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node image ${classify(d.name)} ${d.extraClass}`)\n      .append(\"image\")\n      .attr(\"xlink:href\", (d) => d.icon)\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight());\n  }\n\n  private static appendRect(container: SVGGElement) {\n    (d3.select(container) as d3.Selection<Node>)\n      .attr(\"class\", (d) => `node rect ${classify(d.name)} ${d.extraClass}`)\n      .append(\"rect\")\n      .attr(\"width\", (d) => d.nodeWidth())\n      .attr(\"height\", (d) => d.nodeHeight())\n      .attr(\"rx\", 5)\n      .attr(\"ry\", 5)\n      .style(\"fill\", (d) => d.options.color(undefined));\n  }\n\n  static tick(node: d3.Selection<Node>) {\n    node.attr(\"transform\", (d) => d.transform());\n  }\n\n  static setPosition(node: d3.Selection<Node>, position: NodePosition[]) {\n    node.attr(\"transform\", (d, i) => {\n      if (\n        position[i]?.x !== null &&\n        position[i]?.x !== undefined &&\n        position[i]?.y !== null &&\n        position[i]?.y !== undefined\n      ) {\n        d.x = position[i].x;\n        d.y = position[i].y;\n      }\n      return d.transform();\n    });\n  }\n\n  static reset() {\n    Node.all = null;\n  }\n}\n\nconst Eventable = (Base: typeof NodeBase) => {\n  class EventableNode extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    static render(layer, nodes) {\n      const node = super.render(layer, nodes);\n\n      node.each(function (this: SVGGElement, d: Node & EventableNode) {\n        d.dispatch.rendered(this);\n      });\n\n      return node;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableNode;\n};\n\nconst Pluggable = (Base: typeof NodeBase) => {\n  class Node extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(data: NodeDataType, id: number, options: NodeOptions) {\n      super(data, id, options);\n\n      for (const constructor of Node.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(data, id, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor) {\n      Node.pluginConstructors.push(func);\n    }\n  }\n\n  return Node;\n};\n\nclass EventableNode extends Eventable(NodeBase) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Node extends Pluggable(EventableNode) {}\n\nexport { Node };\n","import * as d3 from \"d3\";\n\nimport { Bundle } from \"./bundle\";\nimport { MetaData, MetaDataType } from \"./meta_data\";\nimport { Node } from \"./node\";\nimport { LinkPosition } from \"./position_cache\";\nimport { classify } from \"./util\";\n\nexport type Constructor = (data: LinkDataType, id: number, metaKeys: string[], linkWidth: (object) => number) => void;\n\nexport type LinkDataType = {\n  source: string;\n  target: string;\n  bundle?: number | string;\n  meta: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  class: string;\n};\n\nexport type LinkOptions = {\n  metaKeys: string[];\n  linkWidth: (object) => number;\n};\n\nexport class LinkBase {\n  private static groups: Record<string, number[]>;\n\n  public readonly bundle?: number | string;\n  public readonly source: number | Node;\n  public readonly target: number | Node;\n  public readonly metaList: MetaDataType[];\n  public readonly sourceMeta: MetaDataType[];\n  public readonly targetMeta: MetaDataType[];\n\n  private readonly extraClass: string;\n  private width: number;\n  private readonly defaultMargin: number;\n  private readonly labelXOffset: number;\n  private readonly labelYOffset: number;\n  private color: string;\n  private _margin: number;\n  private _shiftMultiplier: number;\n\n  constructor(data: LinkDataType, public id: number, private options: LinkOptions) {\n    this.source = Node.idByName(data.source);\n    this.target = Node.idByName(data.target);\n    this.bundle = data.bundle;\n    this.metaList = new MetaData(data.meta).get(options.metaKeys);\n    this.sourceMeta = new MetaData(data.meta, \"source\").get(options.metaKeys);\n    this.targetMeta = new MetaData(data.meta, \"target\").get(options.metaKeys);\n    this.extraClass = data.class || \"\";\n\n    if (typeof options.linkWidth === \"function\") this.width = options.linkWidth(data.meta) || 3;\n    else this.width = options.linkWidth || 3;\n\n    this.defaultMargin = 15;\n    this.labelXOffset = 20;\n    this.labelYOffset = 1.5; // em\n    this.color = \"#7a4e4e\";\n\n    this.register(id);\n  }\n\n  private register(id: number) {\n    Link.groups = Link.groups || {};\n\n    // source and target\n    const key = [this.source, this.target].sort().toString();\n    (Link.groups[key] || (Link.groups[key] = [])).push(id);\n  }\n\n  private isLabelledPath() {\n    return this.metaList.length > 0;\n  }\n\n  private isReversePath() {\n    return this.targetMeta.length > 0;\n  }\n\n  d() {\n    return `M ${(this.source as Node).x} ${(this.source as Node).y} L ${(this.target as Node).x} ${\n      (this.target as Node).y\n    }`;\n  }\n\n  private pathId() {\n    return `path${this.id}`;\n  }\n\n  public linkId() {\n    return `link${this.id}`;\n  }\n\n  private margin() {\n    if (!this._margin) {\n      const margin = window.getComputedStyle(document.getElementById(this.linkId())).margin;\n\n      // NOTE: Assuming that window.getComputedStyle() returns some value link \"10px\"\n      // or \"0px\" even when not defined in .css\n      if (!margin || margin === \"0px\") {\n        this._margin = this.defaultMargin;\n      } else {\n        this._margin = parseInt(margin);\n      }\n    }\n\n    return this._margin;\n  }\n\n  group(): number[] {\n    return Link.groups[[(this.source as Node).id, (this.target as Node).id].sort().toString()];\n  }\n\n  // OPTIMIZE: Implement better right-alignment of the path, especially for multi tspans\n  private tspanXOffset() {\n    switch (true) {\n      case this.isLabelledPath():\n        return 0;\n      case this.isReversePath():\n        return -this.labelXOffset;\n      default:\n        return this.labelXOffset;\n    }\n  }\n\n  private tspanYOffset() {\n    if (this.isLabelledPath()) return `${-this.labelYOffset + 0.7}em`;\n    else return `${this.labelYOffset}em`;\n  }\n\n  private rotate(bbox: SVGRect) {\n    if ((this.source as Node).x > (this.target as Node).x)\n      return `rotate(180 ${bbox.x + bbox.width / 2} ${bbox.y + bbox.height / 2})`;\n    else return \"rotate(0)\";\n  }\n\n  private split() {\n    if (!this.metaList && !this.sourceMeta && !this.targetMeta) return [this];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const meta: Record<string, any>[] = [];\n    [\"metaList\", \"sourceMeta\", \"targetMeta\"].forEach((key, i, keys) => {\n      if (this[key]) {\n        const duped = Object.assign(Object.create(this), this);\n\n        keys.filter((k) => k !== key).forEach((k) => (duped[k] = []));\n        meta.push(duped);\n      }\n    });\n\n    return meta;\n  }\n\n  private hasMeta() {\n    return this.metaList.length > 0 || this.sourceMeta.length > 0 || this.targetMeta.length > 0;\n  }\n\n  class() {\n    // eslint-disable-next-line max-len\n    return `link ${classify((this.source as Node).name)} ${classify((this.target as Node).name)} ${classify(\n      (this.source as Node).name,\n    )}-${classify((this.target as Node).name)} ${this.extraClass}`;\n  }\n\n  // after transform is applied\n  centerCoordinates() {\n    const link = d3.select(`.link #${this.linkId()}`).node() as SVGLineElement;\n    const bbox = link.getBBox();\n    const transform = link.transform.baseVal.consolidate();\n\n    return [\n      bbox.x + bbox.width / 2 + (transform?.matrix.e || 0),\n      bbox.y + bbox.height / 2 + (transform?.matrix.f || 0),\n    ];\n  }\n\n  angle() {\n    const link = d3.select(`.link #${this.linkId()}`).node() as SVGLineElement;\n    return (\n      (Math.atan2(link.y2.baseVal.value - link.y1.baseVal.value, link.x2.baseVal.value - link.x1.baseVal.value) * 180) /\n      Math.PI\n    );\n  }\n\n  static render(\n    linkLayer: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n    labelLayer: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n    links: Link[],\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): [d3.Selection<Link>, d3.Selection<Link>, d3.Selection<any>] {\n    // Render lines\n    const pathGroup = linkLayer\n      .selectAll(\".link\")\n      .data(links)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const link = pathGroup\n      .append(\"line\")\n      .attr(\"x1\", (d) => (d.source as Node).x)\n      .attr(\"y1\", (d) => (d.source as Node).y)\n      .attr(\"x2\", (d) => (d.target as Node).x)\n      .attr(\"y2\", (d) => (d.target as Node).y)\n      .attr(\"stroke\", (d) => d.color)\n      .attr(\"stroke-width\", (d) => d.width)\n      .attr(\"id\", (d) => d.linkId())\n      .on(\"mouseover.line\", (d) => textGroup.selectAll(`text.${d.pathId()}`).classed(\"hover\", true))\n      .on(\"mouseout.line\", (d) => textGroup.selectAll(`text.${d.pathId()}`).classed(\"hover\", false));\n\n    const path = pathGroup\n      .append(\"path\")\n      .attr(\"d\", (d) => d.d())\n      .attr(\"id\", (d) => d.pathId());\n\n    // Render texts\n    const textGroup = labelLayer\n      .selectAll(\".link\")\n      .data(links)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", (d) => d.class());\n\n    const text = textGroup\n      .selectAll(\"text\")\n      .data((d: Link) => d.split().filter((l: Link) => l.hasMeta()))\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", (d: Link) => d.pathId()); // Bind text with pathId as class\n\n    const textPath = text.append(\"textPath\").attr(\"xlink:href\", (d: Link) => `#${d.pathId()}`);\n\n    textPath.each(function (d: Link) {\n      Link.appendMetaText(this, d.metaList);\n      Link.appendMetaText(this, d.sourceMeta);\n      Link.appendMetaText(this, d.targetMeta);\n\n      if (d.isLabelledPath()) Link.center(this);\n\n      if (d.isReversePath()) Link.theOtherEnd(this);\n    });\n\n    Link.zoom(); // Initialize\n    return [link, path, text];\n  }\n\n  private static theOtherEnd(container: SVGGElement) {\n    d3.select(container).attr(\"class\", \"reverse\").attr(\"text-anchor\", \"end\").attr(\"startOffset\", \"100%\");\n  }\n\n  private static center(container: SVGGElement) {\n    d3.select(container).attr(\"class\", \"center\").attr(\"text-anchor\", \"middle\").attr(\"startOffset\", \"50%\");\n  }\n\n  private static appendMetaText(container: SVGGElement, meta: MetaDataType[]) {\n    meta.forEach((m) => {\n      d3.select(container)\n        .append(\"tspan\")\n        .attr(\"x\", (d: Link) => d.tspanXOffset())\n        .attr(\"dy\", (d: Link) => d.tspanYOffset())\n        .attr(\"class\", m.class)\n        .text(m.value);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static tick(link: d3.Selection<Link>, path: d3.Selection<Link>, label: d3.Selection<any>) {\n    link\n      .attr(\"x1\", (d) => (d.source as Node).x)\n      .attr(\"y1\", (d) => (d.source as Node).y)\n      .attr(\"x2\", (d) => (d.target as Node).x)\n      .attr(\"y2\", (d) => (d.target as Node).y);\n\n    if (path) path.attr(\"d\", (d) => d.d());\n    if (label)\n      label.attr(\"transform\", function (d: Link) {\n        return d.rotate(this.getBBox());\n      });\n  }\n\n  static zoom(scale?: number) {\n    let visibility = \"hidden\";\n    if (scale && scale > 1.5) visibility = \"visible\";\n\n    d3.selectAll(\".link text\").style(\"visibility\", visibility);\n  }\n\n  static setPosition(link: d3.Selection<Link>, position: LinkPosition[]) {\n    link\n      .attr(\"x1\", (d, i) => position[i].x1)\n      .attr(\"y1\", (d, i) => position[i].y1)\n      .attr(\"x2\", (d, i) => position[i].x2)\n      .attr(\"y2\", (d, i) => position[i].y2);\n  }\n\n  private shiftMultiplier() {\n    if (!this._shiftMultiplier) {\n      const members = this.group() || [];\n      this._shiftMultiplier = members.indexOf(this.id) - (members.length - 1) / 2;\n    }\n\n    return this._shiftMultiplier;\n  }\n\n  static shiftBundle(\n    link: d3.Selection<Link>,\n    path: d3.Selection<Link>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    label: d3.Selection<any>,\n    bundle: d3.Selection<Bundle>,\n  ) {\n    const transform = (d: Link) => d.shiftBundle(d.shiftMultiplier());\n\n    link.attr(\"transform\", transform);\n    path.attr(\"transform\", transform);\n    label.attr(\"transform\", transform);\n    Bundle.shiftBundle(bundle);\n  }\n\n  shiftBundle(multiplier: number) {\n    const gap = this.margin() * multiplier;\n\n    const x = (this.target as Node).x - (this.source as Node).x;\n    const y = (this.target as Node).y - (this.source as Node).y;\n    const length = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n\n    return `translate(${(-gap * y) / length}, ${(gap * x) / length})`;\n  }\n\n  static reset() {\n    Link.groups = null;\n  }\n}\n\nconst Eventable = (Base: typeof LinkBase) => {\n  class EventableLink extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(data: LinkDataType, id: number, options: LinkOptions) {\n      super(data, id, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static render(linkLayer, labelLayer, links): [d3.Selection<Link>, d3.Selection<Link>, d3.Selection<any>] {\n      const [link, path, text] = super.render(linkLayer, labelLayer, links);\n\n      link.each(function (this: SVGLineElement, d: Link & EventableLink) {\n        d.dispatch.rendered(this);\n      });\n\n      return [link, path, text];\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: (element: SVGGElement) => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return EventableLink;\n};\n\nconst Pluggable = (Base: typeof LinkBase) => {\n  class Link extends Base {\n    private static pluginConstructors: Constructor[] = [];\n\n    constructor(data: LinkDataType, id: number, options: LinkOptions) {\n      super(data, id, options);\n\n      for (const constructor of Link.pluginConstructors) {\n        // Call Pluggable at last as constructor may call methods defined in other classes\n        constructor.bind(this)(data, id, options);\n      }\n    }\n\n    static registerConstructor(func: Constructor) {\n      Link.pluginConstructors.push(func);\n    }\n  }\n\n  return Link;\n};\n\nclass EventableLink extends Eventable(LinkBase) {}\n\n// Call Pluggable at last as constructor may call methods defined in other classes\nclass Link extends Pluggable(EventableLink) {}\n\nexport { Link };\n","import * as d3 from \"d3\";\n\nimport { HrefFunction } from \"./diagram\";\n\ntype TooltipOptions = {\n  offsetX?: number;\n};\n\nexport abstract class Tooltip {\n  static href: HrefFunction;\n  protected static type: \"node\" | \"link\";\n\n  protected offsetX: number;\n  private visibility: string;\n\n  constructor(private eventType: string, options: TooltipOptions = {}) {\n    this.offsetX = options.offsetX !== undefined ? options.offsetX : 30;\n    this.visibility = \"hidden\";\n  }\n\n  protected tspanOffsetY(marginTop: boolean) {\n    return marginTop ? \"2em\" : \"1.1em\";\n  }\n\n  transform(): string {\n    throw new Error(\"not implemented\");\n  }\n\n  private class() {\n    return `tooltip ${(this.constructor as typeof Tooltip).type}-tooltip ${this.objectId()}`;\n  }\n\n  // Object id which has this tooltip\n  protected abstract objectId(boolean?): string;\n\n  private setVisibility(visibility: string | null) {\n    this.visibility = visibility === \"visible\" ? \"visible\" : \"hidden\";\n  }\n\n  // This doesn't actually toggle visibility, but returns string for toggled visibility\n  private toggleVisibility() {\n    this.visibility = this.visibility === \"hidden\" ? \"visible\" : \"hidden\";\n    return this.visibility;\n  }\n\n  private toggleVisibilityCallback(element: SVGGElement) {\n    return () => {\n      // Do nothing for dragging\n      if ((d3.event as MouseEvent).defaultPrevented) {\n        return;\n      }\n\n      d3.select(element)\n        .attr(\"visibility\", function (d) {\n          // Sync visibility before toggling. External script may change the visibility.\n          d.setVisibility(this.getAttribute(\"visibility\"));\n          return d.toggleVisibility();\n        })\n        // bootstrap.css unexpectedly sets \"opacity: 0\". Reset if it's visible.\n        .style(\"opacity\", function (d) {\n          return d.visibility === \"visible\" ? 1 : null;\n        });\n    };\n  }\n\n  private configureObjectClickCallback(element: SVGGElement) {\n    d3.select(`#${this.objectId(true)}`).on(\"click.tooltip\", this.toggleVisibilityCallback(element));\n  }\n\n  private configureObjectHoverCallback(element: SVGGElement) {\n    d3.select(`#${this.objectId(true)}`).on(\"mouseenter.tooltip\", this.toggleVisibilityCallback(element));\n    d3.select(`#${this.objectId(true)}`).on(\"mouseleave.tooltip\", this.toggleVisibilityCallback(element));\n  }\n\n  // Make tooltip selectable\n  private disableZoom(element: SVGGElement) {\n    d3.select(element).on(\"mousedown.tooltip\", () => {\n      (d3.event as MouseEvent).stopPropagation();\n    });\n  }\n\n  static setHref(callback: HrefFunction) {\n    if (callback) this.href = callback;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static render<T extends Tooltip>(layer: d3.Selection<any>, tooltips: T[]) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const cls = this;\n    const tooltip = layer\n      .selectAll(`.tooltip.${cls.type}-tooltip`)\n      .data(tooltips)\n      .enter()\n      .append(\"g\")\n      .attr(\"visibility\", (d) => d.visibility)\n      .attr(\"class\", (d) => d.class())\n      .attr(\"transform\", (d) => d.transform());\n\n    tooltip.each(function (d) {\n      cls.appendText(this);\n\n      if (typeof (d.constructor as typeof Tooltip).href === \"function\") {\n        cls.appendExternalLinkIcon(this);\n      }\n\n      if (d.eventType === \"hover\") {\n        d.configureObjectHoverCallback(this);\n      } else {\n        d.configureObjectClickCallback(this);\n      }\n\n      d.disableZoom(this);\n    });\n\n    return tooltip;\n  }\n\n  protected static fill(element: SVGPathElement) {\n    // If no \"fill\" style is defined\n    if (getComputedStyle(element).fill.match(/\\(0,\\s*0,\\s*0\\)/)) {\n      return \"#f8f1e9\";\n    }\n  }\n\n  protected static pathD(x: number, y: number, width: number, height: number) {\n    const round = 8;\n\n    return (\n      `M ${x},${y} L ${x + 20},${y - 10} ${x + 20},${y - 20}` +\n      `Q ${x + 20},${y - 20 - round} ${x + 20 + round},${y - 20 - round}` +\n      `L ${x + 20 + width - round},${y - 20 - round}` +\n      `Q ${x + 20 + width},${y - 20 - round} ${x + 20 + width},${y - 20}` +\n      `L ${x + 20 + width},${y - 20 + height}` +\n      `Q ${x + 20 + width},${y - 20 + height + round} ${x + 20 + width - round},${y - 20 + height + round}` +\n      `L ${x + 20 + round},${y - 20 + height + round}` +\n      `Q ${x + 20},${y - 20 + height + round} ${x + 20},${y - 20 + height}` +\n      `L ${x + 20},${y + 10} Z`\n    );\n  }\n\n  protected static appendText(container: SVGGElement) {\n    throw new Error(\"not implemented\");\n  }\n\n  /**\n   * Append \"name: value\" to the container\n   * @param container\n   * @param name\n   * @param value\n   * @param marginTop Render wide margin if true, ordinary marin if false, and no margin if undefined\n   * @protected\n   */\n  protected static appendNameValue<T extends Tooltip>(\n    container: d3.Selection<T>,\n    name: string,\n    value: (d: T) => string,\n    marginTop?: boolean,\n  ) {\n    container\n      .append(\"tspan\")\n      .attr(\"x\", (d) => d.offsetX + 40)\n      .attr(\"dy\", (d) => (marginTop === undefined ? undefined : d.tspanOffsetY(marginTop)))\n      .attr(\"class\", \"name\")\n      .text(`${name}:`);\n\n    container.append(\"tspan\").attr(\"dx\", 10).attr(\"class\", \"value\").text(value);\n  }\n\n  // modified https://tabler-icons.io/i/external-link\n  protected static appendExternalLinkIcon(container: SVGGElement) {\n    const bbox = container.getBBox();\n    const a = d3\n      .select(container)\n      .append(\"a\")\n      .attr(\"href\", (d) => (d.constructor as typeof Tooltip).href(d, (d.constructor as typeof Tooltip).type));\n    const size = 20;\n    const svg = a\n      .append(\"svg\")\n      .attr(\"x\", (d) => bbox.width + d.offsetX - 2 - size)\n      .attr(\"y\", bbox.height - 30 - size)\n      .attr(\"width\", size)\n      .attr(\"height\", size)\n      .attr(\"viewBox\", `0 0 24 24`)\n      .attr(\"stroke-width\", 2)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke-linecap\", \"round\")\n      .attr(\"stroke-linejoin\", \"round\")\n      .attr(\"class\", \"icon external-link\");\n    svg.append(\"path\").attr(\"d\", `M0 0h24v24H0z`).attr(\"stroke\", \"none\").attr(\"fill\", \"#fff\").attr(\"fill-opacity\", 0);\n    svg.append(\"path\").attr(\"d\", \"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6\");\n    svg.append(\"path\").attr(\"d\", \"M11 13l9 -9\");\n    svg.append(\"path\").attr(\"d\", \"M15 4h5v5\");\n  }\n\n  static followObject(tooltip: d3.Selection<Tooltip>) {\n    tooltip.attr(\"transform\", (d) => d.transform());\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { Link } from \"./link\";\nimport { Node } from \"./node\";\nimport { Tooltip } from \"./tooltip\";\nimport { classify } from \"./util\";\n\nexport class LinkTooltip extends Tooltip {\n  protected static type = \"link\" as const;\n\n  constructor(private link: Link, eventType: string) {\n    super(eventType, { offsetX: 10 });\n  }\n\n  transform() {\n    const [x, y] = this.link.centerCoordinates();\n    return `translate(${x}, ${y})`;\n  }\n\n  protected objectId(escape = false) {\n    let id = classify(this.link.linkId());\n\n    if (escape) {\n      id = CSS.escape(id);\n    }\n\n    return id;\n  }\n\n  protected static appendText(container: SVGGElement) {\n    const path = d3.select(container).append(\"path\") as d3.Selection<LinkTooltip>;\n    const text = d3.select(container).append(\"text\") as d3.Selection<LinkTooltip>;\n\n    LinkTooltip.appendNameValue(text, \"source\", (d) => (d.link.source as Node).name);\n    text.each(function (d) {\n      d.link.sourceMeta.forEach((m, i) => {\n        LinkTooltip.appendNameValue(text, m.class, m.value, false);\n      });\n    });\n\n    LinkTooltip.appendNameValue(text, \"target\", (d) => (d.link.target as Node).name, true);\n    text.each(function (d) {\n      d.link.targetMeta.forEach((m, i) => {\n        LinkTooltip.appendNameValue(text, m.class, m.value, false);\n      });\n    });\n\n    text.each(function (d) {\n      d.link.metaList.forEach((m, i) => {\n        LinkTooltip.appendNameValue(text, m.class, m.value, i === 0);\n      });\n\n      // Add \"d\" after bbox calculation\n      const bbox = this.getBBox();\n      path\n        .attr(\"d\", (d) => LinkTooltip.pathD(d.offsetX, 0, bbox.width + 40, bbox.height + 20))\n        .style(\"fill\", function () {\n          return LinkTooltip.fill(this);\n        });\n    });\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { Node } from \"./node\";\nimport { Tooltip } from \"./tooltip\";\n\nexport class NodeTooltip extends Tooltip {\n  protected static type = \"node\" as const;\n\n  constructor(private node: Node, eventType: string) {\n    super(eventType);\n  }\n\n  transform() {\n    return `translate(${this.node.x}, ${this.node.y})`;\n  }\n\n  protected objectId(escape = false) {\n    let id = this.node.nodeId();\n\n    if (escape) {\n      id = CSS.escape(id);\n    }\n\n    return id;\n  }\n\n  protected static appendText(container: SVGGElement) {\n    const path = d3.select(container).append(\"path\") as d3.Selection<NodeTooltip>;\n    const text = d3.select(container).append(\"text\") as d3.Selection<NodeTooltip>;\n\n    NodeTooltip.appendNameValue(text, \"node\", (d) => d.node.name);\n\n    text.each(function (d) {\n      d.node.metaList.forEach((m, i) => {\n        NodeTooltip.appendNameValue(text, m.class, m.value, i === 0);\n      });\n\n      // Add \"d\" after bbox calculation\n      const bbox = this.getBBox();\n      path\n        .attr(\"d\", (d) => NodeTooltip.pathD(d.offsetX, 0, bbox.width + 40, bbox.height + 20))\n        .style(\"fill\", function () {\n          return NodeTooltip.fill(this);\n        });\n    });\n  }\n}\n","import * as d3 from \"d3\";\n\nimport { InetHengeDataType } from \"./diagram\";\nimport { Group } from \"./group\";\nimport { Link } from \"./link\";\nimport { Node } from \"./node\";\n\nconst cloneDeep = require(\"lodash.clonedeep\"); // eslint-disable-line @typescript-eslint/no-var-requires\nconst md5 = require(\"md5\"); // eslint-disable-line @typescript-eslint/no-var-requires\n\nexport type GroupPosition = { x: number; y: number; width: number; height: number };\nexport type NodePosition = { x: number; y: number };\nexport type LinkPosition = { x1: number; y1: number; x2: number; y2: number };\ntype ExtendedInetHengeDataType = InetHengeDataType & { pop: string };\ntype CacheDataType = {\n  md5: string;\n  group: GroupPosition[];\n  node: NodePosition[];\n  link: LinkPosition[];\n};\n\nexport class PositionCache {\n  private readonly cachedMd5: string;\n  public group: GroupPosition[];\n  public node: NodePosition[];\n  public link: LinkPosition[];\n\n  constructor(public data: InetHengeDataType, public pop?: RegExp, md5?: string) {\n    // NOTE: properties below can be undefined\n    this.cachedMd5 = md5;\n  }\n\n  private static getAll(): Record<string, CacheDataType> {\n    return JSON.parse(localStorage.getItem(\"positionCache\")) || {};\n  }\n\n  private static get() {\n    return this.getAll()[location.pathname] || ({} as CacheDataType);\n  }\n\n  save(group: d3.Selection<Group>, node: d3.Selection<Node>, link: d3.Selection<Link>) {\n    const cache = PositionCache.getAll();\n    cache[location.pathname] = {\n      md5: this.md5(),\n      group: this.groupPosition(group),\n      node: this.nodePosition(node),\n      link: this.linkPosition(link),\n    };\n\n    localStorage.setItem(\"positionCache\", JSON.stringify(cache));\n  }\n\n  private md5(data?: ExtendedInetHengeDataType, pop?: RegExp) {\n    data = cloneDeep(data || this.data) as ExtendedInetHengeDataType;\n    data.pop = String(pop || this.pop);\n    if (data.pop === \"undefined\") {\n      data.pop = \"null\"; // NOTE: unify undefined with null\n    }\n\n    data.nodes &&\n      data.nodes.forEach((i) => {\n        delete i.icon;\n        delete i.meta;\n      });\n    data.links &&\n      data.links.forEach((i) => {\n        delete i.meta;\n      });\n\n    return md5(JSON.stringify(data)) as string;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private groupPosition(group: d3.Selection<any>) {\n    const position: GroupPosition[] = [];\n\n    group.each((d) => {\n      position.push({\n        x: d.bounds.x,\n        y: d.bounds.y,\n        width: d.bounds.width(),\n        height: d.bounds.height(),\n      });\n    });\n\n    return position;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private nodePosition(node: d3.Selection<any>) {\n    const position: NodePosition[] = [];\n\n    node.each((d: Node) => {\n      position.push({\n        x: d.x,\n        y: d.y,\n      });\n    });\n\n    return position;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private linkPosition(link: d3.Selection<any>) {\n    const position: LinkPosition[] = [];\n\n    link.each((d) => {\n      position.push({\n        x1: d.source.x,\n        y1: d.source.y,\n        x2: d.target.x,\n        y2: d.target.y,\n      });\n    });\n\n    return position;\n  }\n\n  private match(data: InetHengeDataType, pop: RegExp) {\n    return this.cachedMd5 === this.md5(data as ExtendedInetHengeDataType, pop);\n  }\n\n  static load(data: InetHengeDataType, pop: RegExp) {\n    const cache = this.get();\n    if (cache) {\n      const position = new PositionCache(data, pop, cache.md5);\n      if (position.match(data, pop)) {\n        // if data and pop match saved md5\n        position.group = cache.group;\n        position.node = cache.node;\n        position.link = cache.link;\n\n        return position;\n      }\n    }\n  }\n}\n","import \"./hack_cola\";\n\nimport * as d3 from \"d3\";\n\nimport { WebColaConstraint } from \"../types/WebCola\";\nimport { Bundle } from \"./bundle\";\nimport { Group, GroupOptions } from \"./group\";\nimport { Link, LinkDataType } from \"./link\";\nimport { LinkTooltip } from \"./link_tooltip\";\nimport { Node, NodeDataType, NodeOptions } from \"./node\";\nimport { NodeTooltip } from \"./node_tooltip\";\nimport { NodePosition, PositionCache } from \"./position_cache\";\n\nconst cola = require(\"cola\"); // eslint-disable-line @typescript-eslint/no-var-requires\n\ntype LinkWidthFunction = (object) => number;\nexport type HrefFunction = (object, type?: \"node\" | \"link\") => string;\nexport type InetHengeDataType = { nodes: NodeDataType[]; links: LinkDataType[] };\n// Fix @types/d3/index.d.ts. Should be \"d3.scale.Ordinal<number, string>\" but \"d3.scale.Ordinal<string, string>\" somehow\nexport type Color = d3.scale.Ordinal<string, string>;\ntype PositionHint = {\n  nodeCallback?: (node: Node) => NodePosition;\n};\ntype PositionConstraint = {\n  axis: \"x\" | \"y\";\n  nodesCallback: (nodes: Node[]) => Node[][];\n};\ntype DiagramOptionType = {\n  // Options publicly available\n  width: number;\n  height: number;\n  nodeWidth: number;\n  nodeHeight: number;\n  groupPadding: number;\n  initialTicks: number;\n  ticks: number;\n  positionCache: boolean | string;\n  positionHint: PositionHint;\n  positionConstraints: PositionConstraint[];\n  bundle: boolean;\n  pop: RegExp;\n  distance: LinkWidthFunction;\n  tooltip: string;\n  href: HrefFunction;\n\n  // Internal options\n  selector: string;\n  urlOrData: string | InetHengeDataType;\n  groupPattern: RegExp | undefined;\n  color: Color;\n  maxTicks: number;\n\n  meta: string[];\n};\n\nclass DiagramBase {\n  public tickCallback: () => void;\n\n  private options: DiagramOptionType;\n  private readonly setDistance: (object) => number;\n  private getLinkWidth: LinkWidthFunction;\n  private zoom: d3.behavior.Zoom<unknown>;\n  private cola;\n  private uniqueUrl: string;\n  private positionCache: PositionCache;\n  private positionHint: PositionHint;\n  private indicator: d3.Selection<any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n  private initialTranslate: [number, number];\n  private initialScale: number;\n  private svg: d3.Selection<any>; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  constructor(container: string, urlOrData: string | InetHengeDataType, options: DiagramOptionType) {\n    options ||= {} as DiagramOptionType;\n    this.options = Object.assign({}, options);\n    this.options.selector = container;\n    this.options.urlOrData = urlOrData;\n    this.options.groupPattern = options.pop;\n    this.options.width = options.width || 960;\n    this.options.height = options.height || 600;\n    this.options.positionHint = options.positionHint || {};\n    this.options.positionConstraints = options.positionConstraints || [];\n\n    this.options.color = d3.scale.category20();\n    this.options.initialTicks = options.initialTicks || 0;\n    this.options.maxTicks = options.ticks || 1000;\n    // NOTE: true or 'fixed' (experimental) affects behavior\n    this.options.positionCache = \"positionCache\" in options ? options.positionCache : true;\n    // NOTE: This is an experimental option\n    this.options.bundle = \"bundle\" in options ? options.bundle : false;\n    this.options.tooltip = options.tooltip;\n\n    this.setDistance = this.linkDistance(options.distance || 150);\n    NodeTooltip.setHref(options.href);\n    LinkTooltip.setHref(options.href);\n  }\n\n  init(...meta: string[]) {\n    this.options.meta = meta;\n    this.cola = this.initCola();\n    this.svg = this.initSvg();\n\n    this.displayLoadMessage();\n\n    if (typeof this.options.urlOrData === \"object\") {\n      setTimeout(() => {\n        // Run asynchronously\n        this.render(this.options.urlOrData as InetHengeDataType);\n      });\n    } else {\n      d3.json(this.url(), (error, data) => {\n        if (error) {\n          console.error(error);\n          this.showMessage(`Failed to load \"${this.url()}\"`);\n        }\n\n        this.render(data);\n      });\n    }\n  }\n\n  initCola() {\n    return cola\n      .d3adaptor()\n      .avoidOverlaps(true)\n      .handleDisconnected(false)\n      .size([this.options.width, this.options.height]);\n  }\n\n  initSvg() {\n    this.zoom = d3.behavior.zoom();\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const container: d3.Selection<any> = d3\n      .select(this.options.selector)\n      .append(\"svg\")\n      .attr(\"width\", this.options.width)\n      .attr(\"height\", this.options.height)\n      .append(\"g\")\n      .call(this.zoom.on(\"zoom\", () => this.zoomCallback(container)))\n      .append(\"g\");\n\n    container\n      .append(\"rect\")\n      .attr(\"width\", this.options.width * 10) // 10 is huge enough\n      .attr(\"height\", this.options.height * 10)\n      .attr(\"transform\", `translate(-${this.options.width * 5}, -${this.options.height * 5})`)\n      .style(\"opacity\", 0);\n\n    return container;\n  }\n\n  render(data: InetHengeDataType) {\n    try {\n      const nodes = data.nodes\n        ? data.nodes.map(\n            (n, i) =>\n              new Node(n, i, {\n                width: this.options.nodeWidth,\n                height: this.options.nodeHeight,\n                metaKeys: this.options.meta,\n                color: this.options.color,\n                tooltip: !!this.options.tooltip,\n              } as NodeOptions),\n          )\n        : [];\n      const links = data.links\n        ? Bundle.sortByBundle(data.links).map(\n            (l, i) =>\n              new Link(l, i, {\n                metaKeys: this.options.meta,\n                linkWidth: this.getLinkWidth,\n              }),\n          )\n        : [];\n      const groups = Group.divide(nodes, this.options.groupPattern, {\n        color: this.options.color,\n        padding: this.options.groupPadding,\n      } as GroupOptions);\n      const nodeTooltips = nodes.map((n) => new NodeTooltip(n, this.options.tooltip));\n      const linkTooltips = links.map((l) => new LinkTooltip(l, this.options.tooltip));\n      const bundles = Bundle.divide(links);\n\n      this.cola.nodes(nodes).links(links).groups(groups);\n      this.applyConstraints(this.options.positionConstraints, nodes);\n      this.setDistance(this.cola);\n\n      // Start to update Link.source and Link.target with Node object after\n      // initial layout iterations without any constraints.\n      this.cola.start(this.options.initialTicks);\n\n      const groupLayer = this.svg.append(\"g\").attr(\"id\", \"groups\");\n      const linkLayer = this.svg.append(\"g\").attr(\"id\", \"links\");\n      const nodeLayer = this.svg.append(\"g\").attr(\"id\", \"nodes\");\n      const linkLabelLayer = this.svg.append(\"g\").attr(\"id\", \"link-labels\");\n      const tooltipLayer = this.svg.append(\"g\").attr(\"id\", \"tooltips\");\n\n      const [link, path, label] = Link.render(linkLayer, linkLabelLayer, links);\n      const bundle = Bundle.render(linkLayer, bundles);\n\n      const group = Group.render(groupLayer, groups).call(\n        this.cola\n          .drag()\n          .on(\"dragstart\", DiagramBase.dragstartCallback)\n          .on(\"drag\", () => {\n            if (this.options.bundle) {\n              Link.shiftBundle(link, path, label, bundle);\n            }\n\n            NodeTooltip.followObject(nodeTooltip);\n            LinkTooltip.followObject(linkTooltip);\n          }),\n      );\n\n      const node = Node.render(nodeLayer, nodes).call(\n        this.cola\n          .drag()\n          .on(\"dragstart\", DiagramBase.dragstartCallback)\n          .on(\"drag\", () => {\n            if (this.options.bundle) {\n              Link.shiftBundle(link, path, label, bundle);\n            }\n\n            NodeTooltip.followObject(nodeTooltip);\n            LinkTooltip.followObject(linkTooltip);\n          }),\n      );\n\n      // without path calculation\n      this.configureTick(group, node, link);\n\n      this.positionCache = PositionCache.load(data, this.options.groupPattern);\n      if (this.options.positionCache && this.positionCache) {\n        // NOTE: Evaluate only when positionCache: true or 'fixed', and\n        //       when the stored position cache matches a pair of given data and pop\n        Group.setPosition(group, this.positionCache.group);\n        Node.setPosition(node, this.positionCache.node);\n        Link.setPosition(link, this.positionCache.link);\n      } else {\n        if (this.options.positionHint.nodeCallback) {\n          Node.setPosition(\n            node,\n            node.data().map((d) => this.options.positionHint.nodeCallback(d)),\n          );\n          this.cola.start(); // update internal positions of objects before ticks forward\n        }\n\n        this.ticksForward();\n        this.positionCache = new PositionCache(data, this.options.groupPattern);\n        this.savePosition(group, node, link);\n      }\n\n      this.hideLoadMessage();\n\n      this.configureTick(group, node, link, path, label); // render path\n      this.removeConstraints();\n\n      this.cola.start();\n      if (this.options.bundle) {\n        Link.shiftBundle(link, path, label, bundle);\n      }\n\n      path.attr(\"d\", (d) => d.d()); // make sure path calculation is done\n      DiagramBase.freeze(node);\n\n      const nodeTooltip = NodeTooltip.render<NodeTooltip>(tooltipLayer, nodeTooltips);\n      const linkTooltip = LinkTooltip.render<LinkTooltip>(tooltipLayer, linkTooltips);\n\n      // NOTE: This is an experimental option\n      if (this.options.positionCache === \"fixed\") {\n        this.cola.on(\"end\", () => {\n          this.savePosition(group, node, link);\n        });\n      }\n    } catch (e) {\n      this.showMessage(e);\n      throw e;\n    }\n  }\n\n  linkWidth(func: LinkWidthFunction) {\n    this.getLinkWidth = func;\n  }\n\n  attr(name: string, value: string) {\n    if (!this.initialTranslate) {\n      this.saveInitialTranslate();\n    }\n\n    this.svg.attr(name, value);\n\n    const transform = d3.transform(this.svg.attr(\"transform\")); // FIXME: This is valid only for d3.js v3\n    this.zoom.scale(transform.scale[0]); // NOTE: Assuming ky = kx\n    this.zoom.translate(transform.translate);\n  }\n\n  destroy() {\n    d3.select(\"body svg\").remove();\n    Node.reset();\n    Link.reset();\n    Bundle.reset();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private static freeze(container: d3.Selection<any>) {\n    container.each((d) => (d.fixed = true));\n  }\n\n  private static dragstartCallback() {\n    (d3.event as d3.ZoomEvent).sourceEvent.stopPropagation();\n  }\n\n  private linkDistance(distance: number | ((any) => number)) {\n    if (typeof distance === \"function\") return distance;\n    else return (cola) => cola.linkDistance(distance);\n  }\n\n  private url() {\n    if (this.uniqueUrl) {\n      return this.uniqueUrl;\n    }\n\n    this.uniqueUrl = `${this.options.urlOrData}?${new Date().getTime()}`;\n    return this.uniqueUrl;\n  }\n\n  private configureTick(\n    group: d3.Selection<Group>,\n    node: d3.Selection<Node>,\n    link: d3.Selection<Link>,\n    path?: d3.Selection<Link>,\n    label?: d3.Selection<any>, // eslint-disable-line @typescript-eslint/no-explicit-any\n  ) {\n    // this.cola.on() overrides existing listener, not additionally register it.\n    // May need to call it manually.\n    this.tickCallback = () => {\n      Node.tick(node);\n      Link.tick(link, path, label);\n      Group.tick(group);\n    };\n\n    this.cola.on(\"tick\", this.tickCallback);\n  }\n\n  private ticksForward(count?: number) {\n    count = count || this.options.maxTicks;\n\n    for (let i = 0; i < count; i++) this.cola.tick();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private zoomCallback(container: d3.Selection<any>) {\n    if (!this.initialTranslate) {\n      this.saveInitialTranslate();\n    }\n\n    const event = d3.event as d3.ZoomEvent;\n\n    event.scale *= this.initialScale;\n    event.translate[0] += this.initialTranslate[0];\n    event.translate[1] += this.initialTranslate[1];\n\n    Link.zoom(event.scale);\n    container.attr(\"transform\", `translate(${event.translate}) scale(${event.scale})`);\n  }\n\n  private displayLoadMessage() {\n    this.indicator = this.svg\n      .append(\"text\")\n      .attr(\"x\", this.options.width / 2)\n      .attr(\"y\", this.options.height / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Simulating. Just a moment ...\");\n  }\n\n  private hideLoadMessage() {\n    if (this.indicator) this.indicator.remove();\n  }\n\n  private showMessage(message: string) {\n    if (this.indicator) this.indicator.text(message);\n  }\n\n  private saveInitialTranslate() {\n    const transform = d3.transform(this.svg.attr(\"transform\")); // FIXME: This is valid only for d3.js v3\n    this.initialScale = transform.scale[0]; // NOTE: Assuming ky = kx\n    this.initialTranslate = transform.translate;\n  }\n\n  private savePosition(group: d3.Selection<Group>, node: d3.Selection<Node>, link: d3.Selection<Link>) {\n    this.positionCache.save(group, node, link);\n  }\n\n  private applyConstraints(constraints: PositionConstraint[], nodes: Node[]) {\n    const colaConstraints: WebColaConstraint[] = [];\n\n    for (const constraint of constraints) {\n      for (const ns of constraint.nodesCallback(nodes)) {\n        colaConstraints.push({\n          type: \"alignment\",\n          axis: constraint.axis,\n          offsets: ns.map((n) => ({ node: n.id, offset: 0 })),\n        });\n      }\n    }\n\n    this.cola.constraints(colaConstraints);\n  }\n\n  private removeConstraints() {\n    this.cola.constraints([]);\n  }\n}\n\nconst Pluggable = (Base: typeof DiagramBase) => {\n  class Diagram extends Base {\n    static plugin(cls, options = {}) {\n      cls.load(Group, Node, Link, options);\n    }\n  }\n\n  return Diagram;\n};\n\nconst Eventable = (Base: typeof DiagramBase) => {\n  class Diagram extends Base {\n    private dispatch: d3.Dispatch;\n\n    constructor(container: string, urlOrData: string | InetHengeDataType, options: DiagramOptionType) {\n      super(container, urlOrData, options);\n\n      this.dispatch = d3.dispatch(\"rendered\");\n    }\n\n    render(arg) {\n      super.render(arg);\n      this.dispatch.rendered();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    on(name: string, callback: () => any) {\n      this.dispatch.on(name, callback);\n    }\n  }\n\n  return Diagram;\n};\n\nclass PluggableDiagram extends Pluggable(DiagramBase) {}\n\nexport class Diagram extends Eventable(PluggableDiagram) {}\n"],"names":["root","factory","exports","module","require","define","amd","a","i","self","__WEBPACK_EXTERNAL_MODULE__893__","__WEBPACK_EXTERNAL_MODULE__109__","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","length","push","charCodeAt","String","fromCharCode","join","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","randomBytes","Math","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","isBuffer","obj","readFloatLE","slice","isSlowBuffer","_isBuffer","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reFlags","reIsHostCtor","reIsUint","cloneableTags","freeGlobal","g","Object","freeSelf","Function","freeExports","nodeType","freeModule","moduleExports","addMapEntry","map","pair","set","addSetEntry","value","add","arrayReduce","array","iteratee","accumulator","initAccum","index","isHostObject","result","e","mapToArray","Array","size","forEach","key","overArg","func","transform","arg","setToArray","uid","arrayProto","prototype","funcProto","objectProto","coreJsData","maskSrcKey","exec","keys","IE_PROTO","funcToString","hasOwnProperty","objectToString","reIsNative","RegExp","call","Buffer","undefined","Symbol","Uint8Array","getPrototype","getPrototypeOf","objectCreate","create","propertyIsEnumerable","splice","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","nativeKeys","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","this","clear","entry","ListCache","MapCache","Stack","__data__","assignValue","object","objValue","eq","assocIndexOf","baseClone","isDeep","isFull","customizer","stack","isObject","isArr","isArray","input","initCloneArray","source","copyArray","tag","getTag","isFunc","buffer","copy","cloneBuffer","isPrototype","proto","initCloneObject","copyObject","getSymbols","copySymbols","baseAssign","cloneFunc","symbol","Ctor","cloneArrayBuffer","dataView","byteOffset","byteLength","cloneDataView","typedArray","cloneTypedArray","cloneMap","regexp","lastIndex","cloneRegExp","cloneSet","initCloneByTag","stacked","get","props","keysFunc","symbolsFunc","values","offset","arrayPush","baseGetAllKeys","getAllKeys","arrayEach","subValue","arrayBuffer","newValue","getMapData","type","data","getValue","isFunction","test","baseIsNative","has","pop","cache","pairs","LARGE_ARRAY_SIZE","isIndex","other","ArrayBuffer","resolve","ctorString","isArrayLike","isLength","inherited","isObjectLike","isArrayLikeObject","isArguments","baseTimes","skipIndexes","arrayLikeKeys","baseKeys","md5","message","options","encoding","m","l","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","t","_blocksize","_digestsize","Error","digestbytes","asBytes","asString","jaccardLinkLengths","links","la","w","f","neighbours","addNeighbours","u","v","getSourceIndex","getTargetIndex","getNeighbours","setLength","min","intersectionCount","unionCount","computeLinkLengths","cola","Layout","idealLength","_this","linkDistance","_linkLengthCalculator","_links","linkAccessor","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","id","loaded","__webpack_modules__","definition","o","defineProperty","enumerable","globalThis","window","prop","r","toStringTag","nmd","paths","children","Bundle","color","width","space","divide","groups","bundle","groupKey","ids","link","JSON","stringify","target","render","linkLayer","bundles","selectAll","enter","append","attr","class","bundleId","reset","sortByBundle","sort","first","centerCoordinates","last","gap","sqrt","angle","start","end","shiftMultiplier","_shiftMultiplier","members","group","reduce","sum","shiftBundle","classify","string","toLowerCase","GroupBase","name","padding","bounds","y","groupWidth","groupHeight","height","nodes","pattern","register","node","parent","Group","match","layer","style","text","tick","setPosition","position","WebColable","Base","super","leaves","Eventable","dispatch","each","rendered","on","callback","Pluggable","pluginConstructors","bind","registerConstructor","WebColableGroup","EventableGroup","MetaData","extraKey","filter","k","sliceWithExtraKey","sliceWithoutExtraKey","NodeBase","icon","metaList","meta","metaKeys","extraClass","tspanOffset","Node","all","nodeWidth","nodeHeight","xForText","yForText","idByName","nodeId","appendImage","appendRect","appendText","container","tooltip","appendMetaText","EventableNode","LinkBase","sourceMeta","targetMeta","linkWidth","defaultMargin","labelXOffset","labelYOffset","Link","isLabelledPath","isReversePath","pathId","linkId","margin","_margin","getComputedStyle","document","getElementById","tspanXOffset","tspanYOffset","rotate","bbox","split","duped","assign","hasMeta","getBBox","baseVal","consolidate","matrix","atan2","y2","y1","x2","x1","PI","labelLayer","pathGroup","textGroup","classed","path","center","theOtherEnd","zoom","label","scale","visibility","multiplier","EventableLink","Tooltip","eventType","offsetX","tspanOffsetY","marginTop","objectId","setVisibility","toggleVisibility","toggleVisibilityCallback","element","defaultPrevented","getAttribute","configureObjectClickCallback","configureObjectHoverCallback","disableZoom","stopPropagation","setHref","href","tooltips","cls","appendExternalLinkIcon","fill","pathD","appendNameValue","svg","followObject","LinkTooltip","CSS","NodeTooltip","cloneDeep","PositionCache","cachedMd5","getAll","parse","localStorage","getItem","location","pathname","save","groupPosition","nodePosition","linkPosition","setItem","load","DiagramBase","urlOrData","selector","groupPattern","positionHint","positionConstraints","category20","initialTicks","maxTicks","ticks","positionCache","setDistance","distance","init","initCola","initSvg","displayLoadMessage","setTimeout","url","error","console","showMessage","d3adaptor","avoidOverlaps","handleDisconnected","zoomCallback","getLinkWidth","groupPadding","nodeTooltips","linkTooltips","applyConstraints","groupLayer","nodeLayer","linkLabelLayer","tooltipLayer","drag","dragstartCallback","nodeTooltip","linkTooltip","configureTick","nodeCallback","ticksForward","savePosition","hideLoadMessage","removeConstraints","freeze","initialTranslate","saveInitialTranslate","translate","destroy","remove","fixed","sourceEvent","uniqueUrl","Date","getTime","tickCallback","count","event","initialScale","indicator","constraints","colaConstraints","constraint","ns","nodesCallback","axis","offsets","PluggableDiagram","plugin","Diagram"],"sourceRoot":""}